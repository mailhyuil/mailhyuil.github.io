"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["165225"],{35012:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>s,toc:()=>d,default:()=>u,metadata:()=>t,assets:()=>l,contentTitle:()=>i});var t=JSON.parse('{"id":"testing/load testing k6 grafana + influxdb","title":"load testing k6 grafana + influxdb","description":"docker-compose.yml","source":"@site/docs/testing/load testing k6 grafana + influxdb.md","sourceDirName":"testing","slug":"/testing/load testing k6 grafana + influxdb","permalink":"/docs/testing/load testing k6 grafana + influxdb","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"load testing k6 RPS & TPS & Latency & Throughput","permalink":"/docs/testing/load testing k6 RPS & TPS & Latency & Throughput"},"next":{"title":"load testing k6","permalink":"/docs/testing/load testing k6"}}'),a=r(447259),o=r(255511);let s={},i="load testing k6 grafana + influxdb",l={},d=[{value:"docker-compose.yml",id:"docker-composeyml",level:2},{value:"run",id:"run",level:2}];function c(n){let e={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,o.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"load-testing-k6-grafana--influxdb",children:"load testing k6 grafana + influxdb"})}),"\n",(0,a.jsx)(e.h2,{id:"docker-composeyml",children:"docker-compose.yml"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yml",children:'services:\r\n  influxdb:\r\n    image: influxdb:latest\r\n    ports:\r\n      - "8086:8086"\r\n    volumes:\r\n      - influxdb-storage:/var/lib/influxdb\r\n    environment:\r\n      - INFLUXDB_DB=db0\r\n      - INFLUXDB_ADMIN_USER=${INFLUXDB_USERNAME}\r\n      - INFLUXDB_ADMIN_PASSWORD=${INFLUXDB_PASSWORD}\r\n  chronograf:\r\n    image: chronograf:latest\r\n    ports:\r\n      - "127.0.0.1:8888:8888"\r\n    volumes:\r\n      - chronograf-storage:/var/lib/chronograf\r\n    depends_on:\r\n      - influxdb\r\n    environment:\r\n      - INFLUXDB_URL=http://influxdb:8086\r\n      - INFLUXDB_USERNAME=${INFLUXDB_USERNAME}\r\n      - INFLUXDB_PASSWORD=${INFLUXDB_PASSWORD}\r\n  grafana:\r\n    image: grafana/grafana:latest\r\n    ports:\r\n      - "3000:3000"\r\n    volumes:\r\n      - grafana-storage:/var/lib/grafana\r\n      - ./grafana-provisioning/:/etc/grafana/provisioning\r\n    depends_on:\r\n      - influxdb\r\n    environment:\r\n      - GF_SECURITY_ADMIN_USER=${GRAFANA_USERNAME}\r\n      - GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_PASSWORD}\r\nvolumes:\r\n  influxdb-storage:\r\n  chronograf-storage:\r\n  grafana-storage:\n'})}),"\n",(0,a.jsx)(e.h2,{id:"run",children:"run"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sh",children:"k6 run --out influxdb=http://localhost:8086/k6 script.ts\n"})})]})}function u(n={}){let{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(c,{...n})}):c(n)}},255511:function(n,e,r){r.d(e,{R:()=>s,x:()=>i});var t=r(596363);let a={},o=t.createContext(a);function s(n){let e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);