"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[839147],{529087:(r,e,n)=>{n.d(e,{R:()=>i,x:()=>o});var t=n(596363);const a={},s=t.createContext(a);function i(r){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function o(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(a):r.components||a:i(r.components),t.createElement(s.Provider,{value:e},r.children)}},898311:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"db-prisma/prisma cursor pagination","title":"prisma cursor pagination","description":"prisma","source":"@site/docs/db-prisma/prisma cursor pagination.md","sourceDirName":"db-prisma","slug":"/db-prisma/prisma cursor pagination","permalink":"/docs/db-prisma/prisma cursor pagination","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"prisma create vs createMany","permalink":"/docs/db-prisma/prisma create vs createMany"},"next":{"title":"prisma cursor","permalink":"/docs/db-prisma/prisma cursor"}}');var a=n(447259),s=n(529087);const i={},o="prisma cursor pagination",c={},d=[{value:"prisma",id:"prisma",level:2},{value:"service",id:"service",level:2}];function p(r){const e={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,s.R)(),...r.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"prisma-cursor-pagination",children:"prisma cursor pagination"})}),"\n",(0,a.jsx)(e.h2,{id:"prisma",children:"prisma"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-prisma",children:'model Post {\r\n  id         String     @id @default(cuid())\r\n  title      String\r\n  content    String\r\n  createdAt  DateTime   @default(now()) @map("created_at")\r\n  updatedAt  DateTime   @updatedAt @map("updated_at")\r\n  @@unique([createdAt(sort: Desc), id])\r\n  @@map("posts")\r\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"service",children:"service"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:'export class PostCursorDTO {\r\n  id: string;\r\n  createdAt: Date;\r\n}\r\n\r\nexport function pagination(cursor: PostCursorDTO) {\r\n  await this.prisma.user.findMany({\r\n    orderBy: {\r\n      createdAt: "desc",\r\n    },\r\n    take: 10, // \uac00\uc838\uc62c \uc544\uc774\ud15c \uc218\r\n    cursor: {\r\n      createdAt_id: cursor ? cursor : undefined,\r\n    },\r\n    skip: 1,\r\n  });\r\n}\n'})})]})}function u(r={}){const{wrapper:e}={...(0,s.R)(),...r.components};return e?(0,a.jsx)(e,{...r,children:(0,a.jsx)(p,{...r})}):p(r)}}}]);