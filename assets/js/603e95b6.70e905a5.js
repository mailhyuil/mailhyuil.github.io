"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["501632"],{252771:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>i,toc:()=>l,default:()=>m,metadata:()=>t,assets:()=>c,contentTitle:()=>o});var t=JSON.parse('{"id":"x interactive/phaser3 + angular","title":"phaser3 + angular","description":"install","source":"@site/docs/x interactive/phaser3 + angular.md","sourceDirName":"x interactive","slug":"/x interactive/phaser3 + angular","permalink":"/docs/x interactive/phaser3 + angular","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"p5js \uD798(Force)","permalink":"/docs/x interactive/p5js \uD798"},"next":{"title":"Phaser3","permalink":"/docs/x interactive/phaser3"}}'),a=r(447259),s=r(255511);let i={},o="phaser3 + angular",c={},l=[{value:"install",id:"install",level:2},{value:"tsconfig.json",id:"tsconfigjson",level:2},{value:"component.ts",id:"componentts",level:2}];function p(n){let e={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,s.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"phaser3--angular",children:"phaser3 + angular"})}),"\n",(0,a.jsx)(e.h2,{id:"install",children:"install"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"yarn add phaser\n"})}),"\n",(0,a.jsx)(e.h2,{id:"tsconfigjson",children:"tsconfig.json"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-json",children:'"compilerOptions": {\r\n    "lib": ["ES2022", "dom", "ES5", "ScriptHost"],\r\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"componentts",children:"component.ts"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:'import { Component, OnInit } from "@angular/core";\r\nimport { Game } from "phaser";\r\nimport { Scene, Types } from "phaser";\r\n@Component({\r\n  selector: "app-phaser",\r\n  templateUrl: "./phaser.component.html",\r\n  styleUrls: ["./phaser.component.scss"],\r\n})\r\nexport class PhaserComponent extends Scene implements OnInit {\r\n  config: Types.Core.GameConfig;\r\n  override game: Game;\r\n  constructor() {\r\n    super();\r\n    this.config = {\r\n      type: Phaser.AUTO,\r\n      parent: "phaser-example",\r\n      pixelArt: true,\r\n      width: 1000,\r\n      height: 800,\r\n      scene: PhaserComponent,\r\n    };\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.game = new Phaser.Game(this.config);\r\n  }\r\n\r\n  preload() {\r\n    this.load.atlas("gems", "favicon.ico", "assets/img.jpg");\r\n  }\r\n\r\n  create() {\r\n    //  Define the animations first\r\n    this.anims.create({\r\n      key: "ruby",\r\n      frames: this.anims.generateFrameNames("gems", {\r\n        prefix: "ruby_",\r\n        end: 6,\r\n        zeroPad: 4,\r\n      }),\r\n      repeat: -1,\r\n    });\r\n\r\n    this.anims.create({\r\n      key: "square",\r\n      frames: this.anims.generateFrameNames("gems", {\r\n        prefix: "square_",\r\n        end: 14,\r\n        zeroPad: 4,\r\n      }),\r\n      repeat: -1,\r\n    });\r\n\r\n    //  The Sprite config\r\n    const config = {\r\n      key: "gems",\r\n      x: { randInt: [0, 800] },\r\n      y: { randInt: [0, 300] },\r\n      scale: { randFloat: [0.5, 1.5] },\r\n      anims: "ruby",\r\n    };\r\n\r\n    //  Make 16 sprites using the config above\r\n    for (let i = 0; i < 16; i++) {\r\n      this.make.sprite(config);\r\n    }\r\n\r\n    //  A more complex animation config object.\r\n    //  This time with a call to delayedPlay that\'s a function.\r\n    const config2 = {\r\n      key: "gems",\r\n      frame: "square_0000",\r\n      x: { randInt: [0, 800] },\r\n      y: { randInt: [300, 600] },\r\n      scale: { randFloat: [0.5, 1.5] },\r\n      anims: {\r\n        key: "square",\r\n        repeat: -1,\r\n        repeatDelay: { randInt: [1000, 4000] },\r\n        delayedPlay: function () {\r\n          return Math.random() * 6000;\r\n        },\r\n      },\r\n    };\r\n\r\n    //  Make 16 sprites using the config above\r\n    for (let i = 0; i < 16; i++) {\r\n      this.make.sprite(config2);\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:'import { AfterViewInit, Component } from "@angular/core";\r\nimport { Game, Scene, Types } from "phaser";\r\n@Component({\r\n  selector: "app-phaser",\r\n  templateUrl: "./phaser.component.html",\r\n  styleUrls: ["./phaser.component.scss"],\r\n})\r\nexport class PhaserComponent extends Scene implements AfterViewInit {\r\n  config: Types.Core.GameConfig;\r\n  override game: Game;\r\n  constructor() {\r\n    super();\r\n    this.config = {\r\n      type: Phaser.AUTO,\r\n      width: 800,\r\n      height: 600,\r\n      backgroundColor: "#1b1464",\r\n      parent: "phaser-example",\r\n      physics: {\r\n        default: "matter",\r\n        matter: {\r\n          gravity: {\r\n            x: 0,\r\n            y: 0,\r\n          },\r\n        },\r\n      },\r\n\r\n      scene: PhaserComponent,\r\n    };\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.game = new Phaser.Game(this.config);\r\n  }\r\n\r\n  preload() {\r\n    this.load.atlas("block", "/assets/img.jpg");\r\n  }\r\n\r\n  create() {\r\n    const blockA = this.matter.add\r\n      .image(0, 300, "block")\r\n      .setBounce(1)\r\n      .setFriction(0);\r\n\r\n    const blockB = this.matter.add.image(600, 300, "block").setStatic(true);\r\n\r\n    blockA.setVelocityX(10);\r\n    blockB.setVelocityY(10);\r\n\r\n    this.matter.world.on(\r\n      "collisionstart",\r\n      (event: any, bodyA: any, bodyB: any) => {\r\n        bodyA.gameObject.setTint(0xff0000);\r\n        bodyB.gameObject.setTint(0x00ff00);\r\n      }\r\n    );\r\n  }\r\n}\n'})})]})}function m(n={}){let{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(p,{...n})}):p(n)}},255511:function(n,e,r){r.d(e,{R:()=>i,x:()=>o});var t=r(596363);let a={},s=t.createContext(a);function i(n){let e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:i(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);