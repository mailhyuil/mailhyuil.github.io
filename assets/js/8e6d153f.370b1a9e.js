"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["508922"],{487777:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>a,toc:()=>o,default:()=>u,metadata:()=>t,assets:()=>c,contentTitle:()=>i});var t=JSON.parse('{"id":"nginx/nginx CSP","title":"nginx CSP","description":"angular\uC758 index.html\uC5D0 meta \uD0DC\uADF8\uB85C \uB123\uC5B4\uB3C4 \uB418\uC9C0\uB9CC server\uC5D0\uC11C \uC124\uC815\uD558\uB294 \uAC83\uC744 \uAD8C\uC7A5\uD55C\uB2E4.","source":"@site/docs/nginx/nginx CSP.md","sourceDirName":"nginx","slug":"/nginx/nginx CSP","permalink":"/docs/nginx/nginx CSP","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx 504 Gateway Timeout","permalink":"/docs/nginx/nginx 504 Gateway Timeout"},"next":{"title":"nginx ip \uCC28\uB2E8 \uD5C8\uC6A9","permalink":"/docs/nginx/nginx IP \uCC28\uB2E8 & \uD5C8\uC6A9"}}'),s=r(447259),l=r(255511);let a={},i="nginx CSP",c={},o=[{value:"helmen.js\uC758 csp\uB97C \uC801\uC6A9",id:"helmenjs\uC758-csp\uB97C-\uC801\uC6A9",level:2},{value:"add_header\uB85C CSP \uC124\uC815",id:"add_header\uB85C-csp-\uC124\uC815",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"nginx-csp",children:"nginx CSP"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"angular\uC758 index.html\uC5D0 meta \uD0DC\uADF8\uB85C \uB123\uC5B4\uB3C4 \uB418\uC9C0\uB9CC server\uC5D0\uC11C \uC124\uC815\uD558\uB294 \uAC83\uC744 \uAD8C\uC7A5\uD55C\uB2E4."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"helmenjs\uC758-csp\uB97C-\uC801\uC6A9",children:"helmen.js\uC758 csp\uB97C \uC801\uC6A9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-conf",children:"add_header Content-Security-Policy:\r\n  \"default-src 'self';\r\n  script-src 'self';\r\n  style-src 'self' https: https://cdn.example.com 'unsafe-inline';\r\n  img-src 'self' data:;\r\n  font-src 'self' data: https:;\r\n  connect-src 'self';\r\n  form-action 'self';\r\n  frame-ancestors 'self';\r\n  object-src 'none';\r\n  upgrade-insecure-requests;\r\n  block-all-mixed-content;\" always;\r\n\r\n# (Angular Material \uB4F1\uC5D0\uC11C \uC778\uB77C\uC778 \uC2A4\uD0C0\uC77C\uC774 \uD544\uC694\uC5C6\uB2E4\uBA74 'unsafe-inline' \uC81C\uAC70)\r\n# (\uD544\uC694\uD558\uB2E4\uBA74 \uD2B9\uC815 CDN \uB3C4\uBA54\uC778 \uCD94\uAC00, \uC608: https://www.googletagmanager.com)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"add_header\uB85C-csp-\uC124\uC815",children:"add_header\uB85C CSP \uC124\uC815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-conf",children:"server {\r\n    server_name example.com;\r\n\r\n    listen 443 ssl;\r\n    # ... SSL \uC124\uC815 ...\r\n\r\n    # server block \uC804\uCCB4\uC5D0 CSP \uC124\uC815\r\n    add_header Content-Security-Policy \"default-src 'self'; ...\" always;\r\n\r\n    location / {\r\n        # location block\uC5D0 CSP \uC124\uC815\r\n        add_header Content-Security-Policy \"default-src 'self'; ...\" always;\r\n        root /app/client/browser;\r\n        index index.html;\r\n        try_files $uri $uri/ /index.html =404;\r\n    }\r\n}\n"})})]})}function u(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},255511:function(e,n,r){r.d(n,{R:()=>a,x:()=>i});var t=r(596363);let s={},l=t.createContext(s);function a(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);