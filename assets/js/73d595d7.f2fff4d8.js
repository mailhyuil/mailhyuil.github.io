"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["686346"],{3805:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>i,toc:()=>c,default:()=>m,metadata:()=>o,assets:()=>l,contentTitle:()=>a});var o=JSON.parse('{"id":"nodejs/nodejs event loop main thread \uC791\uC5C5 \uB098\uB204\uAE30","title":"nodejs event-loop setImmediate or setTimeout","description":"main thread\uC5D0\uC11C \uBB34\uAC70\uC6B4 \uC791\uC5C5\uC744 \uD558\uBA74 \uC774\uBCA4\uD2B8 \uB8E8\uD504\uB97C block\uD558\uAC8C \uB41C\uB2E4","source":"@site/docs/nodejs/nodejs event loop main thread \uC791\uC5C5 \uB098\uB204\uAE30.md","sourceDirName":"nodejs","slug":"/nodejs/nodejs event loop main thread \uC791\uC5C5 \uB098\uB204\uAE30","permalink":"/docs/nodejs/nodejs event loop main thread \uC791\uC5C5 \uB098\uB204\uAE30","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nodejs event loop timer","permalink":"/docs/nodejs/nodejs event loop libuv timer"},"next":{"title":"nodejs event-loop phase","permalink":"/docs/nodejs/nodejs event loop phase"}}'),r=t(447259),s=t(255511);let i={},a="nodejs event-loop setImmediate or setTimeout",l={},c=[{value:"setImmediate / setTimeout / Promise.resolve().then() / queueMicrotask",id:"setimmediate--settimeout--promiseresolvethen--queuemicrotask",level:2},{value:"async-iterator",id:"async-iterator",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"nodejs-event-loop-setimmediate-or-settimeout",children:"nodejs event-loop setImmediate or setTimeout"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"main thread\uC5D0\uC11C \uBB34\uAC70\uC6B4 \uC791\uC5C5\uC744 \uD558\uBA74 \uC774\uBCA4\uD2B8 \uB8E8\uD504\uB97C block\uD558\uAC8C \uB41C\uB2E4"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uC774\uB54C setImmediate\uC744 \uC0AC\uC6A9\uD558\uC5EC \uBB34\uAC70\uC6B4 \uC791\uC5C5\uC744 \uB098\uB220\uC11C \uC2E4\uD589\uD558\uC5EC block\uC744 \uD53C\uD560 \uC218 \uC788\uB2E4 (nextTick\uC740 \uC0AC\uC6A9\uD558\uBA74 \uC548\uB428)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"bcryptjs \uAC19\uC740 main thread\uB9CC \uC0AC\uC6A9\uD558\uB294 \uD328\uD0A4\uC9C0\uB4E4\uC744 \uC774\uB7F0 \uBC29\uBC95\uC73C\uB85C block\uC744 \uD53C\uD55C\uB2E4"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"setimmediate--settimeout--promiseresolvethen--queuemicrotask",children:"setImmediate / setTimeout / Promise.resolve().then() / queueMicrotask"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'function heavyTask() {\r\n  let i = 0;\r\n  const inner = () => {\r\n    if (i >= 1_000_000_000) return console.log("done");\r\n    for (let j = 0; j < 100_000; j++) {\r\n      i++;\r\n    }\r\n    setImmediate(inner); // \u{1F448} \uB2E4\uC74C tick\uC5D0\uC11C \uC774\uC5B4\uC11C (setTimeout\uC73C\uB85C\uB3C4 \uAD6C\uD604\uAC00\uB2A5) (Promise.resolve().then(), queueMicrotask\uB85C\uB3C4 \uAD6C\uD604\uAC00\uB2A5)\r\n  };\r\n  inner();\r\n}\r\n\r\nheavyTask();\r\nconsole.log("next work");\n'})}),"\n",(0,r.jsx)(n.h2,{id:"async-iterator",children:"async-iterator"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'async function* heavyTaskGenerator() {\r\n  let i = 0;\r\n  while (i < 1_000_000_000) {\r\n    for (let j = 0; j < 100_000; j++) {\r\n      i++;\r\n    }\r\n    yield; // \uB2E4\uC74C tick\uC73C\uB85C \uB118\uC5B4\uAC10\r\n  }\r\n  console.log("done");\r\n}\r\n\r\nasync function heavyTask() {\r\n  for await (const _ of heavyTaskGenerator()) {\r\n    // \uAC01 yield\uB9C8\uB2E4 \uC774\uBCA4\uD2B8 \uB8E8\uD504\uAC00 \uB2E4\uB978 \uC791\uC5C5\uC744 \uCC98\uB9AC\uD560 \uC218 \uC788\uC74C\r\n  }\r\n}\r\n\r\nheavyTask();\r\nconsole.log("next work");\n'})})]})}function m(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},255511:function(e,n,t){t.d(n,{R:()=>i,x:()=>a});var o=t(596363);let r={},s=o.createContext(r);function i(e){let n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);