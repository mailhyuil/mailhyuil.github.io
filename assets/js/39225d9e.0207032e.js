"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["774347"],{529866:function(n,r,a){a.r(r),a.d(r,{frontMatter:()=>A,toc:()=>T,default:()=>o,metadata:()=>e,assets:()=>E,contentTitle:()=>s});var e=JSON.parse('{"id":"kafka/kafka \uC138\uD305 settings","title":"kafka \uC138\uD305 settings","description":"bitnami/kafka: kafka\uB9CC \uD3EC\uD568\uB41C \uC774\uBBF8\uC9C0","source":"@site/docs/kafka/kafka \uC138\uD305 settings.md","sourceDirName":"kafka","slug":"/kafka/kafka \uC138\uD305 settings","permalink":"/docs/kafka/kafka \uC138\uD305 settings","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"kafka-ui","permalink":"/docs/kafka/kafka ui"},"next":{"title":"Kubernetes","permalink":"/docs/category/kubernetes"}}'),t=a(447259),_=a(255511);let A={},s="kafka \uC138\uD305 settings",E={},T=[{value:"docker-compose.yaml",id:"docker-composeyaml",level:2},{value:"\uD14C\uC2A4\uD2B8",id:"\uD14C\uC2A4\uD2B8",level:2}];function k(n){let r={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,_.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"kafka-\uC138\uD305-settings",children:"kafka \uC138\uD305 settings"})}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"bitnami/kafka: kafka\uB9CC \uD3EC\uD568\uB41C \uC774\uBBF8\uC9C0"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"confluentinc/cp-kafka: kafka\uC640 confluentinc\uC758 \uB2E4\uC591\uD55C \uD50C\uB7EC\uADF8\uC778\uC774 \uC124\uCE58\uB41C \uC774\uBBF8\uC9C0 (e.g. Rest Proxy, Schema Registry, Connect \uB4F1)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"docker-composeyaml",children:"docker-compose.yaml"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"window \uD658\uACBD\uC5D0\uC11C memory \uBD80\uC871\uC73C\uB85C \uBA48\uCDB0\uBC84\uB9AC\uB294 \uC774\uC288\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."}),"\n",(0,t.jsx)(r.p,{children:".wslconfig\uC5D0\uC11C memory\uB97C \uB298\uB824\uC11C \uD574\uACB0"}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:'networks:\r\n  kafka:\r\n\r\nvolumes:\r\n  Kafka00:\r\n  Kafka01:\r\n  Kafka02:\r\n\r\nservices:\r\n  ### Kafka00\r\n  kafka00:\r\n    image: bitnami/kafka:latest\r\n    restart: unless-stopped\r\n    container_name: kafka00\r\n    ports:\r\n      - "10000:9094"\r\n    environment:\r\n      - KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=true\r\n      # KRaft settings\r\n      - KAFKA_CFG_BROKER_ID=0\r\n      - KAFKA_CFG_NODE_ID=0\r\n      - KAFKA_KRAFT_CLUSTER_ID=HsDBs9l6UUmQq7Y5E6bNlw\r\n      - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka00:9093,1@kafka01:9093,2@kafka02:9093\r\n      - KAFKA_CFG_PROCESS_ROLES=controller,broker\r\n      # Listeners\r\n      - ALLOW_PLAINTEXT_LISTENER=yes\r\n      - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093,EXTERNAL://:9094\r\n      - KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka00:9092,EXTERNAL://127.0.0.1:10000\r\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,EXTERNAL:PLAINTEXT,PLAINTEXT:PLAINTEXT\r\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\r\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT\r\n      # Clustering\r\n      - KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_MIN_ISR=2\r\n    networks:\r\n      - kafka\r\n    volumes:\r\n      - "Kafka00:/bitnami/kafka"\r\n  ### Kafka01\r\n  kafka01:\r\n    image: bitnami/kafka:latest\r\n    restart: unless-stopped\r\n    container_name: kafka01\r\n    ports:\r\n      - "10001:9094"\r\n    environment:\r\n      - KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=true\r\n      # KRaft settings\r\n      - KAFKA_CFG_BROKER_ID=1\r\n      - KAFKA_CFG_NODE_ID=1\r\n      - KAFKA_KRAFT_CLUSTER_ID=HsDBs9l6UUmQq7Y5E6bNlw\r\n      - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka00:9093,1@kafka01:9093,2@kafka02:9093\r\n      - KAFKA_CFG_PROCESS_ROLES=controller,broker\r\n      # Listeners\r\n      - ALLOW_PLAINTEXT_LISTENER=yes\r\n      - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093,EXTERNAL://:9094\r\n      - KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka01:9092,EXTERNAL://127.0.0.1:10001\r\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,EXTERNAL:PLAINTEXT,PLAINTEXT:PLAINTEXT\r\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\r\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT\r\n      # Clustering\r\n      - KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_MIN_ISR=2\r\n    networks:\r\n      - kafka\r\n    volumes:\r\n      - "Kafka01:/bitnami/kafka"\r\n  ## Kafka02\r\n  kafka02:\r\n    image: bitnami/kafka:latest\r\n    restart: unless-stopped\r\n    container_name: kafka02\r\n    ports:\r\n      - "10002:9094"\r\n    environment:\r\n      - KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=true\r\n      # KRaft settings\r\n      - KAFKA_CFG_BROKER_ID=2\r\n      - KAFKA_CFG_NODE_ID=2\r\n      - KAFKA_KRAFT_CLUSTER_ID=HsDBs9l6UUmQq7Y5E6bNlw\r\n      - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka00:9093,1@kafka01:9093,2@kafka02:9093\r\n      - KAFKA_CFG_PROCESS_ROLES=controller,broker\r\n      # Listeners\r\n      - ALLOW_PLAINTEXT_LISTENER=yes\r\n      - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093,EXTERNAL://:9094\r\n      - KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka02:9092,EXTERNAL://127.0.0.1:10002\r\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,EXTERNAL:PLAINTEXT,PLAINTEXT:PLAINTEXT\r\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\r\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT\r\n      # Clustering\r\n      - KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_MIN_ISR=2\r\n    networks:\r\n      - kafka\r\n    volumes:\r\n      - "Kafka02:/bitnami/kafka"\r\n\r\n  kafka-ui:\r\n    image: provectuslabs/kafka-ui:latest\r\n    restart: unless-stopped\r\n    container_name: kafka-ui\r\n    ports:\r\n      - "8080:8080"\r\n    environment:\r\n      - KAFKA_CLUSTERS_0_NAME=Local-Kraft-Cluster\r\n      - KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka00:9092,kafka01:9092,kafka02:9092\r\n      - DYNAMIC_CONFIG_ENABLED=true\r\n      - KAFKA_CLUSTERS_0_AUDIT_TOPICAUDITENABLED=true\r\n      - KAFKA_CLUSTERS_0_AUDIT_CONSOLEAUDITENABLED=true\r\n      #- KAFKA_CLUSTERS_0_METRICS_PORT=9999\r\n    depends_on:\r\n      - kafka00\r\n      - kafka01\r\n      - kafka02\r\n    networks:\r\n      - kafka\n'})}),"\n",(0,t.jsx)(r.h2,{id:"\uD14C\uC2A4\uD2B8",children:"\uD14C\uC2A4\uD2B8"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sh",children:"docker exec -it kafka00 bash\r\n\r\n# \uD1A0\uD53D \uC0DD\uC131\r\nkafka-topics.sh --create --topic topic1 --bootstrap-server localhost:9092 --replication-factor 1 --partitions 3\r\n# \uD1A0\uD53D \uB9AC\uC2A4\uD2B8 \uCD9C\uB825\r\nkafka-topics.sh --list --bootstrap-server localhost:9092\r\n# \uD1A0\uD53D \uC0C1\uC138 \uC870\uD68C\r\nkafka-topics.sh --describe --topic topic1 --bootstrap-server localhost:9092\r\n# \uD1A0\uD53D \uC0AD\uC81C\r\nkafka-topics.sh --delete --bootstrap-server localhost:9092 --topic topic1\r\n\r\n# \uCEE8\uC288\uBA38 \uC2E4\uD589\r\ncd /opt/kafka_2.13-2.8.1/bin/\r\n./kafka-console-consumer.sh --topic topic1 --bootstrap-server localhost:9092 # (\uC635\uC158 --group \uADF8\uB8F9\uBA85)\r\n# \uD504\uB85C\uB4C0\uC11C \uC2E4\uD589\r\n# \uC2E4\uD589 \uC2DC \uC785\uB825\uCC3D\uC73C\uB85C \uBCC0\uD558\uACE0 \uAC12\uC744 \uC785\uB825\uD558\uBA74 \uCEE8\uC288\uBA38\uC5D0 \uB3C4\uCC29\uD55C\uB2E4.\r\ncd /opt/kafka_2.13-2.8.1/bin/\r\n./kafka-console-producer.sh --topic topic1 --broker-list localhost:9092\n"})})]})}function o(n={}){let{wrapper:r}={...(0,_.R)(),...n.components};return r?(0,t.jsx)(r,{...n,children:(0,t.jsx)(k,{...n})}):k(n)}},255511:function(n,r,a){a.d(r,{R:()=>A,x:()=>s});var e=a(596363);let t={},_=e.createContext(t);function A(n){let r=e.useContext(_);return e.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function s(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:A(n.components),e.createElement(_.Provider,{value:r},n.children)}}}]);