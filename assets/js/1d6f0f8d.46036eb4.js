"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[661206],{327808:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"spring/spring Validate - \uc11c\ubc84\uc0ac\uc774\ub4dc \uc720\ud6a8\uc131 \uac80\uc0ac","title":"Validate (\uc11c\ubc84\uc0ac\uc774\ub4dc \uc720\ud6a8\uc131 \uac80\uc0ac)","description":"VO \ud074\ub798\uc2a4","source":"@site/docs/spring/spring Validate - \uc11c\ubc84\uc0ac\uc774\ub4dc \uc720\ud6a8\uc131 \uac80\uc0ac.md","sourceDirName":"spring","slug":"/spring/spring Validate - \uc11c\ubc84\uc0ac\uc774\ub4dc \uc720\ud6a8\uc131 \uac80\uc0ac","permalink":"/docs/spring/spring Validate - \uc11c\ubc84\uc0ac\uc774\ub4dc \uc720\ud6a8\uc131 \uac80\uc0ac","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"UTF-8 filter in web.xml","permalink":"/docs/spring/spring UTF-8_filter"},"next":{"title":"ant style pattern & wildcards","permalink":"/docs/spring/spring ant style pattern"}}');var i=n(447259),a=n(529087);const s={},l="Validate (\uc11c\ubc84\uc0ac\uc774\ub4dc \uc720\ud6a8\uc131 \uac80\uc0ac)",o={},d=[{value:"VO \ud074\ub798\uc2a4",id:"vo-\ud074\ub798\uc2a4",level:2},{value:"Errors",id:"errors",level:2},{value:"BindingResult: Errors\ub97c \uc0c1\uc18d\ubc1b\uc544 \ucd94\uac00\uc801\uc778 \uae30\ub2a5\uc744 \uc81c\uacf5",id:"bindingresult-errors\ub97c-\uc0c1\uc18d\ubc1b\uc544-\ucd94\uac00\uc801\uc778-\uae30\ub2a5\uc744-\uc81c\uacf5",level:2},{value:"Controller",id:"controller",level:2},{value:"View (thymeleaf)",id:"view-thymeleaf",level:2},{value:"View (JSP)",id:"view-jsp",level:2},{value:"Error \ucd94\uac00\ud558\uae30",id:"error-\ucd94\uac00\ud558\uae30",level:2}];function c(r){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...r.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"validate-\uc11c\ubc84\uc0ac\uc774\ub4dc-\uc720\ud6a8\uc131-\uac80\uc0ac",children:"Validate (\uc11c\ubc84\uc0ac\uc774\ub4dc \uc720\ud6a8\uc131 \uac80\uc0ac)"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-xml",children:"\x3c!-- https://mvnrepository.com/artifact/javax.validation/validation-api --\x3e\r\n<dependency>\r\n\t<groupId>javax.validation</groupId>\r\n\t<artifactId>validation-api</artifactId>\r\n\t<version>2.0.1.Final</version>\r\n</dependency>\r\n\r\n\x3c!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --\x3e\r\n<dependency>\r\n\t<groupId>org.hibernate.validator</groupId>\r\n\t<artifactId>hibernate-validator</artifactId>\r\n\t<version>6.2.3.Final</version>\r\n</dependency>\n"})}),"\n",(0,i.jsx)(e.h2,{id:"vo-\ud074\ub798\uc2a4",children:"VO \ud074\ub798\uc2a4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'public class VO {\r\n\r\n\tprivate long e_seq;\r\n\r\n\tprivate String e_from_email;\r\n\r\n\t@Email(message = "Email \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4")\r\n\t@NotEmpty(message = "\ubc1b\ub294\uc0ac\ub78c Email \uc740 \ubc18\ub4dc\uc2dc \uc785\ub825\ud558\uc138\uc694")\r\n\tprivate String e_to_email;\r\n\r\n\t@NotEmpty(message = "\ubcf4\ub0b4\ub294 \uc0ac\ub78c \uc774\ub984\uc740 null \uc77c\uc218 \uc5c6\uc2b5\ub2c8\ub2e4")\r\n\tprivate String e_from_name;\r\n\r\n\t@Length(min = 1, max = 100,\r\n\t\t\tmessage = "\ubc1b\ub294 \uc0ac\ub78c\uc774\ub984\uc740 1\uae00\uc790 ~ 100\uae00\uc790\uae4c\uc9c0\ub9cc \uac00\ub2a5")\r\n\t@NotEmpty(message = "\ubc1b\ub294 \uc0ac\ub78c \uc774\ub984\uc740 \ubc18\ub4dc\uc2dc \uc785\ub825\ud558\uc138\uc694")\r\n\tprivate String e_to_name;\r\n\r\n\t@NotEmpty(message = "\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4")\r\n\tprivate String e_subject;\r\n\tprivate String e_content;\r\n\r\n\t// @Size(min = 1, max = 10, message = "num \ub294 1\ubd80\ud130 10\uc0ac\uc774 \uac12\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4")\r\n\tprivate String e_send_date;\r\n\tprivate String e_send_time;\r\n\r\n\t// @Min(value=1,message = "num \ub294 1\ubcf4\ub2e4 \ucee4\uc57c\ud569\ub2c8\ub2e4")\r\n\t// @Max(value=10, message ="num \ub294 10\ubcf4\ub2e4 \uc791\uc544\uc57c \ud569\ub2c8\ub2e4")\r\n\tprivate int num;\r\n\r\n\t// @DecimalMin(value="1",message = "decimal \uc740 \uc2ed\uc9c4\uc218 1\ubcf4\ub2e4 \ucee4\uc57c \ud569\ub2c8\ub2e4")\r\n\t// @DecimalMax(value="10", message = "decimal \uc740 \uc2ed\uc9c4\uc218 10\ubcf4\uc790 \uc791\uc544\uc57c \ud569\ub2c8\ub2e4")\r\n\tprivate int decimal;\r\n\r\n\t// @Pattern(regexp = "^.*(?=^.{8,15}$)(?=.*\\\\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&+=]).*$")\r\n\tprivate String password;\r\n\r\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"errors",children:"Errors"}),"\n",(0,i.jsx)(e.h2,{id:"bindingresult-errors\ub97c-\uc0c1\uc18d\ubc1b\uc544-\ucd94\uac00\uc801\uc778-\uae30\ub2a5\uc744-\uc81c\uacf5",children:"BindingResult: Errors\ub97c \uc0c1\uc18d\ubc1b\uc544 \ucd94\uac00\uc801\uc778 \uae30\ub2a5\uc744 \uc81c\uacf5"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\ub458\ub2e4 \uc0ac\uc6a9\uac00\ub2a5 //@Valid \uac1d\uccb4 \ub4a4\uc5d0 \uc704\uce58\ud574\uc57c\ud568"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"controller",children:"Controller"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'@GetMapping("join")\r\npublic String join(@ModelAttribute("user") User user) { // User entity\ub97c \ubdf0\ub85c \ub118\uaca8\uc900\ub2e4\r\n\treturn null;\r\n}\r\n\r\n@PostMapping("join")\r\npublic String join(@Valid User user, BindingResult result){\r\n\r\n\tif(result.hasErrors()) {\r\n\t\treturn "/user/join";\r\n\t}\r\n\r\n\tuserService.join(user);\r\n\treturn "redirect:/";\r\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"BindingResult\ub294 DispatcherServlet\uc774 \ubdf0\uc5d0 \ub118\uaca8\uc900\ub2e4"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"view-thymeleaf",children:"View (thymeleaf)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<form\r\n  th:action="@{/user/join}"\r\n  method="post"\r\n  th:object="${user}">\r\n  <div>\r\n    <label>Username</label>:\r\n    <input\r\n      th:field="*{username}"\r\n      autofocus="autofocus" />\r\n    <p\r\n      th:errors="*{username}"\r\n      th:if="${#fields.hasErrors(\'username\')}"></p>\r\n  </div>\r\n  <div>\r\n    <label>Password</label>:\r\n    <input\r\n      th:field="*{password}"\r\n      type="password" />\r\n    <p\r\n      th:errors="*{password}"\r\n      th:if="${#fields.hasErrors(\'password\')}"></p>\r\n  </div>\r\n  <div>\r\n    <label>Repassword</label>:\r\n    <input\r\n      name="re_password"\r\n      type="password" />\r\n  </div>\r\n  <div>\r\n    <label>Email</label>:\r\n    <input th:field="*{email}" />\r\n    <p\r\n      th:errors="*{email}"\r\n      th:if="${#fields.hasErrors(\'email\')}"></p>\r\n  </div>\r\n  <div>\r\n    <label>Nickname</label>:\r\n    <input th:field="*{nickname}" />\r\n    <p\r\n      th:errors="*{nickname}"\r\n      th:if="${#fields.hasErrors(\'nickname\')}"></p>\r\n  </div>\r\n  <div>\r\n    <button>Join</button>\r\n  </div>\r\n</form>\n'})}),"\n",(0,i.jsx)(e.h2,{id:"view-jsp",children:"View (JSP)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsp",children:'<%@ taglib uri="http://www.springframework.org/tags" prefix="spring" %>\r\n\r\n<spring:hasBindErrors name="userVO">\r\n\r\n\t<c:if test="${errors.hasFieldErrors(\'name\') }">\r\n\t\t<strong>${errors.getFieldError( \'name\' ).defaultMessage }</strong>\r\n\t</c:if>\r\n\r\n</spring:hasBindErrors>\n'})}),"\n",(0,i.jsx)(e.h2,{id:"error-\ucd94\uac00\ud558\uae30",children:"Error \ucd94\uac00\ud558\uae30"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'if(ret == -1) {\r\n\tresult.addError(new FieldError("User", "username", "\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4."));\r\n\treturn "/user/join";\r\n}\n'})})]})}function p(r={}){const{wrapper:e}={...(0,a.R)(),...r.components};return e?(0,i.jsx)(e,{...r,children:(0,i.jsx)(c,{...r})}):c(r)}},529087:(r,e,n)=>{n.d(e,{R:()=>s,x:()=>l});var t=n(596363);const i={},a=t.createContext(i);function s(r){const e=t.useContext(a);return t.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function l(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(i):r.components||i:s(r.components),t.createElement(a.Provider,{value:e},r.children)}}}]);