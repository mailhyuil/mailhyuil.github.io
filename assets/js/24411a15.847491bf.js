"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["997309"],{918045:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>a,toc:()=>d,default:()=>u,metadata:()=>s,assets:()=>l,contentTitle:()=>t});var s=JSON.parse('{"id":"build/bundle webpack base webpack.config.js backend","title":"bundle webpack backend server","description":"target\uC744 node\uB85C \uC124\uC815\uD558\uC5EC webpack\uC774 fs, path \uB4F1\uC758 \uB0B4\uC7A5 \uBAA8\uB4C8\uC744 \uAC74\uB4DC\uB9AC\uC9C0 \uC54A\uB3C4\uB85D \uC124\uC815\uD55C\uB2E4.","source":"@site/docs/build/bundle webpack base webpack.config.js backend.md","sourceDirName":"build","slug":"/build/bundle webpack base webpack.config.js backend","permalink":"/docs/build/bundle webpack base webpack.config.js backend","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"bundle webpack backend server","permalink":"/docs/build/bundle webpack base webpack.config.js backend webpack-node-externals"},"next":{"title":"webpack.config.js","permalink":"/docs/build/bundle webpack base webpack.config.js"}}'),o=r(447259),c=r(255511);let a={},t="bundle webpack backend server",l={},d=[{value:"webpack.config.js (commonjs)",id:"webpackconfigjs-commonjs",level:2}];function i(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"bundle-webpack-backend-server",children:"bundle webpack backend server"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"target\uC744 node\uB85C \uC124\uC815\uD558\uC5EC webpack\uC774 fs, path \uB4F1\uC758 \uB0B4\uC7A5 \uBAA8\uB4C8\uC744 \uAC74\uB4DC\uB9AC\uC9C0 \uC54A\uB3C4\uB85D \uC124\uC815\uD55C\uB2E4."}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"node_modules\uB97C externals\uB85C \uC124\uC815\uD558\uC5EC \uBC88\uB4E4\uB9C1\uD558\uC9C0 \uC54A\uB3C4\uB85D \uC124\uC815\uD55C\uB2E4. (node_modules\uC758 \uBAA8\uB4C8\uC774 \uC804\uBD80 \uBC88\uB4E4\uB9C1 \uAC00\uB2A5\uD55C \uACBD\uC6B0\uC5D0\uB294 \uBC88\uB4E4\uB9C1\uD574\uB3C4 \uB41C\uB2E4.)"}),"\n",(0,o.jsx)(n.p,{children:"frontend \uC571\uC5D0\uC11C\uB294 \uBC88\uB4E4\uB9C1\uB418\uC5B4\uB3C4 \uAD1C\uCC2E\uC9C0\uB9CC backend \uC11C\uBC84\uC5D0\uC11C\uB294 \uBC88\uB4E4\uB9C1\uB418\uBA74 \uC548\uB41C\uB2E4."}),"\n",(0,o.jsx)(n.p,{children:'\uBC14\uC774\uB108\uB9AC \uB514\uD39C\uB358\uC2DC\uB098 require\uB97C \uC798\uBABB \uC0AC\uC6A9\uD574\uBC84\uB9AC\uB294 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD568. (require("foo") is turned into just foo, a global variable.)'}),"\n",(0,o.jsx)(n.p,{children:"\uB530\uB77C\uC11C node_modules\uB97C externals\uB85C \uC124\uC815\uD558\uC5EC \uBC88\uB4E4\uB9C1\uD558\uC9C0 \uC54A\uB3C4\uB85D \uC124\uC815\uD55C\uB2E4."}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"node\uD658\uACBD\uC5D0\uC11C\uB294 sourcemap\uC744 true\uB85C \uC124\uC815\uD574\uC57C \uC5D0\uB7EC \uC2A4\uD0DD\uC744 \uBCFC \uC218 \uC788\uB2E4. (source-map-support \uC124\uCE58 \uD544\uC694)"}),"\n",(0,o.jsx)(n.p,{children:"(even if you use babel to compile your backend code with gulp, you need sourcemaps.)"}),"\n",(0,o.jsx)(n.p,{children:"source-map-support\uB97C \uC124\uCE58\uD558\uC5EC \uB514\uBC84\uAE45\uC744 \uC6A9\uC774\uD558\uAC8C \uD55C\uB2E4."}),"\n",(0,o.jsx)(n.p,{children:"(automatically sourcemaps stack traces from node/io.js) (BannerPlugin\uC744 \uC0AC\uC6A9)"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\uCF54\uB4DC\uAC00 server\uC640 client\uC5D0\uC11C \uAC19\uC774 \uC0AC\uC6A9\uB418\uB294 \uACBD\uC6B0 css\uB098 less \uD30C\uC77C\uC744 \uBB34\uC2DC\uD558\uB3C4\uB85D \uC124\uC815\uD55C\uB2E4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"webpackconfigjs-commonjs",children:"webpack.config.js (commonjs)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'const webpack = require("webpack");\r\nconst path = require("path");\r\nconst fs = require("fs");\r\n\r\n// webpack-node-externals\uB97C \uC0AC\uC6A9\uD574\uB3C4 \uB41C\uB2E4.\r\nconst nodeModules = {};\r\nfs.readdirSync("node_modules")\r\n  .filter(function (x) {\r\n    return [".bin"].indexOf(x) === -1;\r\n  })\r\n  .forEach(function (mod) {\r\n    nodeModules[mod] = "commonjs " + mod;\r\n  });\r\n\r\nmodule.exports = {\r\n  entry: "./src/main.js",\r\n  target: "node", // tell webpack this bundle will be used in nodejs environment, so don\'t touch any built-in modules like fs or path.\r\n  externals: nodeModules,\r\n  devtool: "sourcemap",\r\n  output: {\r\n    path: path.join(__dirname, "build"),\r\n    filename: "backend.js",\r\n  },\r\n  plugins: [\r\n    new webpack.BannerPlugin(\'require("source-map-support").install();\', { raw: true, entryOnly: false }),\r\n    new webpack.IgnorePlugin(/\\.(css|less)$/),\r\n  ],\r\n};\n'})})]})}function u(e={}){let{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}},255511:function(e,n,r){r.d(n,{R:()=>a,x:()=>t});var s=r(596363);let o={},c=s.createContext(o);function a(e){let n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);