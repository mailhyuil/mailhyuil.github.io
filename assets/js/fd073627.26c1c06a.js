"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[499468],{192541:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"nuxtjs/vee-validate","title":"vee-validate & yup","description":"vue\uc758 validate \ub77c\uc774\ube0c\ub7ec\ub9ac","source":"@site/docs/nuxtjs/vee-validate.md","sourceDirName":"nuxtjs","slug":"/nuxtjs/vee-validate","permalink":"/docs/nuxtjs/vee-validate","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"vee-validate \uac80\uc0ac","permalink":"/docs/nuxtjs/vee-validate \uac80\uc0ac"},"next":{"title":"vue apexChart","permalink":"/docs/nuxtjs/vue apexchart"}}');var l=r(447259),i=r(529087);const a={},t="vee-validate & yup",d={},o=[{value:"useField",id:"usefield",level:2},{value:"useForm",id:"useform",level:2},{value:"reactive schema",id:"reactive-schema",level:3},{value:"values",id:"values",level:3},{value:"handleSubmit",id:"handlesubmit",level:3},{value:"meta",id:"meta",level:3},{value:"errors",id:"errors",level:3},{value:"validate()",id:"validate",level:3},{value:"setValues()",id:"setvalues",level:3},{value:"displaying errors",id:"displaying-errors",level:2},{value:"button disabled \uc2dc\ud0a4\uae30",id:"button-disabled-\uc2dc\ud0a4\uae30",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"vee-validate--yup",children:"vee-validate & yup"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"vue\uc758 validate \ub77c\uc774\ube0c\ub7ec\ub9ac"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"yup\uc73c\ub85c schema \uc124\uc815"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"usefield",children:"useField"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"field \ub808\ubca8 \uc720\ud6a8\uc131 \uac80\uc0ac"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uc720\ud6a8\ud55c \uc0c1\ud0dc\uc758 \ud544\ub4dc\ub97c \uc0dd\uc131, \ucee4\uc2a4\ud140 \uc778\ud48b \ucef4\ud3ec\ub10c\ud2b8 \ub0b4\uc5d0\uc11c \uc0ac\uc6a9"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\ud558\ub098\uc758 \uc778\ud48b \ub0b4\uc5d0\uc11c \uc720\ud6a8\uc131\uc744 \uac80\uc0ac\ud560 \ub54c \uc0ac\uc6a9"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'const { errorMessage, value } = useField(toRef(props, "name"), yup.string().required().min(8));\n'})}),"\n",(0,l.jsx)(n.h2,{id:"useform",children:"useForm"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"form \ub808\ubca8 \uc720\ud6a8\uc131 \uac80\uc0ac"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uc5ec\ub7ec \uc778\ud48b\uc744 \ud55c\ubc88\uc5d0 \uc720\ud6a8\uc131 \uac80\uc0ac\ud560 \ub54c \uc0ac\uc6a9"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"validationSchema\uac00 \ud544\uc694 useForm option\uc73c\ub85c schema\ub97c \ub123\ub294\ub2e4. useForm({validationSchema})"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"values, handleSubmit, meta, errors, validate, setValues, isSubmitting .. \ub9ac\ud134"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"input\uc5d0 name\uc744 \ubb34\uc870\uac74 \ub123\uc5b4\uc918\uc57c\ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'const {\r\n  values: body,\r\n  handleSubmit,\r\n  meta,\r\n  errors,\r\n  validate,\r\n  setValues,\r\n  isSubmitting,\r\n} = useForm<ISomeDTO>({\r\n  validationSchema: yup.object({\r\n    field1: yup.string().required("field1\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694."),\r\n    field2: yup.string().required("field2\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694."),\r\n  }),\r\n});\n'})}),"\n",(0,l.jsx)(n.h3,{id:"reactive-schema",children:"reactive schema"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uac12\uc774 \ubcc0\ud558\ub294 \uc2a4\ud0a4\ub9c8\ub97c \uc0dd\uc131\ud560 \ub550 computed \uc0ac\uc6a9"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const schema = computed(() => {\r\n  return yup.object({\r\n    password: yup.string().min(min.value),\r\n  });\r\n});\n"})}),"\n",(0,l.jsx)(n.h3,{id:"values",children:"values"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"values: body\ub77c\uace0 \ud558\uba74 values\uac00 const body = ref()\uc548\uc5d0 \uc790\ub3d9\uc73c\ub85c \ub2f4\uae34\ub2e4."}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'name="username"\r\nv-model="body.visitTime"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"handlesubmit",children:"handleSubmit"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"submit\uc744 \ud574\uc8fc\ub294 \ud568\uc218 \ucf5c\ubc31\uc744 \ub123\ub294\ub2e4"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"field\uac00 \uc804\ubd80 valid true\uac00 \uc544\ub2c8\uba74 \uc791\ub3d9\ud558\uc9c0 \uc54a\ub294\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'const submit = handleSubmit(async (body: ICreateReservationDTO) => {\r\n  useFetch<ICreateReservationDTO>(`http://localhost:4000/api/v1/post/`, {\r\n    method: "POST",\r\n    body: body,\r\n  });\r\n\r\n  emits("update:isOpen", false);\r\n});\n'})}),"\n",(0,l.jsx)(n.h3,{id:"meta",children:"meta"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"validation\uc758 \uba54\ud0c0 \ub370\uc774\ud130"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"interface FieldMeta {\r\n  dirty: boolean; // \ud544\ub4dc\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uc5c8\ub294\uc9c0\r\n  pending: boolean; // \ud544\ub4dc\uc758 validation\uc774 \uc791\ub3d9 \uc911\uc778\uc9c0\r\n  touched: boolean;\r\n  valid: boolean; // \uc720\ud6a8\ud55c\uc9c0\r\n  initialValue: any; // \ud544\ub4dc\uc758 \ucd08\uae30\uac12\r\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"errors",children:"errors"}),"\n",(0,l.jsx)(n.h3,{id:"validate",children:"validate()"}),"\n",(0,l.jsx)(n.h3,{id:"setvalues",children:"setValues()"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"values\uc5d0 \uac12 \ub123\uae30"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uc720\ud6a8\uc131 \uac80\uc0ac\ub97c \ud560 \uc694\uc18c\ub9cc \ub4e4\uc5b4\uac00\uc788\ub294\uc9c0 \uc798 \ud655\uc778\ud574\ub77c"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"setValues({...result}) X\r\nsetValues({memo:result.value.memo})\n"})}),"\n",(0,l.jsx)(n.h2,{id:"displaying-errors",children:"displaying errors"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"useForm errors \ud45c\uc2dc\ud558\ub824\uba74 input \ub300\uc2e0 Field \uc0ac\uc6a9\ud574\uc11c name\uc744 \ub123\uc5b4\uc8fc\uae30"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"<Field name='name'/>\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uc544\ub2c8\uba74 useField() \uc0ac\uc6a9"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"useField(props.name);\r\n<input name='props.name'/>\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-vue",children:'<script lang="ts" setup>\r\nimport { Field, useForm } from "vee-validate";\r\nimport * as yup from "yup";\r\nconst { values, errors } = useForm({\r\n  validationSchema: yup.object({\r\n    hi: yup.string().required("hi\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"),\r\n  }),\r\n});\r\n<\/script>\r\n<template>\r\n  <Field class="w-full bg-red-100" name="hi" />\r\n  <h1>{{ errors.hi }}</h1>\r\n</template>\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-vue",children:'<script lang="ts" setup>\r\nimport { Form, Field, useForm, useField, ErrorMessage } from "vee-validate";\r\nimport * as yup from "yup";\r\n\r\nconst schema = yup.object({\r\n  email: yup.string().required("\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694").email("\ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"),\r\n  name: yup.string().required("\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"),\r\n  password: yup.string().required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694").min(8, "8\uc790\ub9ac \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694"),\r\n});\r\n\r\nuseForm({\r\n  validationSchema: schema,\r\n});\r\n<\/script>\r\n<template>\r\n  <div class="flex flex-col items-center">\r\n    <h1 class="text-red-500">FormTest</h1>\r\n    <Form :validation-schema="schema" class="flex flex-col">\r\n      <Field\r\n        class="px-4 my-4 text-3xl font-bold duration-200 border-2 rounded shadow-lg text-slate-500 hover:ring ring-blue-300 linear"\r\n        name="email"\r\n      />\r\n      <ErrorMessage name="email" />\r\n      <Field\r\n        class="px-4 my-4 text-3xl font-bold duration-200 border-2 rounded shadow-lg text-slate-500 hover:ring ring-blue-300 linear"\r\n        name="name"\r\n      />\r\n      <ErrorMessage name="name" />\r\n      <Field\r\n        class="px-4 my-4 text-3xl font-bold duration-200 border-2 rounded shadow-lg text-slate-500 hover:ring ring-blue-300 linear"\r\n        name="password"\r\n        type="password"\r\n      />\r\n      <ErrorMessage name="password" />\r\n      <button class="p-4 bg-blue-500 rounded">Submit</button>\r\n    </Form>\r\n  </div>\r\n</template>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"button-disabled-\uc2dc\ud0a4\uae30",children:"button disabled \uc2dc\ud0a4\uae30"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:':disabled="!meta.valid"\n'})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},529087:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>t});var s=r(596363);const l={},i=s.createContext(l);function a(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);