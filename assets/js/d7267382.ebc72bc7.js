"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[716960],{529087:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>s});var c=o(596363);const l={},t=c.createContext(l);function r(e){const n=c.useContext(t);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),c.createElement(t.Provider,{value:n},e.children)}},907493:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>i});const c=JSON.parse('{"id":"db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock 2PL protocol - 2\ub2e8\uacc4 \uc7a0\uae08","title":"db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock 2\ub2e8\uacc4 \uc7a0\uae08 (2PL)","description":"lock\uc744 \uba3c\uc800 \uc218\ud589\ud558\uace0 \ub85c\uc9c1\uc744 \uc804\ubd80 \ucc98\ub9ac \ud6c4 \ub9c8\uc9c0\ub9c9\uc73c\ub85c unlock\uc744 \ud558\ub294 \ud328\ud134","source":"@site/docs/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock 2PL protocol - 2\ub2e8\uacc4 \uc7a0\uae08.md","sourceDirName":"db","slug":"/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock 2PL protocol - 2\ub2e8\uacc4 \uc7a0\uae08","permalink":"/docs/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock 2PL protocol - 2\ub2e8\uacc4 \uc7a0\uae08","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"2 phase locking cascading rollback","permalink":"/docs/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock 2PL cascading rollback"},"next":{"title":"db transaction lock Dead lock (\ub370\ub4dc \ub77d) \ubc29\uc9c0","permalink":"/docs/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock deadlock \ubc29\uc9c0"}}');var l=o(447259),t=o(529087);const r={},s="db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock 2\ub2e8\uacc4 \uc7a0\uae08 (2PL)",d={},i=[{value:"strict 2PL",id:"strict-2pl",level:2},{value:"rigorous 2PL",id:"rigorous-2pl",level:2},{value:"conservative 2PL (static 2PL)",id:"conservative-2pl-static-2pl",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"db-\ub3d9\uc2dc\uc131-\uc81c\uc5b4-lock-2\ub2e8\uacc4-\uc7a0\uae08-2pl",children:"db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 lock 2\ub2e8\uacc4 \uc7a0\uae08 (2PL)"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"lock\uc744 \uba3c\uc800 \uc218\ud589\ud558\uace0 \ub85c\uc9c1\uc744 \uc804\ubd80 \ucc98\ub9ac \ud6c4 \ub9c8\uc9c0\ub9c9\uc73c\ub85c unlock\uc744 \ud558\ub294 \ud328\ud134"}),"\n",(0,l.jsx)(n.p,{children:"Expand And Contract Pattern\uacfc \uac19\uc740 \ub290\ub08c\uc774\ub2e4."}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uc9c1\ub82c\uc131\uc744 \ubcf4\uc7a5\ud558\uae30 \uc704\ud55c \ud328\ud134"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"double booking problem (\uc774\uc911 \uc608\uc57d \ubb38\uc81c)\ub97c \ud574\uacb0: \ub450 \uba85\uc758 \uc0ac\uc6a9\uc790\uac00 \ub3d9\uc2dc\uc5d0 \uac19\uc740 \uc790\uc6d0\uc744 \uc608\uc57d\ud558\ub294 \ubb38\uc81c"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"lost updates, read and write skews\ub97c \ubc29\uc9c0\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"recoverability\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c S2PL, deadlock\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c SS2PL\uc744 \uc0ac\uc6a9\ud55c\ub2e4."}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Postgres\uac19\uc740 MVCC \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0\uc11c\ub294 2PL\uc774 \uc544\ub2cc \uc2a4\ub0c5\uc0f7 \ubc29\uc2dd\uc744 \ud1b5\ud574\uc11c \uc9c1\ub82c\uc131\uc744 \ubcf4\uc7a5\ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"lock()\r\nlock()\r\n.. do something ..\r\nunlock()\r\nunlock()\n"})}),"\n",(0,l.jsx)(n.h2,{id:"strict-2pl",children:"strict 2PL"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\ubaa8\ub4e0 \uc4f0\uae30 \uc7a0\uae08(write lock)\uc744 \ud2b8\ub79c\uc7ad\uc158\uc774 \ucee4\ubc0b\ud558\uac70\ub098 \uc911\ub2e8(commit or abort)\ud560 \ub54c\uae4c\uc9c0 \uc720\uc9c0\ud569\ub2c8\ub2e4.\r\ndeadlock \ubc1c\uc0dd \uac00\ub2a5\uc131 \uc788\uc74c"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"rigorous-2pl",children:"rigorous 2PL"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\ubaa8\ub4e0 \uc7a0\uae08(\uc77d\uae30 \ubc0f \uc4f0\uae30)\uc744 \ud2b8\ub79c\uc7ad\uc158\uc774 \ucee4\ubc0b\ud558\uac70\ub098 \uc911\ub2e8\ud560 \ub54c\uae4c\uc9c0 \uc720\uc9c0\ud569\ub2c8\ub2e4.\r\ndeadlock \ubc1c\uc0dd \uac00\ub2a5\uc131 \uc788\uc74c"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"conservative-2pl-static-2pl",children:"conservative 2PL (static 2PL)"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\ud2b8\ub79c\uc7ad\uc158 \uc2dc\uc791 \uc2dc\uc810\uc5d0 \ubaa8\ub4e0 \uc7a0\uae08\uc744 \ubbf8\ub9ac \uc120\uc5b8\ud558\uace0, \ud2b8\ub79c\uc7ad\uc158 \uc2e4\ud589 \uc804\uc5d0 \ubaa8\ub4e0 \ud544\uc694\ud55c \uc7a0\uae08\uc744 \ucde8\ub4dd\ud569\ub2c8\ub2e4.\r\ndeadlock \ubc1c\uc0dd \uac00\ub2a5\uc131 \uc5c6\uc74c"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);