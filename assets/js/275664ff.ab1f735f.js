"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[38469],{347542:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"api/api oauth google OneTap","title":"api google-oauth OneTap","description":"install","source":"@site/docs/api/api oauth google OneTap.md","sourceDirName":"api","slug":"/api/api oauth google OneTap","permalink":"/docs/api/api oauth google OneTap","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"api oauth github","permalink":"/docs/api/api oauth github"},"next":{"title":"api oauth google","permalink":"/docs/api/api oauth google"}}');var r=o(447259),i=o(529087);const l={},a="api google-oauth OneTap",s={},c=[{value:"install",id:"install",level:2},{value:"console \uc124\uc815 origin url",id:"console-\uc124\uc815-origin-url",level:2},{value:"login",id:"login",level:2}];function p(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"api-google-oauth-onetap",children:"api google-oauth OneTap"})}),"\n",(0,r.jsx)(e.h2,{id:"install",children:"install"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"npm i google-one-tap\r\n\r\nnpm i @types/google-one-tap\r\n\r\nnpm i google-auth-library # \uc11c\ubc84\uc6a9 OAuth2Client sdk\n"})}),"\n",(0,r.jsx)(e.h2,{id:"console-\uc124\uc815-origin-url",children:"console \uc124\uc815 origin url"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"http://localhost",children:"http://localhost"}),"\r\n",(0,r.jsx)(e.a,{href:"http://localhost:4200",children:"http://localhost:4200"}),"\r\n\ub458\ub2e4 \uc124\uc815"]}),"\n",(0,r.jsx)(e.h2,{id:"login",children:"login"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'import { CommonModule } from "@angular/common";\r\nimport { HttpClient, HttpClientModule } from "@angular/common/http";\r\nimport { AfterViewInit, Component, ElementRef, NgZone, ViewChild } from "@angular/core";\r\nimport { accounts } from "google-one-tap";\r\nimport { IconComponent } from "../../components/icon/icon.component";\r\ndeclare var google: any;\r\n@Component({\r\n  selector: "cms-login",\r\n  standalone: true,\r\n  imports: [CommonModule, IconComponent, HttpClientModule],\r\n  templateUrl: "./login.page.html",\r\n  styleUrls: ["./login.page.scss"],\r\n})\r\nexport class LoginPage implements AfterViewInit {\r\n  @ViewChild("loginButton") loginButtonRef!: ElementRef<HTMLDivElement>;\r\n  constructor(private readonly httpService: HttpClient, private ngZone: NgZone) {}\r\n\r\n  ngAfterViewInit(): void {\r\n    const gAccounts: accounts = google.accounts;\r\n\r\n    gAccounts.id.initialize({\r\n      client_id: process.env["NX_GOOGLE_CLIENT_KEY"]!,\r\n      ux_mode: "popup",\r\n      cancel_on_tap_outside: true,\r\n      callback: ({ credential }) => {\r\n        console.log(credential);\r\n      },\r\n    });\r\n\r\n    gAccounts.id.renderButton(this.loginButtonRef.nativeElement, {\r\n      size: "large",\r\n      width: 320,\r\n      text: "continue_with",\r\n    });\r\n  }\r\n}\n'})})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(p,{...n})}):p(n)}},529087:(n,e,o)=>{o.d(e,{R:()=>l,x:()=>a});var t=o(596363);const r={},i=t.createContext(r);function l(n){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);