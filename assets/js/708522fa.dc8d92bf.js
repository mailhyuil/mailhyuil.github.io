"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["664773"],{416273:function(e,r,n){n.r(r),n.d(r,{frontMatter:()=>s,toc:()=>m,default:()=>d,metadata:()=>t,assets:()=>l,contentTitle:()=>c});var t=JSON.parse('{"id":"spring/spring JPA","title":"JPA","description":"pom.xml","source":"@site/docs/spring/spring JPA.md","sourceDirName":"spring","slug":"/spring/spring JPA","permalink":"/docs/spring/spring JPA","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Junit (\uC720\uB2DB \uD14C\uC2A4\uD2B8)","permalink":"/docs/spring/spring J-UNIT"},"next":{"title":"JSTL","permalink":"/docs/spring/spring JSTL"}}'),a=n(447259),i=n(255511);let s={},c="JPA",l={},m=[{value:"pom.xml",id:"pomxml",level:2},{value:"resources/META-INF/persistence.xml",id:"resourcesmeta-infpersistencexml",level:2},{value:"Entity \uAC1D\uCCB4",id:"entity-\uAC1D\uCCB4",level:2},{value:"Main",id:"main",level:2},{value:"logic",id:"logic",level:2}];function o(e){let r={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"jpa",children:"JPA"})}),"\n",(0,a.jsx)(r.h2,{id:"pomxml",children:"pom.xml"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:"\x3c!-- JPA, \uD558\uC774\uBC84\uB124\uC774\uD2B8 --\x3e\r\n<dependency>\r\n	<groupId>org.hibernate</groupId>\r\n	<artifactId>hibernate-entitymanager</artifactId>\r\n	<version>${hibernate.version}</version>\r\n</dependency>\r\n\r\n\x3c!-- jdbc --\x3e\r\n<dependency>\r\n	<groupId>com.oracle.database.jdbc</groupId>\r\n	<artifactId>ojdbc8</artifactId>\r\n	<version>21.5.0.0</version>\r\n</dependency>\n"})}),"\n",(0,a.jsx)(r.h2,{id:"resourcesmeta-infpersistencexml",children:"resources/META-INF/persistence.xml"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence" version="2.1">\r\n\r\n    <persistence-unit name="jpabook">\r\n\r\n        <properties>\r\n\r\n            \x3c!-- \uD544\uC218 \uC18D\uC131 --\x3e\r\n            <property name="javax.persistence.jdbc.driver" value="oracle.jdbc.driver.OracleDriver"/>\r\n            <property name="javax.persistence.jdbc.user" value="test"/>\r\n            <property name="javax.persistence.jdbc.password" value="1234"/>\r\n            <property name="javax.persistence.jdbc.url" value="jdbc:oracle:thin:@localhost:1521:xe"/>\r\n\r\n            <property name="hibernate.dialect" value="	org.hibernate.dialect.OracleDialect" />\r\n\r\n            \x3c!-- \uC635\uC158 --\x3e\r\n            <property name="hibernate.show_sql" value="true" />\r\n            <property name="hibernate.format_sql" value="true" />\r\n            <property name="hibernate.use_sql_comments" value="true" />\r\n            <property name="hibernate.id.new_generator_mappings" value="true" />\r\n\r\n            \x3c!--<property name="hibernate.hbm2ddl.auto" value="create" />--\x3e\r\n        </properties>\r\n    </persistence-unit>\r\n\r\n</persistence>\n'})}),"\n",(0,a.jsx)(r.h2,{id:"entity-\uAC1D\uCCB4",children:"Entity \uAC1D\uCCB4"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'@Getter\r\n@Setter\r\n@Entity\r\n@Table(name="MEMBER")\r\npublic class Member {\r\n\r\n    @Id\r\n    @Column(name = "ID")\r\n    private String id;\r\n\r\n    @Column(name = "NAME")\r\n    private String username;\r\n\r\n    private Integer age;\r\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"main",children:"Main"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'//\uC5D4\uD2F0\uD2F0 \uB9E4\uB2C8\uC800 \uD329\uD1A0\uB9AC \uC0DD\uC131\r\nEntityManagerFactory emf = Persistence.createEntityManagerFactory("jpabook");\r\nEntityManager em = emf.createEntityManager(); //\uC5D4\uD2F0\uD2F0 \uB9E4\uB2C8\uC800 \uC0DD\uC131\r\n\r\nEntityTransaction tx = em.getTransaction(); //\uD2B8\uB79C\uC7AD\uC158 \uAE30\uB2A5 \uD68D\uB4DD\r\n\r\ntry {\r\n    tx.begin(); //\uD2B8\uB79C\uC7AD\uC158 \uC2DC\uC791\r\n    logic(em);  //\uBE44\uC988\uB2C8\uC2A4 \uB85C\uC9C1\r\n    tx.commit();//\uD2B8\uB79C\uC7AD\uC158 \uCEE4\uBC0B\r\n\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n    tx.rollback(); //\uD2B8\uB79C\uC7AD\uC158 \uB864\uBC31\r\n} finally {\r\n    em.close(); //\uC5D4\uD2F0\uD2F0 \uB9E4\uB2C8\uC800 \uC885\uB8CC\r\n}\r\n    emf.close(); //\uC5D4\uD2F0\uD2F0 \uB9E4\uB2C8\uC800 \uD329\uD1A0\uB9AC \uC885\uB8CC\n'})}),"\n",(0,a.jsx)(r.h2,{id:"logic",children:"logic"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public static void logic(EntityManager em) {\r\n\r\n	String id = "1";\r\n	Member member = new Member();\r\n	member.setId(id);\r\n	member.setUsername("\uC9C0\uD55C");\r\n	member.setAge(2);\r\n\r\n	//\uB4F1\uB85D\r\n	em.persist(member);\r\n	Member findMember = em.find(Member.class, "0");\r\n	findMember.setUsername("\uC601\uD55C");\r\n\r\n	//\uC218\uC815\r\n	member.setAge(20);\r\n\r\n	//\uD55C \uAC74 \uC870\uD68C\r\n	Member findMember = em.find(Member.class, id);\r\n	System.out.println("findMember=" + findMember.getUsername() + ", age=" + findMember.getAge());\r\n\r\n	//\uBAA9\uB85D \uC870\uD68C\r\n	List<Member> members = em.createQuery("select m from Member m", Member.class).getResultList();\r\n\r\n	for(Member member:members) {\r\n		System.out.println(member.getUsername());\r\n	}\r\n\r\n	//\uC0AD\uC81C\r\n	em.remove(findMember);\r\n\r\n}\n'})})]})}function d(e={}){let{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},255511:function(e,r,n){n.d(r,{R:()=>s,x:()=>c});var t=n(596363);let a={},i=t.createContext(a);function s(e){let r=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);