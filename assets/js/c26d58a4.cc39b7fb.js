"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["547339"],{778994:function(e,r,t){t.r(r),t.d(r,{frontMatter:()=>s,toc:()=>l,default:()=>u,metadata:()=>n,assets:()=>a,contentTitle:()=>d});var n=JSON.parse('{"id":"flutter & dart/flutter State Riverpod AsyncNotifierProvider","title":"flutter State Riverpod AsyncNotifierProvider","description":"AsyncNotifierProvider","source":"@site/docs/flutter & dart/flutter State Riverpod AsyncNotifierProvider.md","sourceDirName":"flutter & dart","slug":"/flutter & dart/flutter State Riverpod AsyncNotifierProvider","permalink":"/docs/flutter & dart/flutter State Riverpod AsyncNotifierProvider","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"flutter Provider","permalink":"/docs/flutter & dart/flutter State Provider"},"next":{"title":"flutter State Riverpod NotifierProvider","permalink":"/docs/flutter & dart/flutter State Riverpod NotifierProvider"}}'),i=t(447259),o=t(255511);let s={},d,a={},l=[{value:"AsyncNotifierProvider",id:"asyncnotifierprovider",level:2},{value:"ConsumerStatefulWidget",id:"consumerstatefulwidget",level:2}];function c(e){let r={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"asyncnotifierprovider",children:"AsyncNotifierProvider"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"\uBE44\uB3D9\uAE30\uB85C \uB370\uC774\uD130\uB97C \uBC1B\uC544\uC62C \uB54C \uC0AC\uC6A9"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"state = AsyncValue.data(value) \uB85C \uB370\uC774\uD130 \uBCC0\uACBD // state = value\uB294 \uC0AC\uC6A9 \uBD88\uAC00"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-dart",children:"class User {\r\n  name: String;\r\n  age: int;\r\n  User({required this.name, required this.age});\r\n}\r\n\r\nclass SomeAsyncNotifier extends AsyncNotifier<List<User>> {\r\n  List<User> _list = [];\r\n\r\n  @override\r\n  FutureOr<List<User>> build() async {\r\n    await Future.delayed(Duration(seconds: 3));\r\n    return _list;\r\n  }\r\n\r\n  void addUser(User user) {\r\n    state = AsyncValue.loading(); // \uAC12\uC744 \uBC1B\uC544\uC62C \uB54C\uAE4C\uC9C0 \uB85C\uB529 \uC0C1\uD0DC\uB85C \uBCC0\uACBD\r\n    await Future.delayed(Duration(seconds: 3));\r\n    _list = [..._list, user];\r\n    state = AsyncValue.data(_list);\r\n  }\r\n}\r\n\r\n// Provider \uC0DD\uC131\r\nfinal someAsyncNotifierProvider = AsyncNotifierProvider<SomeAsyncNotifier, List<User>>(() => SomeAsyncNotifier());\n"})}),"\n",(0,i.jsx)(r.h2,{id:"consumerstatefulwidget",children:"ConsumerStatefulWidget"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"StatefulWidget\uC5D0\uC11C\uB294 WidgetRef ref \uC5C6\uC774 \uBC14\uB85C \uC811\uADFC \uAC00\uB2A5"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"ref.watch().when \uC744 \uC0AC\uC6A9\uD574\uC11C listen"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-dart",children:"class SomeScreen extends ConsumerStatefulWidget {\r\n  @override\r\n  SomeScreenState createState() => SomeScreenState();\r\n}\r\n\r\nclass SomeScreenState extends ConsumerState<SomeScreen> {\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return ref.watch(someNotifierProvider).when(\r\n      loading: () => CircularProgressIndicator(),\r\n      error: (error, stackTrace) => Text('Could not load data: $error'),\r\n      data: (data) {\r\n        return ListView.builder(\r\n          itemCount: data.length,\r\n          itemBuilder: (context, index) {\r\n            return TextButton(\r\n              child: Text(data[index].name),\r\n              onPressed: () {\r\n                ref.read(someNotifierProvider.notifier).addUser('hyuil');\r\n              },\r\n            );\r\n          },\r\n        );\r\n      },\r\n    );\r\n  }\r\n}\n"})})]})}function u(e={}){let{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},255511:function(e,r,t){t.d(r,{R:()=>s,x:()=>d});var n=t(596363);let i={},o=n.createContext(i);function s(e){let r=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);