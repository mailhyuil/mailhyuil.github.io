"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["172191"],{826989:function(e,o,n){n.r(o),n.d(o,{frontMatter:()=>a,toc:()=>i,default:()=>d,metadata:()=>r,assets:()=>c,contentTitle:()=>m});var r=JSON.parse('{"id":"db-mongodb/mongoose relation","title":"mongoose relation","description":"user.schema.ts","source":"@site/docs/db-mongodb/mongoose relation.md","sourceDirName":"db-mongodb","slug":"/db-mongodb/mongoose relation","permalink":"/docs/db-mongodb/mongoose relation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"mongoose nestjs setup","permalink":"/docs/db-mongodb/mongoose nestjs setup"},"next":{"title":"mongoose","permalink":"/docs/db-mongodb/mongoose"}}'),s=n(447259),t=n(255511);let a={},m="mongoose relation",c={},i=[{value:"user.schema.ts",id:"userschemats",level:2},{value:"post.schema.ts",id:"postschemats",level:2}];function l(e){let o={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"mongoose-relation",children:"mongoose relation"})}),"\n",(0,s.jsx)(o.h2,{id:"userschemats",children:"user.schema.ts"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",children:'import * as mongoose from "mongoose";\r\nimport { Prop, Schema, SchemaFactory } from "@nestjs/mongoose";\r\nimport { Document } from "mongoose";\r\nimport { Post } from "./post.schema";\r\n\r\n@Schema()\r\nexport class User {\r\n  @Prop()\r\n  username: string;\r\n\r\n  @Prop()\r\n  email: string;\r\n\r\n  @Prop({ type: [{ type: mongoose.Schema.Types.ObjectId, ref: "Post" }] })\r\n  posts: Post[];\r\n}\r\n\r\nexport const UserSchema = SchemaFactory.createForClass(User);\n'})}),"\n",(0,s.jsx)(o.h2,{id:"postschemats",children:"post.schema.ts"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",children:'import { Prop, Schema, SchemaFactory } from "@nestjs/mongoose";\r\nimport { Document } from "mongoose";\r\nimport { User } from "./user.schema";\r\n\r\n@Schema()\r\nexport class Post {\r\n  @Prop()\r\n  title: string;\r\n\r\n  @Prop()\r\n  content: string;\r\n\r\n  @Prop({ type: mongoose.Schema.Types.ObjectId, ref: "User" })\r\n  user: User;\r\n}\r\n\r\nexport const PostSchema = SchemaFactory.createForClass(Post);\n'})})]})}function d(e={}){let{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},255511:function(e,o,n){n.d(o,{R:()=>a,x:()=>m});var r=n(596363);let s={},t=r.createContext(s);function a(e){let o=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function m(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:o},e.children)}}}]);