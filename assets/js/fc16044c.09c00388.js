"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["919801"],{773947:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>o,toc:()=>c,default:()=>l,metadata:()=>r,assets:()=>m,contentTitle:()=>i});var r=JSON.parse('{"id":"x design pattern/Behavioral memento","title":"memento","description":"\uAC1D\uCCB4\uC758 \uC0C1\uD0DC \uC815\uBCF4\uB97C \uAC00\uC9C0\uB294 \uD074\uB798\uC2A4\uB97C \uB530\uB85C \uC0DD\uC131\uD558\uC5EC, \uAC1D\uCCB4\uC758 \uC0C1\uD0DC\uB97C \uC800\uC7A5\uD558\uAC70\uB098 \uC774\uC804 \uC0C1\uD0DC\uB85C \uBCF5\uC6D0\uD560 \uC218 \uC788\uAC8C \uD574\uC8FC\uB294 \uD328\uD134","source":"@site/docs/x design pattern/Behavioral memento.md","sourceDirName":"x design pattern","slug":"/x design pattern/Behavioral memento","permalink":"/docs/x design pattern/Behavioral memento","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"mediator pattern (\uC911\uC7AC\uC790 \uD328\uD134)","permalink":"/docs/x design pattern/Behavioral mediator"},"next":{"title":"observer","permalink":"/docs/x design pattern/Behavioral observer"}}'),a=t(447259),s=t(255511);let o={},i="memento",m={},c=[{value:"\uAD6C\uC870",id:"\uAD6C\uC870",level:2},{value:"usage \uC608",id:"usage-\uC608",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"memento",children:"memento"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"\uAC1D\uCCB4\uC758 \uC0C1\uD0DC \uC815\uBCF4\uB97C \uAC00\uC9C0\uB294 \uD074\uB798\uC2A4\uB97C \uB530\uB85C \uC0DD\uC131\uD558\uC5EC, \uAC1D\uCCB4\uC758 \uC0C1\uD0DC\uB97C \uC800\uC7A5\uD558\uAC70\uB098 \uC774\uC804 \uC0C1\uD0DC\uB85C \uBCF5\uC6D0\uD560 \uC218 \uC788\uAC8C \uD574\uC8FC\uB294 \uD328\uD134"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"\uC6D0\uD558\uB294 \uC2DC\uC810\uC758 \uC0C1\uD0DC \uBCF5\uC6D0\uC774 \uAC00\uB2A5\uD558\uB2E4"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\uAD6C\uC870",children:"\uAD6C\uC870"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'// Originator \uD074\uB798\uC2A4\r\nclass Originator {\r\n  constructor(state) {\r\n    this.state = state;\r\n  }\r\n  createMemento() {\r\n    return new Memento(this.state);\r\n  }\r\n  restoreMemento(memento) {\r\n    this.state = memento.getState();\r\n  }\r\n  getState() {\r\n    return this.state;\r\n  }\r\n  setState(state) {\r\n    this.state = state;\r\n  }\r\n}\r\n\r\n// Memento \uD074\uB798\uC2A4\r\nclass Memento {\r\n  constructor(state) {\r\n    this.state = state;\r\n  }\r\n  getState() {\r\n    return this.state;\r\n  }\r\n}\r\n\r\n// Caretaker \uD074\uB798\uC2A4\r\nclass Caretaker {\r\n  constructor() {\r\n    this.mementos = [];\r\n  }\r\n  addMemento(memento) {\r\n    this.mementos.push(memento);\r\n  }\r\n  getMemento(index) {\r\n    return this.mementos[index];\r\n  }\r\n}\r\n\r\n// \uAC1D\uCCB4 \uC0DD\uC131\r\nconst originator = new Originator("Initial state");\r\nconst caretaker = new Caretaker();\r\n\r\n// \uC0C1\uD0DC \uBCC0\uACBD \uD6C4 Memento \uC800\uC7A5\r\noriginator.setState("Changed state");\r\ncaretaker.addMemento(originator.createMemento());\r\n\r\n// \uC0C1\uD0DC \uBCC0\uACBD \uD6C4 Memento \uC800\uC7A5\r\noriginator.setState("New state");\r\ncaretaker.addMemento(originator.createMemento());\r\n\r\n// \uC774\uC804 \uC0C1\uD0DC\uB85C \uBCF5\uC6D0\r\noriginator.restoreMemento(caretaker.getMemento(0));\r\nconsole.log(originator.getState()); // "Changed state"\n'})}),"\n",(0,a.jsx)(n.h2,{id:"usage-\uC608",children:"usage \uC608"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'class Person {\r\n  constructor(name, street, city, state) {\r\n    this.name = name;\r\n    this.street = street;\r\n    this.city = city;\r\n    this.state = state;\r\n  }\r\n\r\n  hydrate() {\r\n    const memento = JSON.stringify(this);\r\n    return memento;\r\n  }\r\n\r\n  dehydrate(memento) {\r\n    const m = JSON.parse(memento);\r\n    this.name = m.name;\r\n    this.street = m.street;\r\n    this.city = m.city;\r\n    this.state = m.state;\r\n  }\r\n}\r\n\r\nclass CareTaker {\r\n  mementos = {};\r\n\r\n  add(key, memento) {\r\n    this.mementos[key] = memento;\r\n  }\r\n\r\n  get(key) {\r\n    return this.mementos[key];\r\n  }\r\n}\r\n\r\nconst mike = new Person("Mike Foley", "1112 Main", "Dallas", "TX");\r\nconst john = new Person("John Wang", "48th Street", "San Jose", "CA");\r\nconst caretaker = new CareTaker();\r\n\r\n// save state // \uC0C1\uD0DC\uB97C \uC800\uC7A5\r\n\r\ncaretaker.add(1, mike.hydrate());\r\ncaretaker.add(2, john.hydrate());\r\n\r\n// mess up their names // \uC0C1\uD0DC \uBC14\uAFB8\uAE30\r\n\r\nmike.name = "King Kong";\r\njohn.name = "Superman";\r\n\r\n// restore original state // \uC0C1\uD0DC \uBCF5\uC6D0\r\n\r\nmike.dehydrate(caretaker.get(1));\r\njohn.dehydrate(caretaker.get(2));\r\n\r\nconsole.log(mike.name);\r\nconsole.log(john.name);\n'})})]})}function l(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},255511:function(e,n,t){t.d(n,{R:()=>o,x:()=>i});var r=t(596363);let a={},s=r.createContext(a);function o(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);