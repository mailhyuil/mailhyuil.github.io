"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[88347],{122946:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>i});const o=JSON.parse('{"id":"angular/angular CSP Nonce","title":"angular CSP Nonce","description":"unsafe-inline, unsafe-eval\uc744 \uc0ac\uc6a9\ud558\uba74 XSS \uacf5\uaca9\uc5d0 \ucde8\uc57d\ud558\uae30 \ub54c\ubb38\uc5d0 \uc774\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c nonce\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubcf4\uc548\uc744 \uac15\ud654\ud55c\ub2e4.","source":"@site/docs/angular/angular CSP Nonce.md","sourceDirName":"angular","slug":"/angular/angular CSP Nonce","permalink":"/docs/angular/angular CSP Nonce","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"angular CORS proxy","permalink":"/docs/angular/angular CORS proxy"},"next":{"title":"angular CSP Trusted Types","permalink":"/docs/angular/angular CSP Trusted Types"}}');var t=r(447259),a=r(529087);const c={},l="angular CSP Nonce",s={},i=[{value:"nonce.generator.ts",id:"noncegeneratorts",level:2},{value:"index.html",id:"indexhtml",level:2},{value:"provider",id:"provider",level:2},{value:"index.html (CSP \uc124\uc815)",id:"indexhtml-csp-\uc124\uc815",level:2}];function d(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"angular-csp-nonce",children:"angular CSP Nonce"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"unsafe-inline, unsafe-eval\uc744 \uc0ac\uc6a9\ud558\uba74 XSS \uacf5\uaca9\uc5d0 \ucde8\uc57d\ud558\uae30 \ub54c\ubb38\uc5d0 \uc774\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c nonce\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubcf4\uc548\uc744 \uac15\ud654\ud55c\ub2e4."}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"ngCspNonce\uc5d0 nonce \uc774\ub984\uc744 \ucd94\uac00\ud55c\ub2e4."}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"CSP_NONCE\uc5d0 Nonce \uac12\uc744 \uc785\ub825\ud558\uba74 \uc790\ub3d9\uc73c\ub85c angular\uac00 CSP\uc5d0 nonce\ub97c \ucd94\uac00\ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"noncegeneratorts",children:"nonce.generator.ts"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'import { randomBytes } from "crypto";\r\n\r\nfunction generateNonce(): string {\r\n  return randomBytes(16).toString("base64");\r\n}\r\nconst randomNonce = generateNonce();\r\n\r\nexport { randomNonce };\n'})}),"\n",(0,t.jsx)(e.h2,{id:"indexhtml",children:"index.html"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-html",children:'<app-root ngCspNonce="randomNonce"></app-root>\n'})}),"\n",(0,t.jsx)(e.h2,{id:"provider",children:"provider"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"angular\uac00 nonce\ub97c \ucd94\uac00\ud574\uc900\ub2e4."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"import {CSP_NONCE} from '@angular/core';\r\nimport { randomNonce } from './nonce.generator';\r\n{\r\n  provide: CSP_NONCE,\r\n  useValue: randomNonce\r\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"indexhtml-csp-\uc124\uc815",children:"index.html (CSP \uc124\uc815)"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"provider\uc5d0\uc11c \ubc1b\uc740 nonce\ub97c randomNonce text\uc640 \ubc14\uafd4\uce58\uae30 \ud574\uc900\ub2e4."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-html",children:"<meta\r\n  http-equiv=\"Content-Security-Policy\"\r\n  content=\"default-src 'self'; style-src 'self' 'nonce-randomNonce'; script-src 'self' 'nonce-randomNonce';\"\r\n/>\n"})})]})}function u(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},529087:(n,e,r)=>{r.d(e,{R:()=>c,x:()=>l});var o=r(596363);const t={},a=o.createContext(t);function c(n){const e=o.useContext(a);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),o.createElement(a.Provider,{value:e},n.children)}}}]);