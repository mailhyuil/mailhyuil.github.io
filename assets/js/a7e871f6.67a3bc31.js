"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[537908],{529087:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var s=r(596363);const c={},t=s.createContext(c);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),s.createElement(t.Provider,{value:n},e.children)}},984492:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>i});const s=JSON.parse('{"id":"base/Graceful Shutdown","title":"Graceful Shutdown","description":"hard shutdown\uc758 \ubc18\ub300 \uac1c\ub150","source":"@site/docs/base/Graceful Shutdown.md","sourceDirName":"base","slug":"/base/Graceful Shutdown","permalink":"/docs/base/Graceful Shutdown","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Garbage Collection (\uac00\ube44\uc9c0 \uceec\ub809\uc158)","permalink":"/docs/base/Garbage Collection - \uac00\ube44\uc9c0 \uceec\ub809\uc158"},"next":{"title":"Hydrate & Dehydrate","permalink":"/docs/base/Hydrate & Dehydrate"}}');var c=r(447259),t=r(529087);const o={},l="Graceful Shutdown",d={},i=[{value:"Hard Shutdown",id:"hard-shutdown",level:2},{value:"Graceful Shutdown",id:"graceful-shutdown-1",level:2},{value:"\uad6c\ud604",id:"\uad6c\ud604",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"graceful-shutdown",children:"Graceful Shutdown"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"hard shutdown\uc758 \ubc18\ub300 \uac1c\ub150"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\uc791\uc5c5\uc744 \uc815\uc0c1\uc801\uc73c\ub85c \uc885\ub8cc\uc2dc\ud0a4\ub294 \uac83"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"(e.g. buffer\uc5d0 \ub098\uc740 \ub85c\uadf8\ub97c flush\ud558\ub294 \uc791\uc5c5, consumer\uc758 \uacbd\uc6b0 consume\uc744 \uc911\ub2e8\ud558\uace0 \ub0a8\uc740 \uba54\uc2dc\uc9c0\ub97c \ucc98\ub9ac\ud558\ub294 \uc791\uc5c5 \ub4f1)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"signal -> signal catching -> cleanup logic -> wait for cleanup -> exit"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"hard-shutdown",children:"Hard Shutdown"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\uc885\ub8cc \uc2dc\uadf8\ub110\uacfc \ud568\uaed8 \ubaa8\ub4e0 \uc791\uc5c5\uc744 \uc885\ub8cc\uc2dc\ud0a4\ub294 \uac83"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"(e.g. \ucef4\ud4e8\ud130\uc758 \uc804\uc6d0\uc744 \uac15\uc81c\ub85c \ub044\ub294 \uac83)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"SIGKILL // kill -9"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"graceful-shutdown-1",children:"Graceful Shutdown"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\ud558\uace0 \uc788\ub358 \uc791\uc5c5\uc744 \uc801\uc808\ud788 \ub9c8\ubb34\ub9ac \ud6c4 \uc815\uc0c1\uc801\uc73c\ub85c \uc885\ub8cc\uc2dc\ud0a4\ub294 \uac83"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"(e.g. http \uc11c\ubc84\uc758 \uacbd\uc6b0 \ucc98\ub9ac \uc911\uc778 \uc694\uccad\uc744 \ubaa8\ub450 \ucc98\ub9ac\ud55c \ud6c4 \uc885\ub8cc)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"SIGINT, SIGTERM // kill -2, kill -15"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\ub450 \uc2dc\uadf8\ub110\uc740 catch\ub97c \ud558\uc5ec \uc791\uc5c5\uc744 \uc218\ud589 \ud6c4 \uc885\ub8cc\uc2dc\ud0a4\ub294 \uac83\uc774 \uac00\ub2a5\ud558\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"\uad6c\ud604",children:"\uad6c\ud604"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"SIGINT, SIGTERM \uc2dc\uadf8\ub110\uc744 \ubc1b\uc73c\uba74 \uc791\uc5c5\uc744 \uc885\ub8cc\uc2dc\ud0a4\ub294 \ucf54\ub4dc\ub97c \uc791\uc131\ud55c\ub2e4."}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"SIGINT, SIGTERM \ub4f1\uc740 \uae30\ubcf8\uc73c\ub85c process exit 0 \ub85c \uc885\ub8cc\ub418\uc9c0\ub9cc, \uc2dc\uadf8\ub110 \ud6c4\ud0b9\uc744 \uc0ac\uc6a9\ud560 \uacbd\uc6b0 \uba85\uc2dc\uc801\uc73c\ub85c \uc885\ub8cc\uc2dc\ud0a4\ub294 \ucf54\ub4dc\ub97c \uc791\uc131\ud574\uc57c \ud55c\ub2e4."}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Signal \uc774\ubca4\ud2b8\uac00 \uc548\ucc0d\ud788\uba74 \ud130\ubbf8\ub110\uc758 \ubb38\uc81c\uc77c \uc218 \uc788\ub2e4. (git bash\uac19\uc740 \ud130\ubbf8\ub110\uc5d0\uc11c\ub294 \uc548\ucc0d\ud798)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:'// \uc2dc\uadf8\ub110 \ud6c4\ud0b9\r\nprocess.on("SIGINT", () => {\r\n  //  \uc791\uc5c5 \uc885\ub8cc\r\n  process.exit(0);\r\n});\r\nprocess.on("SIGTERM", () => {\r\n  //  \uc791\uc5c5 \uc885\ub8cc\r\n  process.exit(0);\r\n});\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}}}]);