"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[275659],{529087:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var o=r(596363);const c={},l=o.createContext(c);function s(e){const n=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),o.createElement(l.Provider,{value:n},e.children)}},891164:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>g,frontMatter:()=>s,metadata:()=>o,toc:()=>i});const o=JSON.parse('{"id":"go/go \ucd5c\uc801\ud654 memory garbage collector \ucd5c\uc801\ud654","title":"go memory garbage collector \ucd5c\uc801\ud654","description":"1. \ud560\ub2f9\uc744 \uc904\uc5ec\ub77c","source":"@site/docs/go/go \ucd5c\uc801\ud654 memory garbage collector \ucd5c\uc801\ud654.md","sourceDirName":"go","slug":"/go/go \ucd5c\uc801\ud654 memory garbage collector \ucd5c\uc801\ud654","permalink":"/docs/go/go \ucd5c\uc801\ud654 memory garbage collector \ucd5c\uc801\ud654","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"go memory garbage collector (GC)","permalink":"/docs/go/go \ucd5c\uc801\ud654 memory garbage collector GOGC"},"next":{"title":"go memory garbage collector (GC)","permalink":"/docs/go/go \ucd5c\uc801\ud654 memory garbage collector"}}');var c=r(447259),l=r(529087);const s={},t="go memory garbage collector \ucd5c\uc801\ud654",a={},i=[];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"go-memory-garbage-collector-\ucd5c\uc801\ud654",children:"go memory garbage collector \ucd5c\uc801\ud654"})}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\ud560\ub2f9\uc744 \uc904\uc5ec\ub77c","\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\uac00\ub2a5\ud558\uba74 \uc2a4\ud0dd\uc744 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uacc4"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-go",children:"var buf [4096]byte // \uc2a4\ud0dd\uc5d0 \uc7a1\ud798 (GC \ub300\uc0c1 \uc544\ub2d8)\r\n\r\nbuf := make([]byte, 4096) // \ud799 \ud560\ub2f9 (GC \ub300\uc0c1)\n"})}),"\n",(0,c.jsxs)(n.ol,{start:"2",children:["\n",(0,c.jsxs)(n.li,{children:["\uba54\ubaa8\ub9ac \uc7ac\uc0ac\uc6a9","\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\ubc18\ubcf5\uc801\uc73c\ub85c \uc0dd\uc131/\uc0ad\uc81c\ub418\ub294 \uac1d\uccb4\ub97c \uce90\uc2f1\ud558\uba74 GC \ubd80\ub2f4 \ud655 \uc904\uc5b4\ub4e6"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"GC\ub294 sync.Pool \uac1d\uccb4\ub294 GC \uc804\uae4c\uc9c0\ub294 \uc548 \uac74\ub4dc\ub9bc"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-go",children:"var bufPool = sync.Pool{\r\n    New: func() interface{} {\r\n        return make([]byte, 1024)\r\n    },\r\n}\r\n\r\nbuf := bufPool.Get().([]byte)\r\n// ... \uc0ac\uc6a9\ud558\uace0 \ub098\uc11c\r\nbufPool.Put(buf)\n"})}),"\n",(0,c.jsxs)(n.ol,{start:"3",children:["\n",(0,c.jsxs)(n.li,{children:["\uc2ac\ub77c\uc774\uc2a4/\ub9f5\uc744 \uc7ac\uc0ac\uc6a9","\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\uc2ac\ub77c\uc774\uc2a4\ub97c clear\ud558\uace0 \uc7ac\uc0ac\uc6a9\ud558\uba74 GC \uc548 \ub07c\uc5b4\ub4e6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-go",children:"s = s[:0] // \uae30\uc874 cap \uc720\uc9c0\ud55c \ucc44\ub85c \uc7ac\uc0ac\uc6a9 \uac00\ub2a5\n"})}),"\n",(0,c.jsxs)(n.ol,{start:"4",children:["\n",(0,c.jsx)(n.li,{children:"\ud544\uc694\uc5c6\ub294 \ucc38\uc870\ub294 \ube68\ub9ac \ub04a\uc5b4\ub77c"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-go",children:"var cache []*BigStruct // \u274c \uc624\ub798 \ucc38\uc870\ud558\uba74 GC \ubabb \uce58\uc6c0\r\n\r\ncache = nil            // \u2705 \ucc38\uc870 \ub04a\uc5b4\uc8fc\uae30\n"})}),"\n",(0,c.jsxs)(n.ol,{start:"5",children:["\n",(0,c.jsx)(n.li,{children:"GOGC \ud29c\ub2dd"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"GOGC=100 ./app     # \uae30\ubcf8\uac12\r\nGOGC=200 ./app     # GC \ub35c \uc790\uc8fc \ub3cc\uc74c \u2192 \uba54\ubaa8\ub9ac \ub354 \ub9ce\uc774 \uc500\r\nGOGC=50 ./app      # GC \uc790\uc8fc \ub3cc\uc74c \u2192 CPU \ub354 \ub9ce\uc774 \uc500\n"})}),"\n",(0,c.jsxs)(n.ol,{start:"6",children:["\n",(0,c.jsxs)(n.li,{children:["GC \ud504\ub85c\ud30c\uc77c\ub9c1","\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"GC\uac00 \uc5bc\ub9c8\ub098 \uc790\uc8fc \ub3cc\uace0, \uc5bc\ub9c8\ub098 \ub9ce\uc740 \uba54\ubaa8\ub9ac\ub97c \uc0ac\uc6a9\ud588\ub294\uc9c0 \ud655\uc778 \uac00\ub2a5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"GODEBUG=gctrace=1 ./app # GC\uac00 \ubc1c\uc0dd\ud560 \ub54c\ub9c8\ub2e4 \ub85c\uadf8 \ucd9c\ub825\n"})}),"\n",(0,c.jsxs)(n.ol,{start:"7",children:["\n",(0,c.jsxs)(n.li,{children:["\ub300\ud615 \uac1d\uccb4\ub294 \ub418\ub3c4\ub85d \ud53c\ud558\uc790","\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\ub300\ud615 \uac1d\uccb4\ub294 GC\uac00 \ub290\ub824\uc9d0"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"16KB \uc774\uc0c1\uc778 \uacbd\uc6b0, GC\uac00 \ub354 \ub290\ub824\uc9d0"}),"\n"]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"32KB \uc774\uc0c1\uc778 \uacbd\uc6b0, GC\uac00 \ub354\ub354 \ub290\ub824\uc9d0"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\ud544\uc694\ud558\ub2e4\uba74 chunk\ub85c \ub098\ub220\uc11c \uad00\ub9ac\ud558\uac70\ub098, sync.Pool\uc744 \uc0ac\uc6a9"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}}}]);