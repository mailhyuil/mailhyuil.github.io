"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[851872],{529087:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var r=t(596363);const a={},s=r.createContext(a);function o(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}},981568:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"x design pattern/Behavioral memento","title":"memento","description":"\uac1d\uccb4\uc758 \uc0c1\ud0dc \uc815\ubcf4\ub97c \uac00\uc9c0\ub294 \ud074\ub798\uc2a4\ub97c \ub530\ub85c \uc0dd\uc131\ud558\uc5ec, \uac1d\uccb4\uc758 \uc0c1\ud0dc\ub97c \uc800\uc7a5\ud558\uac70\ub098 \uc774\uc804 \uc0c1\ud0dc\ub85c \ubcf5\uc6d0\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \ud328\ud134","source":"@site/docs/x design pattern/Behavioral memento.md","sourceDirName":"x design pattern","slug":"/x design pattern/Behavioral memento","permalink":"/docs/x design pattern/Behavioral memento","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"mediator pattern (\uc911\uc7ac\uc790 \ud328\ud134)","permalink":"/docs/x design pattern/Behavioral mediator"},"next":{"title":"observer","permalink":"/docs/x design pattern/Behavioral observer"}}');var a=t(447259),s=t(529087);const o={},i="memento",m={},c=[{value:"\uad6c\uc870",id:"\uad6c\uc870",level:2},{value:"usage \uc608",id:"usage-\uc608",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"memento",children:"memento"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"\uac1d\uccb4\uc758 \uc0c1\ud0dc \uc815\ubcf4\ub97c \uac00\uc9c0\ub294 \ud074\ub798\uc2a4\ub97c \ub530\ub85c \uc0dd\uc131\ud558\uc5ec, \uac1d\uccb4\uc758 \uc0c1\ud0dc\ub97c \uc800\uc7a5\ud558\uac70\ub098 \uc774\uc804 \uc0c1\ud0dc\ub85c \ubcf5\uc6d0\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \ud328\ud134"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"\uc6d0\ud558\ub294 \uc2dc\uc810\uc758 \uc0c1\ud0dc \ubcf5\uc6d0\uc774 \uac00\ub2a5\ud558\ub2e4"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\uad6c\uc870",children:"\uad6c\uc870"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'// Originator \ud074\ub798\uc2a4\r\nclass Originator {\r\n  constructor(state) {\r\n    this.state = state;\r\n  }\r\n  createMemento() {\r\n    return new Memento(this.state);\r\n  }\r\n  restoreMemento(memento) {\r\n    this.state = memento.getState();\r\n  }\r\n  getState() {\r\n    return this.state;\r\n  }\r\n  setState(state) {\r\n    this.state = state;\r\n  }\r\n}\r\n\r\n// Memento \ud074\ub798\uc2a4\r\nclass Memento {\r\n  constructor(state) {\r\n    this.state = state;\r\n  }\r\n  getState() {\r\n    return this.state;\r\n  }\r\n}\r\n\r\n// Caretaker \ud074\ub798\uc2a4\r\nclass Caretaker {\r\n  constructor() {\r\n    this.mementos = [];\r\n  }\r\n  addMemento(memento) {\r\n    this.mementos.push(memento);\r\n  }\r\n  getMemento(index) {\r\n    return this.mementos[index];\r\n  }\r\n}\r\n\r\n// \uac1d\uccb4 \uc0dd\uc131\r\nconst originator = new Originator("Initial state");\r\nconst caretaker = new Caretaker();\r\n\r\n// \uc0c1\ud0dc \ubcc0\uacbd \ud6c4 Memento \uc800\uc7a5\r\noriginator.setState("Changed state");\r\ncaretaker.addMemento(originator.createMemento());\r\n\r\n// \uc0c1\ud0dc \ubcc0\uacbd \ud6c4 Memento \uc800\uc7a5\r\noriginator.setState("New state");\r\ncaretaker.addMemento(originator.createMemento());\r\n\r\n// \uc774\uc804 \uc0c1\ud0dc\ub85c \ubcf5\uc6d0\r\noriginator.restoreMemento(caretaker.getMemento(0));\r\nconsole.log(originator.getState()); // "Changed state"\n'})}),"\n",(0,a.jsx)(n.h2,{id:"usage-\uc608",children:"usage \uc608"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'class Person {\r\n  constructor(name, street, city, state) {\r\n    this.name = name;\r\n    this.street = street;\r\n    this.city = city;\r\n    this.state = state;\r\n  }\r\n\r\n  hydrate() {\r\n    const memento = JSON.stringify(this);\r\n    return memento;\r\n  }\r\n\r\n  dehydrate(memento) {\r\n    const m = JSON.parse(memento);\r\n    this.name = m.name;\r\n    this.street = m.street;\r\n    this.city = m.city;\r\n    this.state = m.state;\r\n  }\r\n}\r\n\r\nclass CareTaker {\r\n  mementos = {};\r\n\r\n  add(key, memento) {\r\n    this.mementos[key] = memento;\r\n  }\r\n\r\n  get(key) {\r\n    return this.mementos[key];\r\n  }\r\n}\r\n\r\nconst mike = new Person("Mike Foley", "1112 Main", "Dallas", "TX");\r\nconst john = new Person("John Wang", "48th Street", "San Jose", "CA");\r\nconst caretaker = new CareTaker();\r\n\r\n// save state // \uc0c1\ud0dc\ub97c \uc800\uc7a5\r\n\r\ncaretaker.add(1, mike.hydrate());\r\ncaretaker.add(2, john.hydrate());\r\n\r\n// mess up their names // \uc0c1\ud0dc \ubc14\uafb8\uae30\r\n\r\nmike.name = "King Kong";\r\njohn.name = "Superman";\r\n\r\n// restore original state // \uc0c1\ud0dc \ubcf5\uc6d0\r\n\r\nmike.dehydrate(caretaker.get(1));\r\njohn.dehydrate(caretaker.get(2));\r\n\r\nconsole.log(mike.name);\r\nconsole.log(john.name);\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);