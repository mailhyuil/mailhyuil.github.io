"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["467542"],{438751:function(n,e,o){o.r(e),o.d(e,{frontMatter:()=>a,toc:()=>c,default:()=>u,metadata:()=>r,assets:()=>s,contentTitle:()=>i});var r=JSON.parse('{"id":"ai langchain/langchain Tool Calling","title":"langchain Tool Calling","description":"\uCC57 \uBAA8\uB378 API\uC5D0\uC11C Tools\uC758 \uC2A4\uD0A4\uB9C8\uB97C \uC785\uB825\uACFC \uD568\uAED8 \uBC1B\uC544\uB4E4\uC774\uACE0, \uBAA8\uB378\uC758 \uCD9C\uB825 \uBA54\uC2DC\uC9C0\uC5D0 \uD574\uB2F9 \uB3C4\uAD6C\uC758 \uD638\uCD9C \uACB0\uACFC\uB97C \uD3EC\uD568\uD558\uB294 \uBC29\uC2DD","source":"@site/docs/ai langchain/langchain Tool Calling.md","sourceDirName":"ai langchain","slug":"/ai langchain/langchain Tool Calling","permalink":"/docs/ai langchain/langchain Tool Calling","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"langchain Tool Agents","permalink":"/docs/ai langchain/langchain Tool Agents"},"next":{"title":"langchain Tools","permalink":"/docs/ai langchain/langchain Tools"}}'),t=o(447259),l=o(255511);let a={},i="langchain Tool Calling",s={},c=[];function p(n){let e={blockquote:"blockquote",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,l.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"langchain-tool-calling",children:"langchain Tool Calling"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\uCC57 \uBAA8\uB378 API\uC5D0\uC11C Tools\uC758 \uC2A4\uD0A4\uB9C8\uB97C \uC785\uB825\uACFC \uD568\uAED8 \uBC1B\uC544\uB4E4\uC774\uACE0, \uBAA8\uB378\uC758 \uCD9C\uB825 \uBA54\uC2DC\uC9C0\uC5D0 \uD574\uB2F9 \uB3C4\uAD6C\uC758 \uD638\uCD9C \uACB0\uACFC\uB97C \uD3EC\uD568\uD558\uB294 \uBC29\uC2DD"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"tool calling\uC774 \uBC1C\uB3D9\uD588\uC744 \uACBD\uC6B0 response.tool_calls \uC5D0 \uD638\uCD9C\uB41C tool\uC774 \uD3EC\uD568\uB418\uC5B4 \uC788\uC74C"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'import { tool } from "@langchain/core/tools";\r\n\r\nconst multiply = tool(\r\n  ({ a, b }: { a: number; b: number }): number => {\r\n    return a * b;\r\n  },\r\n  {\r\n    name: "multiply",\r\n    description: "Multiply two numbers",\r\n    // input schema\r\n    schema: z.object({\r\n      a: z.number(),\r\n      b: z.number(),\r\n    }),\r\n  },\r\n);\r\n\r\n// Tool Calling \uD559\uC2B5\r\nconst prompt = ChatPromptTemplate.fromMessages([\r\n  [\r\n    "system",\r\n    "You are an AI assistant that can perform mathematical operations using tools. Use the \'multiply\' tool when a user asks for multiplication.",\r\n  ],\r\n]);\r\n\r\n// Tool binding\r\nconst llmWithTools = this.llm.bindTools([multiply]);\r\n\r\n// Tool Calling\r\nconst res = await prompt.pipe(llmWithTools).invoke({ message });\r\n\r\nconsole.log(res);\r\n/**\r\nAIMessage {\r\n  "id": "chatcmpl-B1xYTkKuYl1CtPBe55aKE4D1PGFvM",\r\n  "content": "",\r\n  "additional_kwargs": {\r\n    "tool_calls": [\r\n      {\r\n        "id": "call_XWqwYZVqFDRP92DXWZODTeOu",\r\n        "type": "function",\r\n        "function": "[Object]"\r\n      }\r\n    ]\r\n  },\r\n  "response_metadata": {\r\n    "tokenUsage": {\r\n      "promptTokens": 52,\r\n      "completionTokens": 18,\r\n      "totalTokens": 70\r\n    },\r\n    "finish_reason": "tool_calls",\r\n    "model_name": "gpt-4o-mini-2024-07-18",\r\n    "usage": {\r\n      "prompt_tokens": 52,\r\n      "completion_tokens": 18,\r\n      "total_tokens": 70,\r\n      "prompt_tokens_details": {\r\n        "cached_tokens": 0,\r\n        "audio_tokens": 0\r\n      },\r\n      "completion_tokens_details": {\r\n        "reasoning_tokens": 0,\r\n        "audio_tokens": 0,\r\n        "accepted_prediction_tokens": 0,\r\n        "rejected_prediction_tokens": 0\r\n      }\r\n    },\r\n    "system_fingerprint": "fp_00428b782a"\r\n  },\r\n  "tool_calls": [\r\n    {\r\n      "name": "multiply",\r\n      "args": {\r\n        "a": 1,\r\n        "b": 2\r\n      },\r\n      "type": "tool_call",\r\n      "id": "call_XWqwYZVqFDRP92DXWZODTeOu"\r\n    }\r\n  ],\r\n  "invalid_tool_calls": [],\r\n  "usage_metadata": {\r\n    "output_tokens": 18,\r\n    "input_tokens": 52,\r\n    "total_tokens": 70,\r\n    "input_token_details": {\r\n      "audio": 0,\r\n      "cache_read": 0\r\n    },\r\n    "output_token_details": {\r\n      "audio": 0,\r\n      "reasoning": 0\r\n    }\r\n  }\r\n}\r\n*/\n'})})]})}function u(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(p,{...n})}):p(n)}},255511:function(n,e,o){o.d(e,{R:()=>a,x:()=>i});var r=o(596363);let t={},l=r.createContext(t);function a(n){let e=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);