"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["949415"],{368139:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>c,toc:()=>l,default:()=>u,metadata:()=>t,assets:()=>s,contentTitle:()=>i});var t=JSON.parse('{"id":"nx/nx webpack angular","title":"nx webpack angular","description":"project.json","source":"@site/docs/nx/nx webpack angular.md","sourceDirName":"nx","slug":"/nx/nx webpack angular","permalink":"/docs/nx/nx webpack angular","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nx bundle analyze","permalink":"/docs/nx/nx webpack analyze --stats-json"},"next":{"title":"nx budgets","permalink":"/docs/nx/nx webpack budgets"}}'),a=r(447259),o=r(255511);let c={},i="nx webpack angular",s={},l=[{value:"project.json",id:"projectjson",level:2},{value:"webpack.config.js",id:"webpackconfigjs",level:2}];function p(n){let e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"nx-webpack-angular",children:"nx webpack angular"})}),"\n",(0,a.jsx)(e.h2,{id:"projectjson",children:"project.json"}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"executor\uB97C \uBCC0\uACBD"}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-json",children:'"build": {\r\n    "executor": "@nx/angular:webpack-browser",\r\n    "options": {\r\n        "main": "apps/admin/src/main.ts", // "browser": "apps/admin/src/main.ts" \uB97C main\uC73C\uB85C \uBCC0\uACBD\r\n        "buildLibsFromSource": false,\r\n        "customWebpackConfig": {\r\n          "path": "apps/client/webpack.config.js"\r\n        }\r\n    }\r\n},\r\n"serve": {\r\n    "executor": "@nx/angular:dev-server",\r\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"webpackconfigjs",children:"webpack.config.js"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const webpack = require(\"webpack\");\r\n\r\nfunction getClientEnvironment() {\r\n  // Grab NX_* environment variables and prepare them to be injected\r\n  // into the application via DefinePlugin in webpack configuration.\r\n  const NX_APP = /^NX_/i;\r\n\r\n  const raw = Object.keys(process.env)\r\n    .filter((key) => NX_APP.test(key))\r\n    .reduce((env, key) => {\r\n      env[key] = process.env[key];\r\n      return env;\r\n    }, {});\r\n\r\n  // Stringify all values so we can feed into webpack DefinePlugin\r\n  return {\r\n    \"process.env\": Object.keys(raw).reduce((env, key) => {\r\n      env[key] = JSON.stringify(raw[key]);\r\n      return env;\r\n    }, {}),\r\n  };\r\n}\r\n\r\n/**\r\n * @param {import('webpack').Configuration} config\r\n * @param {*} options\r\n * @param {*} context\r\n * @returns {import('webpack').Configuration}\r\n */\r\nmodule.exports = (config, options, context) => {\r\n  // Overwrite the mode set by Angular if the NODE_ENV is set\r\n  config.mode = config.mode;\r\n  config.plugins = config.plugins || [];\r\n  config.plugins.push(new webpack.DefinePlugin(getClientEnvironment()));\r\n  return config;\r\n};\n"})})]})}function u(n={}){let{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(p,{...n})}):p(n)}},255511:function(n,e,r){r.d(e,{R:()=>c,x:()=>i});var t=r(596363);let a={},o=t.createContext(a);function c(n){let e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:c(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);