"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[979154],{529087:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var t=s(596363);const o={},r=t.createContext(o);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},710800:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"nodejs/nodejs module wasi - wasm","title":"nodejs module wasi (WebAssembly System Interface)","description":"node 20 \uc774\uc0c1\ubd80\ud130 \ub0b4\uc7a5\ub41c wasm \ubaa8\ub4c8","source":"@site/docs/nodejs/nodejs module wasi - wasm.md","sourceDirName":"nodejs","slug":"/nodejs/nodejs module wasi - wasm","permalink":"/docs/nodejs/nodejs module wasi - wasm","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"util","permalink":"/docs/nodejs/nodejs module util"},"next":{"title":"node zlib","permalink":"/docs/nodejs/nodejs module zlib"}}');var o=s(447259),r=s(529087);const a={},i="nodejs module wasi (WebAssembly System Interface)",c={},d=[];function l(e){const n={blockquote:"blockquote",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"nodejs-module-wasi-webassembly-system-interface",children:"nodejs module wasi (WebAssembly System Interface)"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"node 20 \uc774\uc0c1\ubd80\ud130 \ub0b4\uc7a5\ub41c wasm \ubaa8\ub4c8"}),"\n",(0,o.jsx)(n.p,{children:"20 \uc774\ud558\uc5d0\uc11c\ub294 npm install wasi\ub85c \uc124\uce58 \uac00\ub2a5"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"WebAssembly\ub294 \uc6d0\ub798 \ube0c\ub77c\uc6b0\uc800\uc6a9\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc838\uc11c \ud30c\uc77c \uc77d\uae30, \ub124\ud2b8\uc6cc\ud06c \uc694\uccad, os \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uc9c0 \uc54a\uc74c"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\uadf8\uac78 \ud574\uacb0\ud574\uc8fc\ub294 interface\uac00 wasi"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'const { WASI } = require("wasi");\r\n\r\n// wasm buffer \uc77d\uae30\r\nconst wasmBuffer = fs.readFileSync(path.resolve(__dirname, "add.wasm"));\r\n\r\n// wasm buffer\ub97c \ucef4\ud30c\uc77c\r\nconst wasmModule = await WebAssembly.compile(wasmBuffer);\r\n\r\n// \ucef4\ud30c\uc77c\ub41c wasm \ubaa8\ub4c8\uc744 \uc778\uc2a4\ud134\uc2a4\ud654\r\nconst wasi = new WASI({\r\n  version: "preview1",\r\n});\r\nconst importObject = { wasi_snapshot_preview1: wasi.wasiImport };\r\nconst instance = await WebAssembly.instantiate(wasmModule, importObject);\r\nwasi.start(instance); // wasi\ub85c instance\ub97c monkey patch\r\n\r\nconst result = instance.exports.add(5, 7);\n'})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);