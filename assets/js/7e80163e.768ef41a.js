"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["81027"],{572896:function(e,r,n){n.r(r),n.d(r,{frontMatter:()=>l,toc:()=>s,default:()=>c,metadata:()=>t,assets:()=>d,contentTitle:()=>o});var t=JSON.parse('{"id":"flutter & dart/flutter Interactive Flame","title":"flutter Flame","description":"install","source":"@site/docs/flutter & dart/flutter Interactive Flame.md","sourceDirName":"flutter & dart","slug":"/flutter & dart/flutter Interactive Flame","permalink":"/docs/flutter & dart/flutter Interactive Flame","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"flutter Image","permalink":"/docs/flutter & dart/flutter Image"},"next":{"title":"flutter Forge2D","permalink":"/docs/flutter & dart/flutter Interactive Forge2d"}}'),a=n(447259),i=n(255511);let l={},o="flutter Flame",d={},s=[{value:"install",id:"install",level:2},{value:"GameScreen",id:"gamescreen",level:2}];function u(e){let r={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"flutter-flame",children:"flutter Flame"})}),"\n",(0,a.jsx)(r.h2,{id:"install",children:"install"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sh",children:"flutter pub add flame\r\nflutter pub add flame_forge2d\n"})}),"\n",(0,a.jsx)(r.h2,{id:"gamescreen",children:"GameScreen"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-dart",children:"import 'dart:async';\r\n\r\nimport 'package:flame/game.dart';\r\nimport 'package:flame_forge2d/flame_forge2d.dart';\r\nimport 'package:flutter/material.dart';\r\n\r\nclass GameScreen extends StatelessWidget {\r\n  const GameScreen({Key? key}) : super(key: key);\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        title: const Text('My First Game!'),\r\n      ),\r\n      body: GameWidget(\r\n        game: MyGame(),\r\n      ),\r\n    );\r\n  }\r\n}\r\n\r\n// GameWidget(game: MyGame())\uC73C\uB85C \uAC10\uC2F8\uC11C \uC0AC\uC6A9\r\nclass MyGame extends Forge2DGame {\r\n  MyGame() : super(gravity: Vector2.zero(), zoom: 20);\r\n\r\n  late final Ball _ball;\r\n\r\n  @override\r\n  Future<void> onLoad() async {\r\n    await _initializeGame();\r\n\r\n    _ball.body.applyLinearImpulse(Vector2(10, 10));\r\n  }\r\n\r\n  Future<void> _initializeGame() async {\r\n    final boundary = Boundary();\r\n\r\n    await add(boundary);\r\n\r\n    _ball = Ball(\r\n      radius: 0.5,\r\n      position: size / 2,\r\n    );\r\n    await add(_ball);\r\n  }\r\n}\r\n\r\nclass Ball extends BodyComponent<MyGame> {\r\n  final Vector2 position;\r\n  final double radius;\r\n\r\n  Ball({required this.position, required this.radius});\r\n\r\n  @override\r\n  Body createBody() {\r\n    final bodyDef = BodyDef()\r\n      ..type = BodyType.dynamic\r\n      ..position = position;\r\n\r\n    final ball = world.createBody(bodyDef);\r\n\r\n    final shape = CircleShape()..radius = radius;\r\n\r\n    final fixtureDef = FixtureDef(shape);\r\n\r\n    ball.createFixture(fixtureDef);\r\n\r\n    return ball;\r\n  }\r\n}\r\n\r\nclass Boundary extends BodyComponent<MyGame> {\r\n  Vector2? size;\r\n\r\n  Boundary({this.size}) {\r\n    assert(size == null || size!.x >= 1.0 && size!.y >= 1.0);\r\n  }\r\n\r\n  late Vector2 boundarySize;\r\n\r\n  @override\r\n  Future<void> onLoad() {\r\n    boundarySize = size ?? gameRef.size;\r\n    return super.onLoad();\r\n  }\r\n\r\n  @override\r\n  Body createBody() {\r\n    final bodyDef = BodyDef()\r\n      ..position = Vector2(0, 0)\r\n      ..type = BodyType.static;\r\n\r\n    final boundaryBody = world.createBody(bodyDef);\r\n\r\n    final vertices = <Vector2>[\r\n      boundarySize,\r\n      Vector2(0, boundarySize.y),\r\n      Vector2(0, 0),\r\n      Vector2(boundarySize.x, 0),\r\n    ];\r\n\r\n    final chain = ChainShape()..createLoop(vertices);\r\n\r\n    for (var index = 0; index < chain.childCount; index++) {\r\n      boundaryBody.createFixture(\r\n        FixtureDef(chain.childEdge(index))\r\n          ..density = 2000.0\r\n          ..friction = 0.0\r\n          ..restitution = 0.4,\r\n      );\r\n    }\r\n\r\n    return boundaryBody;\r\n  }\r\n}\n"})})]})}function c(e={}){let{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},255511:function(e,r,n){n.d(r,{R:()=>l,x:()=>o});var t=n(596363);let a={},i=t.createContext(a);function l(e){let r=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);