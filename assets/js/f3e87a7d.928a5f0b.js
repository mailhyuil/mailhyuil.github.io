"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[81228],{103195:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>l,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"db-prisma/prisma index example","title":"prisma index example","description":"User","source":"@site/docs/db-prisma/prisma index example.md","sourceDirName":"db-prisma","slug":"/db-prisma/prisma index example","permalink":"/docs/db-prisma/prisma index example","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"prisma index ESR","permalink":"/docs/db-prisma/prisma index ESR"},"next":{"title":"prisma index type","permalink":"/docs/db-prisma/prisma index type"}}');var a=n(447259),s=n(529087);const i={},d="prisma index example",o={},c=[{value:"User",id:"user",level:2},{value:"Post",id:"post",level:2}];function m(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"prisma-index-example",children:"prisma index example"})}),"\n",(0,a.jsx)(t.h2,{id:"user",children:"User"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-prisma",children:'model User {\r\n  id          String            @id @default(cuid())\r\n  name        String\r\n  roles       Role[]            @unique\r\n  status      UserStatus        @default(ACTIVE)\r\n  tel         String\r\n  username    String?           @unique\r\n  password    String?\r\n  email       String?           @unique\r\n  birthDate   DateTime\r\n  createdAt   DateTime          @default(now()) @map("created_at")\r\n  updatedAt   DateTime          @default(now()) @map("updated_at")\r\n  authentications Authentication[]\r\n  userAttachments UserAttachment[]\r\n  memos           Memo[]\r\n  inquiries       Inquiry[]\r\n\r\n  // \uc0ac\uc6a9\uc790\uc758 \uc0dd\uc131\uc77c\uc790\uc5d0 \ub530\ub77c \uc870\ud68c\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc740 \uacbd\uc6b0\r\n  @@index([createdAt(sort: Desc)])\r\n  // \uc0ac\uc6a9\uc790\uc758 \uc5c5\ub370\uc774\ud2b8\uc77c\uc790\uc5d0 \ub530\ub77c \uc870\ud68c\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc740 \uacbd\uc6b0\r\n  @@index([updatedAt(sort: Desc)])\r\n  // \uc0c1\ud0dc\uc5d0 \ub530\ub77c \uc0dd\uc131\uc77c\uc790\ub85c \uc815\ub82c\ud558\uc5ec \uc870\ud68c\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc740 \uacbd\uc6b0\r\n  @@index([roles, createdAt(sort: Desc)])\r\n  // \uad8c\ud55c\uc5d0 \ub530\ub77c \uc0dd\uc131\uc77c\uc790\ub85c \uc815\ub82c\ud558\uc5ec \uc870\ud68c\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc740 \uacbd\uc6b0\r\n  @@index([status, createdAt(sort: Desc)])\r\n  // \uad8c\ud55c, \uc0c1\ud0dc, \uc0dd\uc131\uc77c\uc790\ub85c \uc815\ub82c\ud558\uc5ec \uc870\ud68c\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc740 \uacbd\uc6b0\r\n  @@index([roles, status, createdAt(sort: Desc)])\r\n  @@map("users")\r\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"post",children:"Post"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-prisma",children:'model Post {\r\n    id          String         @id @default(cuid())\r\n    title       String\r\n    content     String\r\n    createdAt   DateTime       @default(now()) @map("created_at")\r\n    updatedAt   DateTime       @updatedAt @map("updated_at")\r\n    deletedAt   DateTime?      @map("deleted_at")\r\n    attachments Attachment[]\r\n    comments    Comment[]\r\n    snapshots   PostSnapshot[]\r\n\r\n    // \ubb34\ud55c \uc2a4\ud06c\ub864 \ud398\uc774\uc9c0\ub124\uc774\uc158\r\n    @@index([createdAt(sort: Desc), id])\r\n\r\n    // createdAt \uae30\uc900\uc73c\ub85c \uc815\ub82c\ud558\uc5ec \uc870\ud68c\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc740 \uacbd\uc6b0\r\n    @@index([createdAt(sort: Desc)])\r\n\r\n    // \uc18c\ud504\ud2b8 \uc0ad\uc81c\ub41c \ub808\ucf54\ub4dc\ub97c \ud544\ud130\ub9c1\ud558\ub294 \uc77c\uc774 \ub9ce\uc740 \uacbd\uc6b0\r\n    // \uc608\ub97c \ub4e4\uc5b4, WHERE deletedAt IS NULL\uacfc \uac19\uc740 \ucffc\ub9ac\uac00 \uc790\uc8fc \ubc1c\uc0dd\ud560 \uacbd\uc6b0\r\n    @@index([deletedAt])\r\n\r\n    // deletedAt \uae30\uc900\uc73c\ub85c \uc815\ub82c\ud558\uc5ec \uc870\ud68c\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc740 \uacbd\uc6b0\r\n    @@index([deletedAt, createdAt(sort: Desc)])\r\n\r\n    // title \uac80\uc0c9\ub85c \uac80\uc0c9\ud558\ub294 \uae30\ub2a5\uc774 \uc788\ub294 \uacbd\uc6b0\r\n    @@index([title])\r\n\r\n    // \uc8fc\uae30\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\ub294 \ud3ec\uc2a4\ud2b8\ub97c updatedAt \uae30\uc900\uc73c\ub85c \uc870\ud68c\ud558\uac70\ub098 \uc815\ub82c\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc740 \uacbd\uc6b0\r\n    @@index([updatedAt])\r\n\r\n    @@map("posts")\r\n}\n'})})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},529087:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>d});var r=n(596363);const a={},s=r.createContext(a);function i(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);