"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["978812"],{365452:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>a,toc:()=>p,default:()=>d,metadata:()=>t,assets:()=>c,contentTitle:()=>s});var t=JSON.parse('{"id":"nginx/nginx directive proxy_pass docker container container name","title":"nginx proxy_pass docker container container name","description":"nginx.conf","source":"@site/docs/nginx/nginx directive proxy_pass docker container container name.md","sourceDirName":"nginx","slug":"/nginx/nginx directive proxy_pass docker container container name","permalink":"/docs/nginx/nginx directive proxy_pass docker container container name","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx directive proxy_buffer","permalink":"/docs/nginx/nginx directive proxy_buffer"},"next":{"title":"nginx proxy_pass docker container host.docker.internal","permalink":"/docs/nginx/nginx directive proxy_pass docker container host.docker.internal"}}'),o=r(447259),i=r(255511);let a={},s="nginx proxy_pass docker container container name",c={},p=[{value:"nginx.conf",id:"nginxconf",level:2}];function l(n){let e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"nginx-proxy_pass-docker-container-container-name",children:"nginx proxy_pass docker container container name"})}),"\n",(0,o.jsx)(e.h2,{id:"nginxconf",children:"nginx.conf"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"\uAC19\uC740 docker network\uC5D0 \uC788\uB294 container name\uC73C\uB85C proxy_pass"}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-conf",children:"server {\r\n    server_name example.com;\r\n    listen 80;\r\n    listen [::]:80;\r\n\r\n    location /.well-known/acme-challenge/ {\r\n        allow all;\r\n        root /var/www/certbot;\r\n    }\r\n\r\n    return 301 https://$host$request_uri;\r\n}\r\n\r\nserver {\r\n    server_name           example.com;\r\n    listen                443 ssl;\r\n    listen                [::]:443 ssl;\r\n    ssl_certificate       /etc/letsencrypt/live/example.com/fullchain.pem;\r\n    ssl_certificate_key   /etc/letsencrypt/live/example.com/privkey.pem;\r\n    ssl_trusted_certificate /etc/letsencrypt/live/example.com/chain.pem;\r\n\r\n    # ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # by default\r\n    # ssl_ciphers         HIGH:!aNULL:!MD5; # by default\r\n\r\n\r\n    client_max_body_size 1G;\r\n\r\n    location = / {\r\n        proxy_http_version 1.1;\r\n        proxy_set_header Upgrade $http_upgrade;\r\n        proxy_set_header Connection 'upgrade';\r\n        proxy_set_header Host $host;\r\n        proxy_cache_bypass $http_upgrade;\r\n        proxy_pass http://client:4000;\r\n    }\r\n\r\n    location / {\r\n        root /app/client/browser;\r\n        index index.html index.htm;\r\n        try_files $uri $uri/ @ssr;\r\n    }\r\n\r\n    location /admin {\r\n        alias /app/admin;\r\n        index index.html index.htm;\r\n        try_files $uri $uri/ /admin/index.html;\r\n    }\r\n\r\n    location /api/v1/ {\r\n        proxy_pass http://server:3000;\r\n    }\r\n\r\n    location @ssr {\r\n        proxy_http_version 1.1;\r\n        proxy_set_header Upgrade $http_upgrade;\r\n        proxy_set_header Connection 'upgrade';\r\n        proxy_set_header Host $host;\r\n        proxy_cache_bypass $http_upgrade;\r\n        proxy_pass http://client:4000;\r\n    }\r\n}\n"})})]})}function d(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},255511:function(n,e,r){r.d(e,{R:()=>a,x:()=>s});var t=r(596363);let o={},i=t.createContext(o);function a(n){let e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);