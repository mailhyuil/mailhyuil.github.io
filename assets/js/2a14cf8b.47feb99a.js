"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["200639"],{655657:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>o,toc:()=>c,default:()=>f,metadata:()=>t,assets:()=>a,contentTitle:()=>i});var t=JSON.parse('{"id":"nestjs/nest file transcoding ffmpeg","title":"nest file transcoding","description":"\uD2B8\uB79C\uC2A4\uCF54\uB529\uC740 \uC774\uBBF8 \uC555\uCD95\uB41C \uD30C\uC77C(\uC77C\uBC18\uC801\uC73C\uB85C \uC624\uB514\uC624 \uB610\uB294 \uBE44\uB514\uC624)\uC744 \uB2E4\uB978 \uD30C\uC77C \uD615\uC2DD\uC73C\uB85C \uBCC0\uD658\uD558\uB294 \uD504\uB85C\uC138\uC2A4\uB97C \uB098\uD0C0\uB0C5\uB2C8\uB2E4.","source":"@site/docs/nestjs/nest file transcoding ffmpeg.md","sourceDirName":"nestjs","slug":"/nestjs/nest file transcoding ffmpeg","permalink":"/docs/nestjs/nest file transcoding ffmpeg","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nest file download stream","permalink":"/docs/nestjs/nest file download stream"},"next":{"title":"nest file upload Attachment","permalink":"/docs/nestjs/nest file upload Attachment"}}'),r=s(447259),l=s(255511);let o={},i="nest file transcoding",a={},c=[{value:"ffmpeg \uC124\uCE58",id:"ffmpeg-\uC124\uCE58",level:2},{value:"install",id:"install",level:2},{value:"usage",id:"usage",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"nest-file-transcoding",children:"nest file transcoding"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uD2B8\uB79C\uC2A4\uCF54\uB529\uC740 \uC774\uBBF8 \uC555\uCD95\uB41C \uD30C\uC77C(\uC77C\uBC18\uC801\uC73C\uB85C \uC624\uB514\uC624 \uB610\uB294 \uBE44\uB514\uC624)\uC744 \uB2E4\uB978 \uD30C\uC77C \uD615\uC2DD\uC73C\uB85C \uBCC0\uD658\uD558\uB294 \uD504\uB85C\uC138\uC2A4\uB97C \uB098\uD0C0\uB0C5\uB2C8\uB2E4."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uD30C\uC77C\uC744 \uC5C5\uB85C\uB4DC\uD558\uBA74 \uC2A4\uD1A0\uB9AC\uC9C0\uC5D0 \uC800\uC7A5 -> \uBE44\uB3D9\uAE30\uB85C \uC2A4\uD1A0\uB9AC\uC9C0\uC5D0\uC11C \uD30C\uC77C\uC744 \uC77D\uC5B4\uC11C \uBCC0\uD658 -> \uBCC0\uD658\uB41C \uD30C\uC77C\uC744 \uD2B8\uB79C\uC2A4\uCF54\uB529 \uC2A4\uD1A0\uB9AC\uC9C0\uC5D0 \uC800\uC7A5"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"ffmpeg-\uC124\uCE58",children:"ffmpeg \uC124\uCE58"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"choco install ffmpeg\n"})}),"\n",(0,r.jsx)(n.h2,{id:"install",children:"install"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"npm i fluent-ffmpeg\n"})}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'import ffmpeg from "fluent-ffmpeg";\r\n\r\n@Controller("file")\r\nexport class FileController {\r\n  @Get()\r\n  async uploadFile() {\r\n    ffmpeg()\r\n      .input(join(__dirname, "assets", "sample.mp4"))\r\n      .outputOptions("-vf", "scale=1280:720") // \uC0C8\uB85C\uC6B4 \uD574\uC0C1\uB3C4 \uC9C0\uC815 (\uC5EC\uAE30\uC11C\uB294 1280x720)\r\n      .on("progress", (progress) => {\r\n        console.log(`Processing: ${progress.percent}% done`);\r\n      })\r\n      .on("end", () => {\r\n        console.log("\uD574\uC0C1\uB3C4 \uBCC0\uD658\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");\r\n      })\r\n      .on("error", (err) => {\r\n        console.error("\uC624\uB958 \uBC1C\uC0DD:", err);\r\n      })\r\n      .save(join(__dirname, "new_video.mp4"));\r\n  }\r\n}\n'})})]})}function f(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},255511:function(e,n,s){s.d(n,{R:()=>o,x:()=>i});var t=s(596363);let r={},l=t.createContext(r);function o(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);