"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["833715"],{932822:function(e,r,t){t.r(r),t.d(r,{frontMatter:()=>i,toc:()=>l,default:()=>m,metadata:()=>n,assets:()=>a,contentTitle:()=>c});var n=JSON.parse('{"id":"logging & monitoring & profiling & tracing/prometheus base config","title":"prometheus config","description":"/etc/prometheus/prometheus.yml","source":"@site/docs/logging & monitoring & profiling & tracing/prometheus base config.md","sourceDirName":"logging & monitoring & profiling & tracing","slug":"/logging & monitoring & profiling & tracing/prometheus base config","permalink":"/docs/logging & monitoring & profiling & tracing/prometheus base config","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"prometheus architecture","permalink":"/docs/logging & monitoring & profiling & tracing/prometheus base architecture"},"next":{"title":"prometheus base rules","permalink":"/docs/logging & monitoring & profiling & tracing/prometheus base rules"}}'),s=t(447259),o=t(255511);let i={},c="prometheus config",a={},l=[{value:"/etc/prometheus/prometheus.yml",id:"etcprometheusprometheusyml",level:2}];function p(e){let r={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"prometheus-config",children:"prometheus config"})}),"\n",(0,s.jsx)(r.h2,{id:"etcprometheusprometheusyml",children:"/etc/prometheus/prometheus.yml"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yml",children:'global: # prometheus \uC804\uC5ED \uC124\uC815\r\n  scrape_interval: 15s\r\n  scrape_timeout: 10s\r\n  scrape_protocols:\r\n    - OpenMetricsText1.0.0\r\n    - OpenMetricsText0.0.1\r\n    - PrometheusText0.0.4\r\n  evaluation_interval: 15s\r\n\r\nalerting: # alertmanager \uC124\uC815\r\n  alertmanagers:\r\n    - follow_redirects: true\r\n      enable_http2: true\r\n      scheme: http\r\n      timeout: 10s\r\n      api_version: v2\r\n      static_configs:\r\n        - targets: ["localhost:9093"]\r\n\r\nrule_files: # alert rule\uC744 \uC124\uC815\r\n  - /etc/prometheus/rules/*.rules\r\n\r\nscrape_configs: # scrape\uD560 \uB300\uC0C1\uC744 \uC124\uC815\r\n  - job_name: prometheus\r\n    honor_timestamps: true\r\n    track_timestamps_staleness: false\r\n    scrape_interval: 15s\r\n    scrape_timeout: 10s\r\n    scrape_protocols:\r\n      - OpenMetricsText1.0.0\r\n      - OpenMetricsText0.0.1\r\n      - PrometheusText0.0.4\r\n    metrics_path: /metrics\r\n    scheme: http\r\n    enable_compression: true\r\n    follow_redirects: true\r\n    enable_http2: true\r\n    static_configs:\r\n      - targets:\r\n          - localhost:9090\r\n  - job_name: node_exporter\r\n    honor_timestamps: true\r\n    track_timestamps_staleness: false\r\n    scrape_interval: 15s\r\n    scrape_timeout: 10s\r\n    scrape_protocols:\r\n      - OpenMetricsText1.0.0\r\n      - OpenMetricsText0.0.1\r\n      - PrometheusText0.0.4\r\n    metrics_path: /metrics\r\n    scheme: http\r\n    enable_compression: true\r\n    follow_redirects: true\r\n    enable_http2: true\r\n    static_configs:\r\n      - targets:\r\n          - localhost:9100\n'})})]})}function m(e={}){let{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},255511:function(e,r,t){t.d(r,{R:()=>i,x:()=>c});var n=t(596363);let s={},o=n.createContext(s);function i(e){let r=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);