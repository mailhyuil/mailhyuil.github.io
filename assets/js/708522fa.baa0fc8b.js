"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[599076],{304873:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>t,toc:()=>m});const t=JSON.parse('{"id":"spring/spring JPA","title":"JPA","description":"pom.xml","source":"@site/docs/spring/spring JPA.md","sourceDirName":"spring","slug":"/spring/spring JPA","permalink":"/docs/spring/spring JPA","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Junit (\uc720\ub2db \ud14c\uc2a4\ud2b8)","permalink":"/docs/spring/spring J-UNIT"},"next":{"title":"JSTL","permalink":"/docs/spring/spring JSTL"}}');var a=n(447259),i=n(529087);const s={},c="JPA",l={},m=[{value:"pom.xml",id:"pomxml",level:2},{value:"resources/META-INF/persistence.xml",id:"resourcesmeta-infpersistencexml",level:2},{value:"Entity \uac1d\uccb4",id:"entity-\uac1d\uccb4",level:2},{value:"Main",id:"main",level:2},{value:"logic",id:"logic",level:2}];function o(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"jpa",children:"JPA"})}),"\n",(0,a.jsx)(r.h2,{id:"pomxml",children:"pom.xml"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:"\x3c!-- JPA, \ud558\uc774\ubc84\ub124\uc774\ud2b8 --\x3e\r\n<dependency>\r\n\t<groupId>org.hibernate</groupId>\r\n\t<artifactId>hibernate-entitymanager</artifactId>\r\n\t<version>${hibernate.version}</version>\r\n</dependency>\r\n\r\n\x3c!-- jdbc --\x3e\r\n<dependency>\r\n\t<groupId>com.oracle.database.jdbc</groupId>\r\n\t<artifactId>ojdbc8</artifactId>\r\n\t<version>21.5.0.0</version>\r\n</dependency>\n"})}),"\n",(0,a.jsx)(r.h2,{id:"resourcesmeta-infpersistencexml",children:"resources/META-INF/persistence.xml"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\r\n<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence" version="2.1">\r\n\r\n    <persistence-unit name="jpabook">\r\n\r\n        <properties>\r\n\r\n            \x3c!-- \ud544\uc218 \uc18d\uc131 --\x3e\r\n            <property name="javax.persistence.jdbc.driver" value="oracle.jdbc.driver.OracleDriver"/>\r\n            <property name="javax.persistence.jdbc.user" value="test"/>\r\n            <property name="javax.persistence.jdbc.password" value="1234"/>\r\n            <property name="javax.persistence.jdbc.url" value="jdbc:oracle:thin:@localhost:1521:xe"/>\r\n\r\n            <property name="hibernate.dialect" value="\torg.hibernate.dialect.OracleDialect" />\r\n\r\n            \x3c!-- \uc635\uc158 --\x3e\r\n            <property name="hibernate.show_sql" value="true" />\r\n            <property name="hibernate.format_sql" value="true" />\r\n            <property name="hibernate.use_sql_comments" value="true" />\r\n            <property name="hibernate.id.new_generator_mappings" value="true" />\r\n\r\n            \x3c!--<property name="hibernate.hbm2ddl.auto" value="create" />--\x3e\r\n        </properties>\r\n    </persistence-unit>\r\n\r\n</persistence>\n'})}),"\n",(0,a.jsx)(r.h2,{id:"entity-\uac1d\uccb4",children:"Entity \uac1d\uccb4"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'@Getter\r\n@Setter\r\n@Entity\r\n@Table(name="MEMBER")\r\npublic class Member {\r\n\r\n    @Id\r\n    @Column(name = "ID")\r\n    private String id;\r\n\r\n    @Column(name = "NAME")\r\n    private String username;\r\n\r\n    private Integer age;\r\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"main",children:"Main"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'//\uc5d4\ud2f0\ud2f0 \ub9e4\ub2c8\uc800 \ud329\ud1a0\ub9ac \uc0dd\uc131\r\nEntityManagerFactory emf = Persistence.createEntityManagerFactory("jpabook");\r\nEntityManager em = emf.createEntityManager(); //\uc5d4\ud2f0\ud2f0 \ub9e4\ub2c8\uc800 \uc0dd\uc131\r\n\r\nEntityTransaction tx = em.getTransaction(); //\ud2b8\ub79c\uc7ad\uc158 \uae30\ub2a5 \ud68d\ub4dd\r\n\r\ntry {\r\n    tx.begin(); //\ud2b8\ub79c\uc7ad\uc158 \uc2dc\uc791\r\n    logic(em);  //\ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\r\n    tx.commit();//\ud2b8\ub79c\uc7ad\uc158 \ucee4\ubc0b\r\n\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n    tx.rollback(); //\ud2b8\ub79c\uc7ad\uc158 \ub864\ubc31\r\n} finally {\r\n    em.close(); //\uc5d4\ud2f0\ud2f0 \ub9e4\ub2c8\uc800 \uc885\ub8cc\r\n}\r\n    emf.close(); //\uc5d4\ud2f0\ud2f0 \ub9e4\ub2c8\uc800 \ud329\ud1a0\ub9ac \uc885\ub8cc\n'})}),"\n",(0,a.jsx)(r.h2,{id:"logic",children:"logic"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public static void logic(EntityManager em) {\r\n\r\n\tString id = "1";\r\n\tMember member = new Member();\r\n\tmember.setId(id);\r\n\tmember.setUsername("\uc9c0\ud55c");\r\n\tmember.setAge(2);\r\n\r\n\t//\ub4f1\ub85d\r\n\tem.persist(member);\r\n\tMember findMember = em.find(Member.class, "0");\r\n\tfindMember.setUsername("\uc601\ud55c");\r\n\r\n\t//\uc218\uc815\r\n\tmember.setAge(20);\r\n\r\n\t//\ud55c \uac74 \uc870\ud68c\r\n\tMember findMember = em.find(Member.class, id);\r\n\tSystem.out.println("findMember=" + findMember.getUsername() + ", age=" + findMember.getAge());\r\n\r\n\t//\ubaa9\ub85d \uc870\ud68c\r\n\tList<Member> members = em.createQuery("select m from Member m", Member.class).getResultList();\r\n\r\n\tfor(Member member:members) {\r\n\t\tSystem.out.println(member.getUsername());\r\n\t}\r\n\r\n\t//\uc0ad\uc81c\r\n\tem.remove(findMember);\r\n\r\n}\n'})})]})}function d(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},529087:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>c});var t=n(596363);const a={},i=t.createContext(a);function s(e){const r=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);