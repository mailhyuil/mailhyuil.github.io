"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[18528],{172313:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 MVCC Serialization Anomaly","title":"MVCC Serialization Anomaly","description":"MVCC \ubaa8\ub378\uc740 \ubb3c\ub9ac\uc801\uc778 serialization\uc744 \ud560 \uc218 \uc5c6\uae30 \ub54c\ubb38\uc5d0 Serialization Anomaly(\uc9c1\ub82c\ud654 \uc774\uc0c1)\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\ub2e4.","source":"@site/docs/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 MVCC Serialization Anomaly.md","sourceDirName":"db","slug":"/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 MVCC Serialization Anomaly","permalink":"/docs/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 MVCC Serialization Anomaly","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 MVCC (Multi-Version Concurrency Control)","permalink":"/docs/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 MVCC - Multi-Version Concurrency Control"},"next":{"title":"db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 isolation level vs \ube44\uad00\uc801 \ub77d (for share, for update)","permalink":"/docs/db/db \ub3d9\uc2dc\uc131 \uc81c\uc5b4 isolation level vs \ube44\uad00\uc801 \ub77d - for share, for update"}}');var t=r(447259),a=r(529087);const o={},s="MVCC Serialization Anomaly",l={},c=[{value:"\uba3c\uc800 commit\ud55c transaction\ub9cc \uc131\uacf5",id:"\uba3c\uc800-commit\ud55c-transaction\ub9cc-\uc131\uacf5",level:2},{value:"\ub458 \ub2e4 \uc131\uacf5",id:"\ub458-\ub2e4-\uc131\uacf5",level:2}];function d(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"mvcc-serialization-anomaly",children:"MVCC Serialization Anomaly"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"MVCC \ubaa8\ub378\uc740 \ubb3c\ub9ac\uc801\uc778 serialization\uc744 \ud560 \uc218 \uc5c6\uae30 \ub54c\ubb38\uc5d0 Serialization Anomaly(\uc9c1\ub82c\ud654 \uc774\uc0c1)\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,t.jsx)(e.p,{children:"Serialization Anomaly\ub85c \uc778\ud574 write skew\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"postgres\uc5d0\uc11c\ub294 Serializable \uc218\uc900\uc5d0\uc11c Serializable Snapshot Isolation (SSI) \uba54\ucee4\ub2c8\uc998\uc73c\ub85c \uc778\ud574 \ub9ac\ub4dc \ub77c\uc774\ud2b8 \ucda9\ub3cc\uc774 \ubc1c\uc0dd \uc2dc \uba3c\uc800 commit\ud55c \ud2b8\ub79c\uc7ad\uc158\ub9cc \uc131\uacf5\uc2dc\ud0a8\ub2e4."}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\ubb3c\ub9ac\uc801\uc73c\ub85c \uc21c\ucc28 \uc2e4\ud589 \uc2dc\ud0a4\ub294\uac8c \uc544\ub2cc \ub17c\ub9ac\uc801\uc73c\ub85c \uc21c\ucc28\uc801\uc73c\ub85c \uc2e4\ud589\ud560 \uc218 \uc5c6\ub2e4\uace0 \ud310\ub2e8\ub418\uba74 \uc2e4\ud328\uc2dc\ud0a4\ub294 \ub9e4\ucee4\ub2c8\uc998"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\uba3c\uc800-commit\ud55c-transaction\ub9cc-\uc131\uacf5",children:"\uba3c\uc800 commit\ud55c transaction\ub9cc \uc131\uacf5"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"read\ub97c \ud558\uba74 \ud558\ub098\ub9cc \uc131\uacf5"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"repeatable read \uc218\uc900\uc5d0\uc11c\ub294 \ub458 \ub2e4 \uc131\uacf5\ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-sql",children:"-- transaction 1\r\nbegin;\r\nset transaction isolation level serializable;\r\nselect * from users where name='sb';\r\ninsert into users(name) values ('sb');\r\n\r\n\r\n-- transaction 2\r\nbegin;\r\nset transaction isolation level serializable;\r\nselect * from users where name='sb';\r\ninsert into users(name) values ('sb');\r\n\r\n-- transaction 1\r\ncommit;\r\n-- transaction 2\r\ncommit;\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\ub458-\ub2e4-\uc131\uacf5",children:"\ub458 \ub2e4 \uc131\uacf5"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"read\ub97c \ud558\uc9c0 \uc54a\uc73c\uba74 \ub458 \ub2e4 \uc131\uacf5"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-sql",children:"-- transaction 1\r\nbegin;\r\nset transaction isolation level serializable;\r\ninsert into users(name) values ('sb');\r\n\r\n-- transaction 2\r\nbegin;\r\nset transaction isolation level serializable;\r\ninsert into users(name) values ('sb');\r\n\r\n-- transaction 1\r\ncommit;\r\n-- transaction 2\r\ncommit;\n"})})]})}function m(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},529087:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>s});var i=r(596363);const t={},a=i.createContext(t);function o(n){const e=i.useContext(a);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);