"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[57992],{159517:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>i,contentTitle:()=>a,default:()=>l,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"docker/docker-compose yaml postgres","title":"docker-compose postgres","description":"","source":"@site/docs/docker/docker-compose yaml postgres.md","sourceDirName":"docker","slug":"/docker/docker-compose yaml postgres","permalink":"/docs/docker/docker-compose yaml postgres","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"docker-compose postgres replication","permalink":"/docs/docker/docker-compose yaml postgres replication"},"next":{"title":"docker-compose redis","permalink":"/docs/docker/docker-compose yaml redis"}}');var s=o(447259),t=o(529087);const c={},a="docker-compose postgres",i={},d=[];function p(e){const r={code:"code",h1:"h1",header:"header",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"docker-compose-postgres",children:"docker-compose postgres"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",children:'services:\r\n  db:\r\n    container_name: postgres\r\n    image: "postgres:14-alpine"\r\n    ports:\r\n      - "5432:5432"\r\n    restart: always\r\n    volumes:\r\n      - pg-data:/var/lib/postgresql/data\r\n    networks:\r\n      - public\r\n    command: |\r\n      postgres\r\n      -c archive_mode=on\r\n      -c archive_command="cp %p /var/lib/postgresql/archive_dir/%f"\r\n    cpus: 0.8\r\n    mem_limit: 2048m\r\n    environment:\r\n      POSTGRES_PASSWORD: password\r\n      POSTGRES_DB: mydb\r\n      # PGDATA: /data/postgres\r\n    logging:\r\n      driver: "json-file"\r\n      options:\r\n        max-size: "8m"\r\n        max-file: "10"\r\nvolumes:\r\n  pg-data: {}\r\nnetworks:\r\n  public:\r\n    driver: bridge\n'})})]})}function l(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},529087:(e,r,o)=>{o.d(r,{R:()=>c,x:()=>a});var n=o(596363);const s={},t=n.createContext(s);function c(e){const r=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(t.Provider,{value:r},e.children)}}}]);