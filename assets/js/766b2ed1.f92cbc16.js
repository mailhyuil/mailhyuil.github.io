"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[809734],{425038:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"spring/Spring Reactor","title":"Spring Reactor (\uc2a4\ud504\ub9c1 \ub9ac\uc561\ud130)","description":"pom.xml","source":"@site/docs/spring/Spring Reactor.md","sourceDirName":"spring","slug":"/spring/Spring Reactor","permalink":"/docs/spring/Spring Reactor","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"SpringMVC + JPA","permalink":"/docs/spring/Spring MVC + JPA"},"next":{"title":"JWT","permalink":"/docs/spring/Spring Security - \uc2a4\ud504\ub9c1 \uc2dc\ud050\ub9ac\ud2f0 JWT"}}');var o=n(447259),i=n(529087);const s={},c="Spring Reactor (\uc2a4\ud504\ub9c1 \ub9ac\uc561\ud130)",a={},d=[{value:"pom.xml",id:"pomxml",level:2},{value:"Observer pattern",id:"observer-pattern",level:2},{value:"WebClient",id:"webclient",level:2}];function l(r){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,i.R)(),...r.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"spring-reactor-\uc2a4\ud504\ub9c1-\ub9ac\uc561\ud130",children:"Spring Reactor (\uc2a4\ud504\ub9c1 \ub9ac\uc561\ud130)"})}),"\n",(0,o.jsx)(e.h2,{id:"pomxml",children:"pom.xml"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:"\x3c!-- webflux \uc6f9\uc5d0\uc11c Flux\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c --\x3e\r\n<dependency>\r\n    <groupId>org.springframework</groupId>\r\n    <artifactId>spring-webflux</artifactId>\r\n    <version>${org.springframework-version}</version>\r\n</dependency>\r\n\r\n\x3c!-- reactor-core --\x3e\r\n<dependency>\r\n    <groupId>io.projectreactor</groupId>\r\n    <artifactId>reactor-core</artifactId>\r\n    <version>3.4.22</version>\r\n</dependency>\r\n\r\n\x3c!-- reactor-netty --\x3e\r\n<dependency>\r\n    <groupId>io.projectreactor.netty</groupId>\r\n    <artifactId>reactor-netty</artifactId>\r\n    <version>0.9.25.RELEASE</version>\r\n</dependency>\r\n\r\n\x3c!-- jackson-core WebClinet\ub85c \ubc1b\uc740 \ub370\uc774\ud130\ub97c \uc5ed\uc9c1\ub82c\ud654\ud558\uae30 \uc704\ud55c \ub3c4\uad6c --\x3e\r\n<dependency>\r\n    <groupId>com.fasterxml.jackson.core</groupId>\r\n    <artifactId>jackson-core</artifactId>\r\n    <version>2.13.3</version>\r\n</dependency>\r\n\r\n\x3c!-- jackson-databind --\x3e\r\n<dependency>\r\n    <groupId>com.fasterxml.jackson.core</groupId>\r\n    <artifactId>jackson-databind</artifactId>\r\n    <version>2.13.3</version>\r\n</dependency>\n"})}),"\n",(0,o.jsx)(e.h2,{id:"observer-pattern",children:"Observer pattern"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"Publisher(Provider)"}),"\r\n",(0,o.jsx)(e.code,{children:"Flux"})," ",(0,o.jsx)(e.code,{children:"Mono"})]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"Subscriber(Consumer)"})," // Publisher\uc5d0\uac8c \ub370\uc774\ud130\ub97c \ubc1b\uc744 \uac1d\uccb4"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"Subscription(Message)"})," // Publisher\uac00 \ubcf4\ub0b4\ub294 \ub370\uc774\ud130"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"Processor<T,R> // Publisher\uc774\uba74\uc11c Subscriber T: Processor"}),"\uac00 \uc0dd\uc0b0\ud558\ub294 \uc6d0\uc18c\ud0c0\uc785 ",(0,o.jsx)(e.code,{children:"R: Processor"}),"\uac00 \uc18c\ube44\ud558\ub294 \uc6d0\uc18c\ud0c0\uc785"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-java",children:'Subscriber<Integer> subscriber = new Subscriber<>() {\r\n\t\t\tSubscription subscription;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onSubscribe(Subscription s) {\r\n\t\t\t\tSystem.out.println("onSubscribe");\r\n\t\t\t\tthis.subscription = s;\r\n\t\t\t\tthis.subscription.request(1); // Publisher\uc5d0\uac8c \uc694\uccad \ud69f\uc218 long \ud0c0\uc785 // Long.MAX_VALUE\uc744 \uc0ac\uc6a9\ud558\uba74 \uacc4\uc18d \uc694\uccad\uc744 \ubcf4\ub0c4\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onNext(Integer t) {\r\n\t\t\t\tSystem.out.println(t); // onSubscribe\uac00 \uc131\uacf5\uc2dc \ud638\ucd9c\ub418\ub294 \uba54\uc18c\ub4dc\r\n\t\t\t\tSystem.out.println("onNext");\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onError(Throwable t) {\r\n\t\t\t\tSystem.out.println("onError");\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onComplete() {\r\n\t\t\t\tSystem.out.println("onComplete");\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tFlux<Integer> seq = Flux.just(1,2,3);\r\n\r\n\t\tseq.subscribe(sub);\n'})}),"\n",(0,o.jsx)(e.h2,{id:"webclient",children:"WebClient"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-java",children:'WebClient webClient = WebClient.create("https://api.openweathermap.org/data/2.5/weather");\r\n\r\nWeatherRoot weather = webClient.get().uri("?lat=37.7278127"\r\n        + "&lon=127.5112565"\r\n        + "&appid=945a820a0cfd85e6354d9c2a9a628ba9")\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .exchange().flatMap(res -> {\r\n            return res.bodyToMono(WeatherRoot.class);\r\n        }).block();\n'})})]})}function p(r={}){const{wrapper:e}={...(0,i.R)(),...r.components};return e?(0,o.jsx)(e,{...r,children:(0,o.jsx)(l,{...r})}):l(r)}},529087:(r,e,n)=>{n.d(e,{R:()=>s,x:()=>c});var t=n(596363);const o={},i=t.createContext(o);function s(r){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function c(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(o):r.components||o:s(r.components),t.createElement(i.Provider,{value:e},r.children)}}}]);