"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[571679],{798:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"angular/angular DomSanitizer safeHtml","title":"angular DomSanitizer SafeHtml","description":"angular\ub294 \uae30\ubcf8\uc73c\ub85c \ubaa8\ub4e0 xss \uacf5\uaca9\uc5d0 \ub300\ud55c sanitize\ub97c \uc81c\uacf5\ud55c\ub2e4.","source":"@site/docs/angular/angular DomSanitizer safeHtml.md","sourceDirName":"angular","slug":"/angular/angular DomSanitizer safeHtml","permalink":"/docs/angular/angular DomSanitizer safeHtml","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"angular ContentChildren","permalink":"/docs/angular/angular ContentChildren"},"next":{"title":"angular DomSanitizer","permalink":"/docs/angular/angular DomSanitizer"}}');var i=r(447259),a=r(529087);const s={},l="angular DomSanitizer SafeHtml",o={},c=[{value:"safe-html.pipe.ts",id:"safe-htmlpipets",level:2},{value:"XSS \uacf5\uaca9 \ucf54\ub4dc",id:"xss-\uacf5\uaca9-\ucf54\ub4dc",level:2},{value:"DomPurifier \uc0ac\uc6a9\ud558\uae30",id:"dompurifier-\uc0ac\uc6a9\ud558\uae30",level:2},{value:"install",id:"install",level:3},{value:"sanitized-html.pipe.ts",id:"sanitized-htmlpipets",level:3}];function m(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"angular-domsanitizer-safehtml",children:"angular DomSanitizer SafeHtml"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"angular\ub294 \uae30\ubcf8\uc73c\ub85c \ubaa8\ub4e0 xss \uacf5\uaca9\uc5d0 \ub300\ud55c sanitize\ub97c \uc81c\uacf5\ud55c\ub2e4."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\ud558\uc9c0\ub9cc \uc774\ub85c \uc778\ud574 innerHtml\uc744 \uc0ac\uc6a9 \uc2dc style\uc774 \uc801\uc6a9\ub418\uc9c0 \uc54a\ub294 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud55c\ub2e4."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574\uc11c DomSanitizer\uc758 bypassSecurityTrustHtml\ub97c \ub9cc\ub4e4\uc5b4 \uc0ac\uc6a9\ud558\ub294 \uc0ac\ub78c\ub4e4\uc774 \uc788\ub2e4. (\uc774\ub294 XSS \uacf5\uaca9\uc5d0 \ub9e4\uc6b0 \uc27d\uac8c \ub178\ucd9c\ub41c\ub2e4. \uc808\ub300 \uc0ac\uc6a9\ud558\uc9c0 \ub9d0\uae30!)"}),"\n",(0,i.jsx)(n.p,{children:"bypassSecurityTrustHtml\ub97c \uc0ac\uc6a9\ud574\ub3c4 angular\ub294 \uae30\ubcf8\uc73c\ub85c script\ub97c \uc2e4\ud589\ud558\uc9c0 \uc54a\ub294\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:"\ud558\uc9c0\ub9cc img \ud0dc\uadf8\uc758 onerror \uac19\uc740 \uc18d\uc131\uc744 \uc0ac\uc6a9\ud558\uc5ec xss \uacf5\uaca9\uc744 \ud560 \uc218 \uc788\ub2e4."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"quill\uac19\uc740 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub294 \ub0b4\ubd80\uc5d0 sanitize\ub97c \uc81c\uacf5\ud558\uc9c0\ub9cc \uc774 \uc5ed\uc2dc \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc9c1\uc811 fetch\ub97c \ud558\ub294 \ubc29\ubc95\uc73c\ub85c \uc6b0\ud68c\ud558\uc5ec script\ub97c \uc2ec\uc744 \uc218 \uc788\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"safe-htmlpipets",children:"safe-html.pipe.ts"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { Pipe, PipeTransform } from "@angular/core";\r\nimport { DomSanitizer } from "@angular/platform-browser";\r\n\r\n@Pipe({\r\n  name: "safeHtml",\r\n  standalone: true,\r\n})\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  transform(html: string) {\r\n    return this.sanitizer.bypassSecurityTrustHtml(html);\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"xss-\uacf5\uaca9-\ucf54\ub4dc",children:"XSS \uacf5\uaca9 \ucf54\ub4dc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"this.safeContent = this.sanitizer.bypassSecurityTrustHtml('<img src=\"x\" onerror=\"alert(\\'XSS \uacf5\uaca9 \uc131\uacf5!\\')\" />');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dompurifier-\uc0ac\uc6a9\ud558\uae30",children:"DomPurifier \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,i.jsx)(n.h3,{id:"install",children:"install"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"npm i dompurify\n"})}),"\n",(0,i.jsx)(n.h3,{id:"sanitized-htmlpipets",children:"sanitized-html.pipe.ts"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { Pipe, PipeTransform } from "@angular/core";\r\nimport { DomSanitizer } from "@angular/platform-browser";\r\nimport DOMPurify from "dompurify";\r\n\r\n@Pipe({\r\n  name: "sanitizedHtml",\r\n  standalone: true,\r\n})\r\nexport class SanitizedHtmlPipe implements PipeTransform {\r\n  constructor(protected sanitizer: DomSanitizer) {}\r\n\r\n  public transform(value: string) {\r\n    const sanitizedContent = DOMPurify.sanitize(value);\r\n    return this.sanitizer.bypassSecurityTrustHtml(sanitizedContent);\r\n  }\r\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},529087:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var t=r(596363);const i={},a=t.createContext(i);function s(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);