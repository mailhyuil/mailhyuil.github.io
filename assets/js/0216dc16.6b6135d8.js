"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[983222],{529087:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>s});var r=n(596363);const d={},l=r.createContext(d);function t(e){const o=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function s(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),r.createElement(l.Provider,{value:o},e.children)}},829832:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"nodejs/nodejs event loop libuv thread pool - worker thread, background thread","title":"nodejs event-loop libuv thread pool (worker thread / background thread)","description":"nodejs\ub294 \ub300\ubd80\ubd84\uc758 cpu \uc791\uc5c5\uc744 main thread \uc218\ud589\ud558\uc9c0\ub9cc \uba87\uac00\uc9c0 \uc791\uc5c5\uc740 background thread\uc5d0\uc11c \uc218\ud589\ud55c\ub2e4.","source":"@site/docs/nodejs/nodejs event loop libuv thread pool - worker thread, background thread.md","sourceDirName":"nodejs","slug":"/nodejs/nodejs event loop libuv thread pool - worker thread, background thread","permalink":"/docs/nodejs/nodejs event loop libuv thread pool - worker thread, background thread","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nodejs event-loop epoll & kqueue & IOCP","permalink":"/docs/nodejs/nodejs event loop libuv epoll & kqueue & IOCP"},"next":{"title":"nodejs event loop timer","permalink":"/docs/nodejs/nodejs event loop libuv timer"}}');var d=n(447259),l=n(529087);const t={},s="nodejs event-loop libuv thread pool (worker thread / background thread)",a={},c=[{value:"background thread\uc758 \uc5ed\ud560",id:"background-thread\uc758-\uc5ed\ud560",level:2},{value:"\ube14\ub85c\ud0b9 I/O vs \ub17c\ube14\ub85c\ud0b9 I/O",id:"\ube14\ub85c\ud0b9-io-vs-\ub17c\ube14\ub85c\ud0b9-io",level:2},{value:"background thread pool \ub298\ub9ac\uae30",id:"background-thread-pool-\ub298\ub9ac\uae30",level:2}];function i(e){const o={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.header,{children:(0,d.jsx)(o.h1,{id:"nodejs-event-loop-libuv-thread-pool-worker-thread--background-thread",children:"nodejs event-loop libuv thread pool (worker thread / background thread)"})}),"\n",(0,d.jsxs)(o.blockquote,{children:["\n",(0,d.jsx)(o.p,{children:"nodejs\ub294 \ub300\ubd80\ubd84\uc758 cpu \uc791\uc5c5\uc744 main thread \uc218\ud589\ud558\uc9c0\ub9cc \uba87\uac00\uc9c0 \uc791\uc5c5\uc740 background thread\uc5d0\uc11c \uc218\ud589\ud55c\ub2e4."}),"\n",(0,d.jsx)(o.p,{children:"\uc77c\ubc18\ud30c\uc77c I/O(\ube14\ub85c\ud0b9 I/O)\ub098 \uc77c\ubd80 \ub124\uc774\ud2f0\ube0c \uc791\uc5c5\uc740 event-loop\ub97c \ud1b5\ud574 \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2a4\ub808\ub4dc\uc5d0\uc11c \ucc98\ub9ac\ud55c\ub2e4."}),"\n",(0,d.jsxs)(o.blockquote,{children:["\n",(0,d.jsx)(o.p,{children:"libuv thread pool\ub85c \uad6c\ud604\ub418\uc5b4\uc788\ub2e4. (libuv\ub294 c\ub85c \uc791\uc131\ub41c nodejs\uc758 event-loop + \ube44\ub3d9\uae30 I/O \ub77c\uc774\ube0c\ub7ec\ub9ac)"}),"\n",(0,d.jsx)(o.p,{children:"\uae30\ubcf8 4\uac1c\uc758 \uc2a4\ub808\ub4dc\uac00 \uc0dd\uc131\ub41c\ub2e4."}),"\n",(0,d.jsxs)(o.blockquote,{children:["\n",(0,d.jsx)(o.p,{children:"\ub9cc\uc57d background thread\ub97c \uc0ac\uc6a9\ud558\ub294 \uc870\uac74\uc774 \ucda9\uc871\ub418\uc9c0 \uc54a\ub294\ub2e4\uba74 main thread\uc5d0\uc11c \ucc98\ub9ac\ub41c\ub2e4. (e.g. bcryptjs)"}),"\n",(0,d.jsx)(o.p,{children:"\ud328\ud0a4\uc9c0 \uc0ac\uc6a9 \uc2dc \ubb38\uc11c\ub97c \ud655\uc778\ud558\uac70\ub098 \ucf54\ub4dc\ub97c \ubcf4\uace0 uv_queue_work()\ub97c \ud638\ucd9c\ud558\ub294\uc9c0\ub97c \ud655\uc778\ud558\ub294\uac8c \uc88b\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(o.h2,{id:"background-thread\uc758-\uc5ed\ud560",children:"background thread\uc758 \uc5ed\ud560"}),"\n",(0,d.jsxs)(o.ol,{children:["\n",(0,d.jsx)(o.li,{children:"crypto module (pbkdf2, randomBytes, randomFill, sign with callback, verify with callback)"}),"\n",(0,d.jsx)(o.li,{children:"zlib module"}),"\n",(0,d.jsx)(o.li,{children:"fs I/O (\ube14\ub85c\ud0b9 I/O) (system call read(), write())"}),"\n",(0,d.jsx)(o.li,{children:"dns lookup (\ube14\ub85c\ud0b9 I/O) (\ub124\ud2b8\uc6cc\ud06c \uc694\uccad\uc804\uc5d0 system call getaddrinfo() \uc0ac\uc6a9)"}),"\n"]}),"\n",(0,d.jsx)(o.h2,{id:"\ube14\ub85c\ud0b9-io-vs-\ub17c\ube14\ub85c\ud0b9-io",children:"\ube14\ub85c\ud0b9 I/O vs \ub17c\ube14\ub85c\ud0b9 I/O"}),"\n",(0,d.jsxs)(o.blockquote,{children:["\n",(0,d.jsx)(o.p,{children:"\ube14\ub85c\ud0b9 I/O\ub294 \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2a4\ub808\ub4dc\ub85c \ucc98\ub9ac"}),"\n",(0,d.jsxs)(o.blockquote,{children:["\n",(0,d.jsx)(o.p,{children:"\ub17c\ube14\ub85c\ud0b9 I/O (\ub124\ud2b8\uc6cc\ud06c IO)\ub294 Native I/O Event Notification Interface (epoll/kqueue/IOCP)\ub97c \ud1b5\ud574 \ube44\ub3d9\uae30\uc801\uc73c\ub85c \ucc98\ub9ac\ub41c\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(o.h2,{id:"background-thread-pool-\ub298\ub9ac\uae30",children:"background thread pool \ub298\ub9ac\uae30"}),"\n",(0,d.jsxs)(o.blockquote,{children:["\n",(0,d.jsx)(o.p,{children:"libuv\uc758 \uae30\ubcf8 \uc2a4\ub808\ub4dc \ud480 \ud06c\uae30\ub294 4\uac1c\uc774\ub2e4."}),"\n",(0,d.jsxs)(o.blockquote,{children:["\n",(0,d.jsx)(o.p,{children:"\uc774\ub294 \ucee8\ud14d\uc2a4\ud2b8 \uc2a4\uc704\uce6d \ube44\uc6a9 \uc904\uc774\uae30, \ucffc\ub4dc\ucf54\uc5b4 \uc124\uacc4\ub97c \uae30\ubcf8\uc73c\ub85c \uc124\uacc4\ub418\uc5c8\uae30 \ub54c\ubb38\uc774\ub2e4."}),"\n",(0,d.jsxs)(o.blockquote,{children:["\n",(0,d.jsx)(o.p,{children:"crypto, zlib, dns.lookup(), fs \uc791\uc5c5\uc774 \ub9ce\ub2e4\uba74 \uc2a4\ub808\ub4dc \ud480 \ud06c\uae30\ub97c \ub298\ub824\uc57c \ud55c\ub2e4. (8 ~ 16\uac1c \uc815\ub3c4) (\ucd5c\ub300 128\uac1c\uae4c\uc9c0 \uac00\ub2a5)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(o.pre,{children:(0,d.jsx)(o.code,{className:"language-sh",children:"UV_THREADPOOL_SIZE=8 node app.js\n"})})]})}function h(e={}){const{wrapper:o}={...(0,l.R)(),...e.components};return o?(0,d.jsx)(o,{...e,children:(0,d.jsx)(i,{...e})}):i(e)}}}]);