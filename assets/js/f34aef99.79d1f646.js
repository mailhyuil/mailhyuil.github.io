"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["500105"],{601648:function(n,e,a){a.r(e),a.d(e,{frontMatter:()=>s,toc:()=>o,default:()=>d,metadata:()=>l,assets:()=>c,contentTitle:()=>r});var l=JSON.parse('{"id":"linux/linux package fail2ban","title":"linux package fail2ban","description":"\uC11C\uBE44\uC2A4\uC758 \uB85C\uADF8 \uD30C\uC77C\uC744 \uC77D\uC5B4, \uD2B9\uC815 IP\uC5D0\uC11C \uC815\uD574\uC9C4 \uC2DC\uAC04(findtime) \uB3D9\uC548 \uC815\uD574\uC9C4 \uD69F\uC218(maxretry)\uB97C \uCD08\uACFC\uD558\uC5EC \uC811\uC18D\uC5D0 \uC2E4\uD328\uD588\uB2E4\uBA74","source":"@site/docs/linux/linux package fail2ban.md","sourceDirName":"linux","slug":"/linux/linux package fail2ban","permalink":"/docs/linux/linux package fail2ban","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"curl","permalink":"/docs/linux/linux package curl"},"next":{"title":"ftp","permalink":"/docs/linux/linux package ftp"}}'),i=a(447259),t=a(255511);let s={},r="linux package fail2ban",c={},o=[{value:"install",id:"install",level:2},{value:"usage",id:"usage",level:2},{value:"sshd",id:"sshd",level:2}];function u(n){let e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"linux-package-fail2ban",children:"linux package fail2ban"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\uC11C\uBE44\uC2A4\uC758 \uB85C\uADF8 \uD30C\uC77C\uC744 \uC77D\uC5B4, \uD2B9\uC815 IP\uC5D0\uC11C \uC815\uD574\uC9C4 \uC2DC\uAC04(findtime) \uB3D9\uC548 \uC815\uD574\uC9C4 \uD69F\uC218(maxretry)\uB97C \uCD08\uACFC\uD558\uC5EC \uC811\uC18D\uC5D0 \uC2E4\uD328\uD588\uB2E4\uBA74"}),"\n",(0,i.jsx)(e.p,{children:"\uC815\uD574\uC9C4 \uC2DC\uAC04(bantime) \uB3D9\uC548 \uADF8 IP\uB97C \uCC28\uB2E8\uD558\uB294 \uAC04\uB2E8\uD55C \uC11C\uBE44\uC2A4"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"ssh \uC11C\uBE44\uC2A4\uC5D0 \uB300\uD574 fail2ban\uC744 \uC124\uC815\uD558\uBA74 \uBE44\uC815\uC0C1\uC801\uC778 ssh \uC811\uC18D\uC744 \uCC28\uB2E8\uD560 \uC218 \uC788\uACE0"}),"\n",(0,i.jsx)(e.p,{children:"nginx \uC6F9 \uC11C\uBC84\uC5D0 \uB300\uD574 fail2ban\uC744 \uC124\uC815\uD558\uBA74 \uBE44\uC815\uC0C1\uC801\uC778 \uB85C\uADF8\uC778 \uC2DC\uB3C4 \uB4F1\uC744 \uCC28\uB2E8\uD560 \uC218 \uC788\uB2E4."}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\uC124\uCE58 \uC2DC \uAE30\uBCF8\uC73C\uB85C well-known application\uC5D0 \uB300\uD55C \uC124\uC815\uC774 \uB418\uC5B4\uC788\uC74C (sshd, apache, nginx, ...)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"install",children:"install"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sh",children:"apt install fail2ban -y\n"})}),"\n",(0,i.jsx)(e.h2,{id:"usage",children:"usage"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sh",children:"cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local\r\n\r\n# /etc/fail2ban/jail.local \uC218\uC815\r\n\r\nsystemctl enable fail2ban --now\r\n\r\n# \uCC28\uB2E8\uB41C ip \uD655\uC778\r\nfail2ban-client status\r\n# sshd\uC5D0\uC11C \uCC28\uB2E8\uB41C ip \uD655\uC778\r\nfail2ban-client status sshd\r\n\r\n# \uCC28\uB2E8 \uD574\uC81C\r\nsudo fail2ban-client set sshd unbanip <IP\uC8FC\uC18C>\n"})}),"\n",(0,i.jsx)(e.h2,{id:"sshd",children:"sshd"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ini",children:"[sshd]\r\nenabled = true\r\nport = 22\r\nfilter = sshd\r\nlogpath = /var/log/auth.log   # Ubuntu/Debian\r\n# logpath = /var/log/secure    # CentOS/RHEL\r\nmaxretry = 5  # 5\uD68C \uC2E4\uD328 \uC2DC \uCC28\uB2E8\r\nbantime = 600 # 10\uBD84 \uCC28\uB2E8 (\uCD08 \uB2E8\uC704)\r\nfindtime = 300 # 5\uBD84 \uB3D9\uC548 maxretry \uC774\uC0C1 \uC2E4\uD328 \uC2DC \uCC28\uB2E8\n"})})]})}function d(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}},255511:function(n,e,a){a.d(e,{R:()=>s,x:()=>r});var l=a(596363);let i={},t=l.createContext(i);function s(n){let e=l.useContext(t);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),l.createElement(t.Provider,{value:e},n.children)}}}]);