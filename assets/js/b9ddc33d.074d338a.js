"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[714455],{370557:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>a,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"protocol/L7 http headers \ubcf4\uc548 CSP Trusted Types","title":"http headers \ubcf4\uc548 Trusted Types","description":"XSS \uacf5\uaca9\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c trustedType\uc744 \uc0dd\uc131 \ud6c4 \uadf8 trusted type\uc774 \uc544\ub2cc \uacbd\uc6b0\uc5d0 csp\ub97c \ud65c\uc6a9\ud574 \ucc28\ub2e8\ud560 \uc218 \uc788\ub2e4.","source":"@site/docs/protocol/L7 http headers \ubcf4\uc548 CSP Trusted Types.md","sourceDirName":"protocol","slug":"/protocol/L7 http headers \ubcf4\uc548 CSP Trusted Types","permalink":"/docs/protocol/L7 http headers \ubcf4\uc548 CSP Trusted Types","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"http headers \ubcf4\uc548 Nonce","permalink":"/docs/protocol/L7 http headers \ubcf4\uc548 CSP Nonce"},"next":{"title":"http headers \ubcf4\uc548 Content-Security-Policy (CSP)","permalink":"/docs/protocol/L7 http headers \ubcf4\uc548 CSP html meta tag"}}');var n=r(447259),o=r(529087);const c={},d="http headers \ubcf4\uc548 Trusted Types",p={},l=[{value:"create trusted type",id:"create-trusted-type",level:2},{value:"CSP",id:"csp",level:2}];function u(e){const t={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"http-headers-\ubcf4\uc548-trusted-types",children:"http headers \ubcf4\uc548 Trusted Types"})}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"XSS \uacf5\uaca9\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c trustedType\uc744 \uc0dd\uc131 \ud6c4 \uadf8 trusted type\uc774 \uc544\ub2cc \uacbd\uc6b0\uc5d0 csp\ub97c \ud65c\uc6a9\ud574 \ucc28\ub2e8\ud560 \uc218 \uc788\ub2e4."}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"create-trusted-type",children:"create trusted type"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'// default\ub77c\ub294 policy\ub0b4\uc5d0 trust type\uc744 \uc0dd\uc131\ud558\ub294 \ud568\uc218\ub97c \uc815\uc758\r\nwindow.trustedTypes.createPolicy("default", {\r\n  createHTML: input => {\r\n    // 1) XSS \ud544\ud130\ub9c1 \ub85c\uc9c1\uc744 \uc218\ud589\ud558\uac70\ub098\r\n    // 2) \uc2e0\ub8b0\ud560 \ub9cc\ud55c \ubb38\uc790\uc5f4\ub9cc \ud5c8\uc6a9\r\n    return input; // <- \uc2e4\uc81c\ub85c\ub294 \uc548\uc804\uc131 \uac80\uc99d\uc774 \ud544\uc694\r\n  },\r\n});\r\n\r\nelement.innerHTML = trustedTypes.default.createHTML(userInput);\n'})}),"\n",(0,n.jsx)(t.h2,{id:"csp",children:"CSP"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"trusted-types\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"require-trusted-types-for 'script'\ub97c \uc124\uc815\ud558\uba74 script\uc5d0 \ub300\ud574\uc11c\ub9cc trusted type\uc744 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uac15\uc81c\ud560 \uc218 \uc788\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",children:"Content-Security-Policy: trusted-types 'default' myPolicyName; require-trusted-types-for 'script';\n"})})]})}function a(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},529087:(e,t,r)=>{r.d(t,{R:()=>c,x:()=>d});var s=r(596363);const n={},o=s.createContext(n);function c(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);