"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[896272],{415241:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"ai langchain/langchain Vector Retriever Reranker","title":"langchain Vector Retriever Reranker","description":"","source":"@site/docs/ai langchain/langchain Vector Retriever Reranker.md","sourceDirName":"ai langchain","slug":"/ai langchain/langchain Vector Retriever Reranker","permalink":"/docs/ai langchain/langchain Vector Retriever Reranker","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"langchain Vector Retriever Fusion","permalink":"/docs/ai langchain/langchain Vector Retriever Fusion - Ensemble"},"next":{"title":"langchain Vector Retriever Retrieval Chain","permalink":"/docs/ai langchain/langchain Vector Retriever Retrieval Chain"}}');var a=t(447259),i=t(529087);const o={},c="langchain Vector Retriever Reranker",s={},l=[];function h(e){const n={code:"code",h1:"h1",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"langchain-vector-retriever-reranker",children:"langchain Vector Retriever Reranker"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { CohereRerank } from "@langchain/cohere";\r\nimport { Document } from "@langchain/core/documents";\r\n\r\nconst query = "What is the capital of the United States?";\r\nconst docs = [\r\n  new Document({\r\n    pageContent:\r\n      "Carson City is the capital city of the American state of Nevada. At the 2010 United States Census, Carson City had a population of 55,274.",\r\n  }),\r\n  new Document({\r\n    pageContent:\r\n      "The Commonwealth of the Northern Mariana Islands is a group of islands in the Pacific Ocean that are a political division controlled by the United States. Its capital is Saipan.",\r\n  }),\r\n  new Document({\r\n    pageContent:\r\n      "Charlotte Amalie is the capital and largest city of the United States Virgin Islands. It has about 20,000 people. The city is on the island of Saint Thomas.",\r\n  }),\r\n  new Document({\r\n    pageContent:\r\n      "Washington, D.C. (also known as simply Washington or D.C., and officially as the District of Columbia) is the capital of the United States. It is a federal district. The President of the USA and many major national government offices are in the territory. This makes it the political center of the United States of America.",\r\n  }),\r\n  new Document({\r\n    pageContent:\r\n      "Capital punishment (the death penalty) has existed in the United States since before the United States was a country. As of 2017, capital punishment is legal in 30 of the 50 states. The federal government (including the United States military) also uses capital punishment.",\r\n  }),\r\n];\r\n\r\nconst cohereRerank = new CohereRerank({\r\n  apiKey: process.env.COHERE_API_KEY, // Default\r\n  model: "rerank-english-v2.0",\r\n});\r\n\r\nconst rerankedDocuments = await cohereRerank.rerank(docs, query, {\r\n  topN: 5,\r\n});\r\n\r\nconsole.log(rerankedDocuments);\r\n/**\r\n[\r\n  { index: 3, relevanceScore: 0.9871293 },\r\n  { index: 1, relevanceScore: 0.29961726 },\r\n  { index: 4, relevanceScore: 0.27542195 },\r\n  { index: 0, relevanceScore: 0.08977329 },\r\n  { index: 2, relevanceScore: 0.041462272 }\r\n]\r\n */\n'})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},529087:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var r=t(596363);const a={},i=r.createContext(a);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);