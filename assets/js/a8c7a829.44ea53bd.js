"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[327470],{94075:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"frontend/ui Marquee, Infinity slider","title":"js marquee, infinity slider, carousel","description":"\uce90\ub85c\uc140 \uc2ac\ub77c\uc774\ub354, \ubb34\ud55c \uc2ac\ub77c\uc774\ub354, \ub9c8\ud034","source":"@site/docs/frontend/ui Marquee, Infinity slider.md","sourceDirName":"frontend","slug":"/frontend/ui Marquee, Infinity slider","permalink":"/docs/frontend/ui Marquee, Infinity slider","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Breadcrumb(\ube0c\ub808\ub4dc\ud06c\ub7fc)","permalink":"/docs/frontend/ui Breadcrumb - \ube0c\ub808\ub4dc\ud06c\ub7fc"},"next":{"title":"css accordion","permalink":"/docs/frontend/ui accordion"}}');var i=r(447259),s=r(529087);const l={},o="js marquee, infinity slider, carousel",a={},d=[{value:"to right",id:"to-right",level:2},{value:"to left",id:"to-left",level:2},{value:"html",id:"html",level:2},{value:"ts",id:"ts",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"js-marquee-infinity-slider-carousel",children:"js marquee, infinity slider, carousel"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\uce90\ub85c\uc140 \uc2ac\ub77c\uc774\ub354, \ubb34\ud55c \uc2ac\ub77c\uc774\ub354, \ub9c8\ud034"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"to-right",children:"to right"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'<script lang="ts" setup>\r\nconst props = defineProps<{\r\n  items: string[];\r\n}>();\r\nconst container = ref<HTMLDivElement>();\r\nonMounted(async () => {\r\n  await new Promise<void>((res) =>\r\n    setTimeout(() => {\r\n      res();\r\n    }, 50)\r\n  );\r\n  if (container.value) {\r\n    let containerBoundary = container.value.getBoundingClientRect();\r\n\r\n    const sliders: HTMLDivElement[] = Array.from(container.value?.childNodes).filter((e) => e.nodeType !== Node.TEXT_NODE) as HTMLDivElement[];\r\n    const width = parseInt(getComputedStyle(sliders[0]).width) + 20;\r\n    let INIT_POSITION = 0;\r\n\r\n    if (sliders) {\r\n      sliders?.forEach((e) => {\r\n        e.style.left = INIT_POSITION + \'px\';\r\n        INIT_POSITION -= width;\r\n      });\r\n    }\r\n\r\n    let speed = 2;\r\n\r\n    function draw() {\r\n      requestAnimationFrame(draw);\r\n\r\n      sliders.forEach((e) => {\r\n        if (e.getBoundingClientRect().left > containerBoundary.right) {\r\n          e.style.left = parseInt(sliders[sliders.length - 1].style.left) - width + \'px\';\r\n          sliders.shift();\r\n          sliders.push(e);\r\n          return false;\r\n        }\r\n        e.style.left = parseInt(e.style.left) + speed + \'px\';\r\n      });\r\n    }\r\n    draw();\r\n\r\n    window.addEventListener(\'resize\', () => {\r\n      if (container.value) {\r\n        containerBoundary = container.value.getBoundingClientRect();\r\n      }\r\n    });\r\n  }\r\n});\r\n<\/script>\r\n<template>\r\n  <div\r\n    ref="container"\r\n    class="relative flex w-full h-32 gap-10 overflow-hidden">\r\n    <div\r\n      class="absolute top-0 left-0 w-32 h-10"\r\n      v-for="i of 10">\r\n      <img\r\n        src="http://placehold.it/400"\r\n        class="object-cover w-full h-full" />\r\n    </div>\r\n  </div>\r\n</template>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"to-left",children:"to left"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'<script lang="ts" setup>\r\nconst props = defineProps<{\r\n  items: string[];\r\n}>();\r\nconst container = ref<HTMLDivElement>();\r\nconst key = ref(1);\r\n\r\nonMounted(async () => {\r\n  await new Promise<void>((res) =>\r\n    setTimeout(() => {\r\n      res();\r\n    }, 50)\r\n  );\r\n  if (container.value) {\r\n    let containerBoundary = container.value.getBoundingClientRect();\r\n    window.onresize = () => {\r\n      if (container.value) {\r\n        containerBoundary = container.value.getBoundingClientRect();\r\n      }\r\n    };\r\n    const sliders: HTMLDivElement[] = Array.from(container.value?.childNodes).filter((e) => e.nodeType !== Node.TEXT_NODE) as HTMLDivElement[];\r\n    const width = parseInt(getComputedStyle(sliders[0]).width) + 20;\r\n    let INIT_POSITION = width;\r\n\r\n    if (sliders) {\r\n      sliders?.forEach((e) => {\r\n        e.style.left = INIT_POSITION + \'px\';\r\n        INIT_POSITION += width;\r\n      });\r\n    }\r\n\r\n    let speed = -2;\r\n\r\n    function draw() {\r\n      requestAnimationFrame(draw);\r\n      sliders.forEach((e) => {\r\n        if (e.getBoundingClientRect().right < containerBoundary.left) {\r\n          e.style.left = parseInt(sliders[sliders.length - 1].style.left) + width + \'px\';\r\n          sliders.shift();\r\n          sliders.push(e);\r\n          return false;\r\n        }\r\n        e.style.left = parseInt(e.style.left) + speed + \'px\';\r\n      });\r\n    }\r\n    draw();\r\n\r\n    window.addEventListener(\'resize\', () => {\r\n      if (container.value) {\r\n        containerBoundary = container.value.getBoundingClientRect();\r\n      }\r\n    });\r\n  }\r\n});\r\n<\/script>\r\n<template>\r\n  <div\r\n    ref="container"\r\n    class="relative flex w-full h-32 gap-10 overflow-hidden">\r\n    <div\r\n      class="absolute top-0 left-0 w-32 h-10"\r\n      v-for="i of 10">\r\n      <img\r\n        src="http://placehold.it/400"\r\n        class="object-cover w-full h-full" />\r\n    </div>\r\n  </div>\r\n</template>\n'})}),"\n",(0,i.jsx)(n.h1,{id:"angular-marquee",children:"angular marquee"}),"\n",(0,i.jsx)(n.h2,{id:"html",children:"html"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<div #container class="relative flex w-full h-24 gap-10 overflow-hidden">\r\n  <div\r\n    *ngFor="let i of [].constructor(10)"\r\n    class="absolute top-0 left-0 w-32 h-12"\r\n  >\r\n    <img src="http://placehold.it/400" class="object-cover w-full h-full" />\r\n  </div>\r\n</div>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"ts",children:"ts"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import { CommonModule } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  NgZone,\r\n  ViewChild,\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-marquee',\r\n  templateUrl: './marquee.component.html',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  styleUrls: ['./marquee.component.scss'],\r\n})\r\nexport class MarqueeComponent implements AfterViewInit {\r\n  @ViewChild('container')\r\n  container: ElementRef<HTMLDivElement>;\r\n  containerBoundary: DOMRect;\r\n  sliders: HTMLDivElement[];\r\n  width: number;\r\n  speed: number = 2;\r\n  constructor(private ngZone: NgZone) {}\r\n\r\n  async ngAfterViewInit(): Promise<void> {\r\n    window.addEventListener('resize', () => {\r\n      if (this.container.nativeElement) {\r\n        this.containerBoundary =\r\n          this.container.nativeElement.getBoundingClientRect();\r\n      }\r\n    });\r\n    this.init();\r\n    this.draw();\r\n  }\r\n\r\n  init() {\r\n    this.containerBoundary =\r\n      this.container.nativeElement.getBoundingClientRect();\r\n\r\n    this.sliders = Array.from(this.container.nativeElement?.childNodes).filter(\r\n      (e) => e.nodeType !== Node.TEXT_NODE && e.nodeType !== Node.COMMENT_NODE\r\n    ) as HTMLDivElement[];\r\n\r\n    this.width = parseInt(getComputedStyle(this.sliders[0]).width) + 20;\r\n\r\n    let INIT_POSITION = 0;\r\n    if (this.sliders) {\r\n      this.sliders?.forEach((e) => {\r\n        e.style.left = INIT_POSITION + 'px';\r\n        INIT_POSITION -= this.width;\r\n      });\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      requestAnimationFrame(() => this.draw());\r\n      this.sliders.forEach((e) => {\r\n        if (e.getBoundingClientRect().left > this.containerBoundary.right) {\r\n          e.style.left =\r\n            parseInt(this.sliders[this.sliders.length - 1].style.left) -\r\n            this.width +\r\n            'px';\r\n          this.sliders.shift();\r\n          this.sliders.push(e);\r\n          return false;\r\n        }\r\n        e.style.left = parseInt(e.style.left) + this.speed + 'px';\r\n        return true;\r\n      });\r\n    });\r\n  }\r\n}\r\n\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},529087:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var t=r(596363);const i={},s=t.createContext(i);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);