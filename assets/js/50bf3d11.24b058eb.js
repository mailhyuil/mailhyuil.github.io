"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["750296"],{913458:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>s,toc:()=>i,default:()=>g,metadata:()=>o,assets:()=>a,contentTitle:()=>t});var o=JSON.parse('{"id":"go/go \uCD5C\uC801\uD654 memory garbage collector \uCD5C\uC801\uD654","title":"go memory garbage collector \uCD5C\uC801\uD654","description":"1. \uD560\uB2F9\uC744 \uC904\uC5EC\uB77C","source":"@site/docs/go/go \uCD5C\uC801\uD654 memory garbage collector \uCD5C\uC801\uD654.md","sourceDirName":"go","slug":"/go/go \uCD5C\uC801\uD654 memory garbage collector \uCD5C\uC801\uD654","permalink":"/docs/go/go \uCD5C\uC801\uD654 memory garbage collector \uCD5C\uC801\uD654","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"go memory garbage collector (GC)","permalink":"/docs/go/go \uCD5C\uC801\uD654 memory garbage collector GOGC"},"next":{"title":"go memory garbage collector (GC)","permalink":"/docs/go/go \uCD5C\uC801\uD654 memory garbage collector"}}'),l=r(447259),c=r(255511);let s={},t="go memory garbage collector \uCD5C\uC801\uD654",a={},i=[];function d(e){let n={blockquote:"blockquote",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"go-memory-garbage-collector-\uCD5C\uC801\uD654",children:"go memory garbage collector \uCD5C\uC801\uD654"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\uD560\uB2F9\uC744 \uC904\uC5EC\uB77C","\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uAC00\uB2A5\uD558\uBA74 \uC2A4\uD0DD\uC744 \uC0AC\uC6A9\uD558\uB3C4\uB85D \uC124\uACC4"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:"var buf [4096]byte // \uC2A4\uD0DD\uC5D0 \uC7A1\uD798 (GC \uB300\uC0C1 \uC544\uB2D8)\r\n\r\nbuf := make([]byte, 4096) // \uD799 \uD560\uB2F9 (GC \uB300\uC0C1)\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\uBA54\uBAA8\uB9AC \uC7AC\uC0AC\uC6A9","\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uBC18\uBCF5\uC801\uC73C\uB85C \uC0DD\uC131/\uC0AD\uC81C\uB418\uB294 \uAC1D\uCCB4\uB97C \uCE90\uC2F1\uD558\uBA74 GC \uBD80\uB2F4 \uD655 \uC904\uC5B4\uB4E6"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"GC\uB294 sync.Pool \uAC1D\uCCB4\uB294 GC \uC804\uAE4C\uC9C0\uB294 \uC548 \uAC74\uB4DC\uB9BC"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:"var bufPool = sync.Pool{\r\n    New: func() interface{} {\r\n        return make([]byte, 1024)\r\n    },\r\n}\r\n\r\nbuf := bufPool.Get().([]byte)\r\n// ... \uC0AC\uC6A9\uD558\uACE0 \uB098\uC11C\r\nbufPool.Put(buf)\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:["\uC2AC\uB77C\uC774\uC2A4/\uB9F5\uC744 \uC7AC\uC0AC\uC6A9","\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uC2AC\uB77C\uC774\uC2A4\uB97C clear\uD558\uACE0 \uC7AC\uC0AC\uC6A9\uD558\uBA74 GC \uC548 \uB07C\uC5B4\uB4E6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:"s = s[:0] // \uAE30\uC874 cap \uC720\uC9C0\uD55C \uCC44\uB85C \uC7AC\uC0AC\uC6A9 \uAC00\uB2A5\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"\uD544\uC694\uC5C6\uB294 \uCC38\uC870\uB294 \uBE68\uB9AC \uB04A\uC5B4\uB77C"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:"var cache []*BigStruct // \u274C \uC624\uB798 \uCC38\uC870\uD558\uBA74 GC \uBABB \uCE58\uC6C0\r\n\r\ncache = nil            // \u2705 \uCC38\uC870 \uB04A\uC5B4\uC8FC\uAE30\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsx)(n.li,{children:"GOGC \uD29C\uB2DD"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"GOGC=100 ./app     # \uAE30\uBCF8\uAC12\r\nGOGC=200 ./app     # GC \uB35C \uC790\uC8FC \uB3CC\uC74C \u2192 \uBA54\uBAA8\uB9AC \uB354 \uB9CE\uC774 \uC500\r\nGOGC=50 ./app      # GC \uC790\uC8FC \uB3CC\uC74C \u2192 CPU \uB354 \uB9CE\uC774 \uC500\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsxs)(n.li,{children:["GC \uD504\uB85C\uD30C\uC77C\uB9C1","\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"GC\uAC00 \uC5BC\uB9C8\uB098 \uC790\uC8FC \uB3CC\uACE0, \uC5BC\uB9C8\uB098 \uB9CE\uC740 \uBA54\uBAA8\uB9AC\uB97C \uC0AC\uC6A9\uD588\uB294\uC9C0 \uD655\uC778 \uAC00\uB2A5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"GODEBUG=gctrace=1 ./app # GC\uAC00 \uBC1C\uC0DD\uD560 \uB54C\uB9C8\uB2E4 \uB85C\uADF8 \uCD9C\uB825\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"7",children:["\n",(0,l.jsxs)(n.li,{children:["\uB300\uD615 \uAC1D\uCCB4\uB294 \uB418\uB3C4\uB85D \uD53C\uD558\uC790","\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uB300\uD615 \uAC1D\uCCB4\uB294 GC\uAC00 \uB290\uB824\uC9D0"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"16KB \uC774\uC0C1\uC778 \uACBD\uC6B0, GC\uAC00 \uB354 \uB290\uB824\uC9D0"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"32KB \uC774\uC0C1\uC778 \uACBD\uC6B0, GC\uAC00 \uB354\uB354 \uB290\uB824\uC9D0"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\uD544\uC694\uD558\uB2E4\uBA74 chunk\uB85C \uB098\uB220\uC11C \uAD00\uB9AC\uD558\uAC70\uB098, sync.Pool\uC744 \uC0AC\uC6A9"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function g(e={}){let{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},255511:function(e,n,r){r.d(n,{R:()=>s,x:()=>t});var o=r(596363);let l={},c=o.createContext(l);function s(e){let n=o.useContext(c);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),o.createElement(c.Provider,{value:n},e.children)}}}]);