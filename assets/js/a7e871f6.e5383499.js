"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["935829"],{756422:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>c,toc:()=>i,default:()=>a,metadata:()=>l,assets:()=>d,contentTitle:()=>o});var l=JSON.parse('{"id":"base/Graceful Shutdown","title":"Graceful Shutdown","description":"hard shutdown\uC758 \uBC18\uB300 \uAC1C\uB150","source":"@site/docs/base/Graceful Shutdown.md","sourceDirName":"base","slug":"/base/Graceful Shutdown","permalink":"/docs/base/Graceful Shutdown","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Garbage Collection (\uAC00\uBE44\uC9C0 \uCEEC\uB809\uC158)","permalink":"/docs/base/Garbage Collection - \uAC00\uBE44\uC9C0 \uCEEC\uB809\uC158"},"next":{"title":"Hydrate & Dehydrate","permalink":"/docs/base/Hydrate & Dehydrate"}}'),s=r(447259),t=r(255511);let c={},o="Graceful Shutdown",d={},i=[{value:"Hard Shutdown",id:"hard-shutdown",level:2},{value:"Graceful Shutdown",id:"graceful-shutdown-1",level:2},{value:"\uAD6C\uD604",id:"\uAD6C\uD604",level:2}];function u(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"graceful-shutdown",children:"Graceful Shutdown"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"hard shutdown\uC758 \uBC18\uB300 \uAC1C\uB150"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\uC791\uC5C5\uC744 \uC815\uC0C1\uC801\uC73C\uB85C \uC885\uB8CC\uC2DC\uD0A4\uB294 \uAC83"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"(e.g. buffer\uC5D0 \uB098\uC740 \uB85C\uADF8\uB97C flush\uD558\uB294 \uC791\uC5C5, consumer\uC758 \uACBD\uC6B0 consume\uC744 \uC911\uB2E8\uD558\uACE0 \uB0A8\uC740 \uBA54\uC2DC\uC9C0\uB97C \uCC98\uB9AC\uD558\uB294 \uC791\uC5C5 \uB4F1)"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"signal -> signal catching -> cleanup logic -> wait for cleanup -> exit"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"hard-shutdown",children:"Hard Shutdown"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\uC885\uB8CC \uC2DC\uADF8\uB110\uACFC \uD568\uAED8 \uBAA8\uB4E0 \uC791\uC5C5\uC744 \uC885\uB8CC\uC2DC\uD0A4\uB294 \uAC83"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"(e.g. \uCEF4\uD4E8\uD130\uC758 \uC804\uC6D0\uC744 \uAC15\uC81C\uB85C \uB044\uB294 \uAC83)"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"SIGKILL // kill -9"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"graceful-shutdown-1",children:"Graceful Shutdown"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\uD558\uACE0 \uC788\uB358 \uC791\uC5C5\uC744 \uC801\uC808\uD788 \uB9C8\uBB34\uB9AC \uD6C4 \uC815\uC0C1\uC801\uC73C\uB85C \uC885\uB8CC\uC2DC\uD0A4\uB294 \uAC83"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"(e.g. http \uC11C\uBC84\uC758 \uACBD\uC6B0 \uCC98\uB9AC \uC911\uC778 \uC694\uCCAD\uC744 \uBAA8\uB450 \uCC98\uB9AC\uD55C \uD6C4 \uC885\uB8CC)"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"SIGINT, SIGTERM // kill -2, kill -15"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\uB450 \uC2DC\uADF8\uB110\uC740 catch\uB97C \uD558\uC5EC \uC791\uC5C5\uC744 \uC218\uD589 \uD6C4 \uC885\uB8CC\uC2DC\uD0A4\uB294 \uAC83\uC774 \uAC00\uB2A5\uD558\uB2E4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\uAD6C\uD604",children:"\uAD6C\uD604"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"SIGINT, SIGTERM \uC2DC\uADF8\uB110\uC744 \uBC1B\uC73C\uBA74 \uC791\uC5C5\uC744 \uC885\uB8CC\uC2DC\uD0A4\uB294 \uCF54\uB4DC\uB97C \uC791\uC131\uD55C\uB2E4."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"SIGINT, SIGTERM \uB4F1\uC740 \uAE30\uBCF8\uC73C\uB85C process exit 0 \uB85C \uC885\uB8CC\uB418\uC9C0\uB9CC, \uC2DC\uADF8\uB110 \uD6C4\uD0B9\uC744 \uC0AC\uC6A9\uD560 \uACBD\uC6B0 \uBA85\uC2DC\uC801\uC73C\uB85C \uC885\uB8CC\uC2DC\uD0A4\uB294 \uCF54\uB4DC\uB97C \uC791\uC131\uD574\uC57C \uD55C\uB2E4."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Signal \uC774\uBCA4\uD2B8\uAC00 \uC548\uCC0D\uD788\uBA74 \uD130\uBBF8\uB110\uC758 \uBB38\uC81C\uC77C \uC218 \uC788\uB2E4. (git bash\uAC19\uC740 \uD130\uBBF8\uB110\uC5D0\uC11C\uB294 \uC548\uCC0D\uD798)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'// \uC2DC\uADF8\uB110 \uD6C4\uD0B9\r\nprocess.on("SIGINT", () => {\r\n  //  \uC791\uC5C5 \uC885\uB8CC\r\n  process.exit(0);\r\n});\r\nprocess.on("SIGTERM", () => {\r\n  //  \uC791\uC5C5 \uC885\uB8CC\r\n  process.exit(0);\r\n});\n'})})]})}function a(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},255511:function(e,n,r){r.d(n,{R:()=>c,x:()=>o});var l=r(596363);let s={},t=l.createContext(s);function c(e){let n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);