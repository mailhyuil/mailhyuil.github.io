"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[861623],{317941:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"x algorithm/algorithm Idempotency - \uba71\ub4f1\uc131","title":"algorithm Idempotency (\uba71\ub4f1\uc131)","description":"if\ubb38 \uc0ac\uc6a9","source":"@site/docs/x algorithm/algorithm Idempotency - \uba71\ub4f1\uc131.md","sourceDirName":"x algorithm","slug":"/x algorithm/algorithm Idempotency - \uba71\ub4f1\uc131","permalink":"/docs/x algorithm/algorithm Idempotency - \uba71\ub4f1\uc131","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"algorithm greedy (\ud0d0\uc695 \uc54c\uace0\ub9ac\uc998)","permalink":"/docs/x algorithm/algorithm Greedy algorithm - \ud0d0\uc695 \uc54c\uace0\ub9ac\uc998"},"next":{"title":"In-Place Algorithm","permalink":"/docs/x algorithm/algorithm In-Place Algorithm"}}');var o=t(447259),i=t(529087);const c={},l="algorithm Idempotency (\uba71\ub4f1\uc131)",s={},a=[{value:"if\ubb38 \uc0ac\uc6a9",id:"if\ubb38-\uc0ac\uc6a9",level:2},{value:"\ub36e\uc5b4\uc4f0\uae30 \uc0ac\uc6a9",id:"\ub36e\uc5b4\uc4f0\uae30-\uc0ac\uc6a9",level:2},{value:"Idempotency-Key \uc0ac\uc6a9",id:"idempotency-key-\uc0ac\uc6a9",level:2},{value:"\uc2dc\uac04 \uc81c\ud55c",id:"\uc2dc\uac04-\uc81c\ud55c",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"algorithm-idempotency-\uba71\ub4f1\uc131",children:"algorithm Idempotency (\uba71\ub4f1\uc131)"})}),"\n",(0,o.jsx)(n.h2,{id:"if\ubb38-\uc0ac\uc6a9",children:"if\ubb38 \uc0ac\uc6a9"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\uc0c1\ud0dc\uac12\uc744 \ud655\uc778\ud558\uc5ec \uc911\ubcf5 \ucc98\ub9ac\ub97c \ubc29\uc9c0"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"if (!isPaid) {\r\n  await pay();\r\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\ub36e\uc5b4\uc4f0\uae30-\uc0ac\uc6a9",children:"\ub36e\uc5b4\uc4f0\uae30 \uc0ac\uc6a9"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"HTTP PUT \uba54\uc11c\ub4dc\uc758 \uba71\ub4f1\uc131\uc740 \uc774 \ubc29\uc2dd\uc744 \uc758\ubbf8"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\uac12\uc744 \ub36e\uc5b4\uc4f0\ub294 \ubc29\uc2dd\uc73c\ub85c \uc911\ubcf5 \ucc98\ub9ac\ub97c \ubc29\uc9c0"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"async function compensate() {\r\n  await db.user.update({\r\n    where: { id },\r\n    data: { isActive: true }, // \uc6d0\uc0c1\ubcf5\uad6c\r\n  });\r\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"idempotency-key-\uc0ac\uc6a9",children:"Idempotency-Key \uc0ac\uc6a9"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"key\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc911\ubcf5 \ucc98\ub9ac\ub97c \ubc29\uc9c0"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'// POST /payments\r\n// Headers: Idempotency-Key: abc123\r\n\r\nif (idempotencyMap.has("abc123")) {\r\n  return idempotencyMap.get("abc123");\r\n} else {\r\n  const result = process();\r\n  idempotencyMap.set("abc123", result);\r\n  return result;\r\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\uc2dc\uac04-\uc81c\ud55c",children:"\uc2dc\uac04 \uc81c\ud55c"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\uc9e7\uc740 \uc2dc\uac04\uc5d0 \uc5ec\ub7ec\ubc88 \uc694\uccad\uc774 \ub4e4\uc5b4\uc62c \uacbd\uc6b0, \uc911\ubcf5 \uc694\uccad\uc73c\ub85c \ud310\ub2e8\ud558\uc5ec \ucc98\ub9ac"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"if (Date.now() - lastSentTime < 10000) {\r\n  return; // \ubb34\uc2dc\r\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},529087:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>l});var r=t(596363);const o={},i=r.createContext(o);function c(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);