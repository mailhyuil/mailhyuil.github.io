"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["830503"],{740988:function(e,t,c){c.r(t),c.d(t,{frontMatter:()=>s,toc:()=>h,default:()=>d,metadata:()=>n,assets:()=>i,contentTitle:()=>o});var n=JSON.parse('{"id":"cache/cache browser cache etag","title":"cache Etag","description":"Express.js\uB294 \uAE30\uBCF8\uC801\uC73C\uB85C \uBAA8\uB4E0 \uC751\uB2F5\uC5D0 Etag\uB97C \uC790\uB3D9\uC73C\uB85C \uC0DD\uC131\uD574\uC11C \uD5E4\uB354\uC5D0 \uCD94\uAC00\uD55C\uB2E4.","source":"@site/docs/cache/cache browser cache etag.md","sourceDirName":"cache","slug":"/cache/cache browser cache etag","permalink":"/docs/cache/cache browser cache etag","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"cache browser cache Vary","permalink":"/docs/cache/cache browser cache Vary"},"next":{"title":"cache browser stale-while-revalidate","permalink":"/docs/cache/cache browser cache stale-while-revalidate"}}'),a=c(447259),r=c(255511);let s={},o="cache Etag",i={},h=[{value:"If-Match vs If-None-Match vs If-Modified-Since",id:"if-match-vs-if-none-match-vs-if-modified-since",level:2}];function l(e){let t={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"cache-etag",children:"cache Etag"})}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsx)(t.p,{children:"Express.js\uB294 \uAE30\uBCF8\uC801\uC73C\uB85C \uBAA8\uB4E0 \uC751\uB2F5\uC5D0 Etag\uB97C \uC790\uB3D9\uC73C\uB85C \uC0DD\uC131\uD574\uC11C \uD5E4\uB354\uC5D0 \uCD94\uAC00\uD55C\uB2E4."}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsx)(t.p,{children:"\uB370\uC774\uD130\uAC00 \uBC14\uB00C\uBA74 \uD574\uC2DC\uAC12\uC774 \uBC14\uB010\uB2E4"}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsx)(t.p,{children:"npm etag \uD328\uD0A4\uC9C0\uB97C \uC0AC\uC6A9\uD574\uB3C4 \uB41C\uB2E4."}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsx)(t.p,{children:"If-Match or If-None-Match or If-Modified-Since\uB85C \uD655\uC778"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"if-match-vs-if-none-match-vs-if-modified-since",children:"If-Match vs If-None-Match vs If-Modified-Since"}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsx)(t.p,{children:"\uC11C\uBC84\uB85C\uBD80\uD130 \uB118\uACA8\uBC1B\uC740 \uC751\uB2F5 \uD5E4\uB354\uC5D0 Etag\uAC00 \uC788\uB2E4\uBA74, \uBE0C\uB77C\uC6B0\uC800(\uD06C\uB86C\uB9CC \uD655\uC778)\uB294 Etag\uC758 \uAC12\uACFC \uC751\uB2F5\uC744 \uBC1B\uC740 \uC2DC\uAC04\uC744 \uAE30\uB85D\uD574\uB450\uC5C8\uB2E4\uAC00, \uB2E4\uC74C \uBC88\uC5D0 \uB3D9\uC77C\uD55C \uC694\uCCAD\uC744 \uC804\uC1A1\uD560 \uB54C \uC544\uB798 \uB450 \uAC1C\uC758 \uD544\uB4DC\uB97C \uD5E4\uB354\uC5D0 \uCD94\uAC00\uD558\uC5EC \uC11C\uBC84\uB85C \uC804\uC1A1\uD55C\uB2E4."}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsx)(t.p,{children:"\uC800\uC7A5\uD574\uB454 Etag \uAC12\uC744 \uB123\uC5B4\uC11C \uC11C\uBC84\uC5D0 \uB9AC\uD018\uC2A4\uD2B8"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h1,{id:"\uAD6C\uD604",children:"\uAD6C\uD604"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'const oldEtag = request.headers["if-none-match"]; // request headers\uC5D0\uC11C Etag \uAC12\uC744 \uAC00\uC838\uC628\uB2E4.\r\nconst currentEtag = etag(JSON.stringify(data), { weak: true }); // data\uB97C \uD574\uC2DC\uD574\uC11C Etag\uB97C \uC0DD\uC131\uD55C\uB2E4.\r\n\r\n// Etag\uB97C \uBE44\uAD50\r\nif (oldEtag && oldEtag === currentEtag) {\r\n  response.status(304); // Etag\uAC00 \uAC19\uB2E4\uBA74 304 \uC751\uB2F5\uC744 \uBCF4\uB0B8\uB2E4.\r\n  return null; // null\uC744 \uBC18\uD658\uD574\uC11C \uB354 \uC774\uC0C1\uC758 \uCC98\uB9AC\uB97C \uD558\uC9C0 \uC54A\uB294\uB2E4.\r\n} else {\r\n  response.set("Etag", currentEtag); // Etag\uAC00 \uB2E4\uB974\uB2E4\uBA74 \uC751\uB2F5 \uD5E4\uB354\uC5D0 Etag\uB97C \uCD94\uAC00\uD55C\uB2E4.\r\n  return data; // Etag\uAC00 \uB2E4\uB974\uB2E4\uBA74 \uC751\uB2F5\uC744 \uBCF4\uB0B8\uB2E4.\r\n}\n'})})]})}function d(e={}){let{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},255511:function(e,t,c){c.d(t,{R:()=>s,x:()=>o});var n=c(596363);let a={},r=n.createContext(a);function s(e){let t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);