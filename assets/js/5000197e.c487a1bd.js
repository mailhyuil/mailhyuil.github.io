"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[386910],{529087:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>o});var t=r(596363);const s={},a=t.createContext(s);function c(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(a.Provider,{value:n},e.children)}},846383:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"javascript/js \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 pattern","title":"js design pattern","description":"callback pattern","source":"@site/docs/javascript/js \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 pattern.md","sourceDirName":"javascript","slug":"/javascript/js \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 pattern","permalink":"/docs/javascript/js \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 pattern","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\uc774\ubca4\ud2b8 \ub8e8\ud504","permalink":"/docs/javascript/js \uc774\ubca4\ud2b8 \ub8e8\ud504"},"next":{"title":"js \uc870\uac74\ubb38","permalink":"/docs/javascript/js \uc870\uac74\ubb38"}}');var s=r(447259),a=r(529087);const c={},o="js design pattern",i={},l=[{value:"callback pattern",id:"callback-pattern",level:2},{value:"event emitter pattern",id:"event-emitter-pattern",level:2},{value:"null object pattern",id:"null-object-pattern",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"js-design-pattern",children:"js design pattern"})}),"\n",(0,s.jsx)(n.h2,{id:"callback-pattern",children:"callback pattern"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function createTransaction(cb: tx => void) {\r\n  const tx = new Transaction();\r\n  cb(tx);\r\n}\r\n\r\ncreateTransaction(tx => {\r\n  tx.txLogic();\r\n  customLogic(tx);\r\n});\r\n\r\nfunction customLogic(tx = db) {\r\n  tx.update();\r\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"event-emitter-pattern",children:"event emitter pattern"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const EventEmitter = require("events");\r\n\r\nclass User extends EventEmitter {\r\n  constructor(name) {\r\n    super();\r\n    this.name = name;\r\n  }\r\n}\r\n\r\n// \uc0ac\uc6a9 \uc608\uc81c\r\nconst user = new User("Alice");\r\n\r\n// \'error\' \uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \ucd94\uac00\r\nuser.on("error", error => {\r\n  console.error("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4:", error);\r\n});\r\n\r\n// \'bye\' \uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \ucd94\uac00\r\nuser.on("bye", () => {\r\n  console.log("\uc548\ub155\ud788 \uac00\uc138\uc694!");\r\n});\r\n\r\n// \uc774\ubca4\ud2b8 \ud2b8\ub9ac\uac70\r\nuser.emit("error", new Error("\ubb34\uc5b8\uac00 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"));\r\nuser.emit("bye");\n'})}),"\n",(0,s.jsx)(n.h2,{id:"null-object-pattern",children:"null object pattern"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const nullUser: User = {\r\n  id: undefined,\r\n  name: "Guest",\r\n  email: undefined,\r\n};\r\n\r\nfunction createPost(data: CreatePostDTO, user: User = nullUser) { // user \uc778\uc790\ub97c \uc548\ub123\uac70\ub098 undefined\ub85c \ub123\uc73c\uba74 nullUser\uac00 \uc0ac\uc6a9\ub428\r\n  const created = await this.prisma.post.create({\r\n    where: {\r\n      id: data.id,\r\n    },\r\n    data: {\r\n      ...data,\r\n      userId: user.id,\r\n    },\r\n  });\r\n\r\n  console.log(`Post created by ${user.name}`)\r\n\r\n  return plainToClass(PostDTO, created);\r\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);