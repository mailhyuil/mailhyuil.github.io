"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[28753],{144552:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"angular/angular file \ubbf8\ub9ac\ubcf4\uae30","title":"file \uc5c5\ub85c\ub4dc \ubbf8\ub9ac\ubcf4\uae30","description":"URL.createObjectURL(file)\ub85c \ube0c\ub77c\uc6b0\uc800 \uba54\ubaa8\ub9ac\uc5d0 url \uc0dd\uc131","source":"@site/docs/angular/angular file \ubbf8\ub9ac\ubcf4\uae30.md","sourceDirName":"angular","slug":"/angular/angular file \ubbf8\ub9ac\ubcf4\uae30","permalink":"/docs/angular/angular file \ubbf8\ub9ac\ubcf4\uae30","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"angular event drop","permalink":"/docs/angular/angular file drop"},"next":{"title":"angular file","permalink":"/docs/angular/angular file"}}');var l=r(447259),o=r(529087);const a={},i="file \uc5c5\ub85c\ub4dc \ubbf8\ub9ac\ubcf4\uae30",s={},c=[{value:"html",id:"html",level:2},{value:"ts",id:"ts",level:2}];function u(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"file-\uc5c5\ub85c\ub4dc-\ubbf8\ub9ac\ubcf4\uae30",children:"file \uc5c5\ub85c\ub4dc \ubbf8\ub9ac\ubcf4\uae30"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"URL.createObjectURL(file)\ub85c \ube0c\ub77c\uc6b0\uc800 \uba54\ubaa8\ub9ac\uc5d0 url \uc0dd\uc131"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"URL.revokeObjectURL(objectUrl)\ub85c \ud3d0\uae30"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"html",children:"html"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<input type="file" (change)="onFileChange($event)" />\r\n@if(uploadingImageUrl){\r\n<img width="500" height="500" [src]="uploadingImageUrl" />\r\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"ts",children:"ts"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import { HttpClient } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-some',\r\n  templateUrl: './some.component.html',\r\n  styleUrls: ['./some.component.scss'],\r\n  standalone: true,\r\n  imports: [RouterModule, FormsModule, ReactiveFormsModule],\r\n})\r\nexport default class SomeComponent {\r\n  formData = new FormData();\r\n  uploadingImageUrl?: string;\r\n  constructor(private readonly httpClient: HttpClient) {}\r\n  onFileChange(event: any) {\r\n    if (!event.target) return;\r\n    const file = event.target.files[0];\r\n    if (!file) {\r\n      this.uploadingImageUrl = undefined;\r\n      return;\r\n    }\r\n    this.uploadingImageUrl = URL.createObjectURL(file);\r\n    this.formData.set('file', file);\r\n  }\r\n  submit() {\r\n    // uploadService and return the url logic or something\r\n    this.httpClient\r\n      .post('http://localhost:3000/api/v1/file', this.formData)\r\n      .subscribe({\r\n        next: (value) => {\r\n          console.log(value);\r\n        },\r\n        error: (error) => {\r\n          console.log(error);\r\n        },\r\n      });\r\n  }\r\n}\n"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},529087:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>i});var t=r(596363);const l={},o=t.createContext(l);function a(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);