"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[794668],{478802:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>i});const a=JSON.parse('{"id":"protocol/L7 http headers Cache-Control","title":"http Headers Cache-Control","description":"\ube0c\ub77c\uc6b0\uc800\uc5d0\uac8c \uce90\uc2dc\ub97c \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ud560\uc9c0 \uc9c0\uc2dc\ud558\ub294 \uc9c0\uc2dc\uc790","source":"@site/docs/protocol/L7 http headers Cache-Control.md","sourceDirName":"protocol","slug":"/protocol/L7 http headers Cache-Control","permalink":"/docs/protocol/L7 http headers Cache-Control","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"http headers Authorization","permalink":"/docs/protocol/L7 http headers Authorization"},"next":{"title":"http connection keep-alive","permalink":"/docs/protocol/L7 http headers Connection keep-alive"}}');var c=r(447259),t=r(529087);const o={},s="http Headers Cache-Control",l={},i=[{value:"Cache-Control",id:"cache-control",level:2},{value:"no-cache vs must-revalidate",id:"no-cache-vs-must-revalidate",level:2},{value:"Cache-Control (client)",id:"cache-control-client",level:2},{value:"Expires (deprecated)",id:"expires-deprecated",level:2},{value:"Pragma (deprecated)",id:"pragma-deprecated",level:2},{value:"ETag &amp; If-None-Match",id:"etag--if-none-match",level:2},{value:"Last-Modified &amp; If-Modified-Since",id:"last-modified--if-modified-since",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"http-headers-cache-control",children:"http Headers Cache-Control"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\ube0c\ub77c\uc6b0\uc800\uc5d0\uac8c \uce90\uc2dc\ub97c \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ud560\uc9c0 \uc9c0\uc2dc\ud558\ub294 \uc9c0\uc2dc\uc790"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Cache-Control, Pragma, Expires, ETag, Last-Modified \ub4f1\uc758 Cache \uad00\ub828 \ud5e4\ub354\uac00 \uc788\uc73c\uba74 \ube0c\ub77c\uc6b0\uc800\ub294 \uce90\uc2dc\ub97c \uc0ac\uc6a9\ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"cache-control",children:"Cache-Control"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"max-age # \ubc1b\uc740 \uc2dc\uac04\ubd80\ud130 \uc720\ud6a8\uc2dc\uac04 (\uc815\ud655\ud55c \uc2dc\uac04\uc744 \uc9c0\uc815\ud558\ub824\uba74 Expires\ud5e4\ub354 \uc0ac\uc6a9)\r\ns-maxage # \ud504\ub85d\uc2dc \uc11c\ubc84\uc5d0\ub9cc \uc801\uc6a9\ub418\ub294 max-age\r\n\r\n# \uc624\ub9ac\uc9c4 \uc11c\ubc84\uc758 \uac80\uc99d\uc744 \ubc1b\uace0 \uac12\uc774 \ubc14\ub00c\uc9c0 \uc54a\uc558\ub2e4\uba74 1\ub144 \uc800\uc7a5\ub418\ub294 \ud504\ub85d\uc2dc \uc11c\ubc84 \uce90\uc2dc\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\r\nCache-Control: s-maxage=31536000, max-age=0\r\n\r\nno-store # \uc808\ub300\ub85c \uc544\ubb34\uac83\ub3c4 \uce90\uc2f1\ud558\uc9c0 \uc54a\ub294\ub2e4\r\nno-cache # max-age\ub97c 0\uc73c\ub85c \uc124\uc815\ud55c\ub2e4 (\ube0c\ub77c\uc6b0\uc800\uc5d0 \uc694\uccad\uc744 \uc77c\ub2e8 \ubcf4\ub0b4\uace0 \uc11c\ubc84\uc5d0\uc11c 304\ucf54\ub4dc\ub97c \ubcf4\ub0b4\uba74 \uce90\uc2dc\ub97c \uc0ac\uc6a9\ud55c\ub2e4)\r\nmust-revalidate # \ubc18\ub4dc\uc2dc \uc624\ub9ac\uc9c4 \uc11c\ubc84\uc5d0\uc11c \uac80\uc99d\uc744 \ubc1b\ub3c4\ub85d \ud55c\ub2e4. (\ud504\ub85d\uc2dc \uc11c\ubc84\uc758 \uce90\uc2dc\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc744 \ucc28\ub2e8\ud55c\ub2e4.)\r\n                # \uc624\ub9ac\uc9c4 \uc11c\ubc84 \uc811\uadfc \uc2e4\ud328 \uc2dc \uc989\uc2dc 504 Gateway Timeout \ubc1c\uc0dd\uc2dc\ud0a8\ub2e4.\r\n                # \uae08\uc735\uc815\ubcf4\uac19\uc740 \uc911\uac04 \uce90\uc2dc\ub85c \uc778\ud574 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\ub294 \uacbd\uc6b0\uc5d0\ub294 \ubc18\ub4dc\uc2dc must-revalidate\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\r\n\r\npublic # \uacf5\uc720 \uce90\uc2dc(\ub610\ub294 \uc911\uac1c \uc11c\ubc84)\uc5d0 \uc800\uc7a5\ud574\ub3c4 \ub41c\ub2e4\ub294 \ub73b\r\nprivate # \ub9c8\uc9c0\ub9c9 \uc0ac\uc6a9\uc790 \ud658\uacbd\uc5d0\ub9cc \uc800\uc7a5\ud558\ub77c\ub294 \ub73b (\ube0c\ub77c\uc6b0\uc800)\r\n\r\n# usage\r\n# \ube0c\ub77c\uc6b0\uc800\uc5d0\ub9cc 10\ucd08\ub3d9\uc548 \uce90\uc2dc\ud558\uace0 \uc11c\ubc84\uc5d0 etag \uac80\uc99d\uc744 \ubc1b\ub3c4\ub85d \ud55c\ub2e4.\r\nCache-Control: public, max-age=10, must-revalidate\r\n\r\n###### \uadf8 \uc678 ######\r\nmin-refresh\r\nimmutable\r\nstale-while-revalidate\r\nstale-if-error\r\nno-transform\r\nonly-if-cached\n"})}),"\n",(0,c.jsx)(n.h2,{id:"no-cache-vs-must-revalidate",children:"no-cache vs must-revalidate"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"no-cache\uc640 \ube44\uc2b7\ud558\uc9c0\ub9cc '\ubc18\ub4dc\uc2dc' \uc624\ub9ac\uc9c4 \uc11c\ubc84\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub3c4\ub85d \uac15\uc81c\ud55c\ub2e4"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"no-cache\uc758 \uacbd\uc6b0 \uc624\ub9ac\uc9c4 \uc11c\ubc84\uc5d0 \ubb38\uc81c\uac00 \uc788\ub2e4\uba74 \uc0c1\ud669\uc5d0 \ub530\ub77c\uc11c \ud504\ub85d\uc2dc \uc11c\ubc84\uc758 \uce90\uc2dc\ub97c \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\ub2e4."}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\uc624\ub9ac\uc9c4 \uc11c\ubc84 \uc811\uadfc \uc2e4\ud328 \uc2dc \uc989\uc2dc 504 Gateway Timeout \ubc1c\uc0dd\uc2dc\ud0a8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"cache-control-client",children:"Cache-Control (client)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"client request header\uc5d0\uc11c cache-control\uc744 \uc0ac\uc6a9\ud558\uba74 \uc911\uac04\uc11c\ubc84, \uc624\ub9ac\uc9c4\uc11c\ubc84\uc758 \uce90\uc2dc \uc0ac\uc6a9 \ub3d9\uc791\uc744 \uc9c0\uc2dc\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\uc11c\ubc84\uac00 cache-control\uc5d0 \ub300\ud55c \ub3d9\uc791\uc744 \uc9c0\uc6d0\ud574\uc57c \ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:'// no-cache\r\n// \ube0c\ub77c\uc6b0\uc800\ub098 \uc911\uac04 \uce90\uc2dc(proxy)\uc5d0\uc11c \uc800\uc7a5\ub41c \uce90\uc2dc\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0, \ud56d\uc0c1 \uc11c\ubc84\ub85c \uc694\uccad\uc744 \ubcf4\ub0b4 \uc720\ud6a8\uc131\uc744 \ud655\uc778\ud558\ub3c4\ub85d \uc9c0\uc2dc\ud569\ub2c8\ub2e4.\r\nconst res = await fetch(url, {\r\n  cache: "no-cache",\r\n});\r\n\r\n// s-maxage\r\n// \ud504\ub85d\uc2dc \uc11c\ubc84\uc5d0\ub9cc \uc801\uc6a9\ub418\ub294 max-age\r\nconst res = await fetch(url, {\r\n  cache: "s-maxage=60",\r\n});\r\n\r\n// stale-while-revalidate\r\n// 60\ucd08\uac04 \uce90\uc2dc\ub97c \uc0ac\uc6a9\ud558\uace0, 30\ucd08\uac04 \uc11c\ubc84\uc5d0 \uc694\uccad\uc744 \ubcf4\ub0b4\uc5b4 \uce90\uc2dc\ub97c \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4.\r\nconst res = await fetch(url, {\r\n  cache: "s-maxage=60, stale-while-revalidate=30",\r\n});\r\n\r\n// stale-if-error\r\n// \uc11c\ubc84\uc5d0 \uc811\uadfc \uc2e4\ud328 \uc2dc 60\ucd08\uac04 \uce90\uc2dc\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\r\nconst res = await fetch(url, {\r\n  cache: "s-maxage=60, stale-if-error=60",\r\n});\n'})}),"\n",(0,c.jsx)(n.h2,{id:"expires-deprecated",children:"Expires (deprecated)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\uce90\uc2dc\uc758 \ub9cc\ub8cc\uc77c\uc744 \uba85\uc2dc\ud558\ub294 \ud5e4\ub354\ub85c, \uc815\ud655\ud55c \ub0a0\uc9dc\ub97c \uc9c0\uc815\ud558\uc5ec\uc57c \ud55c\ub2e4."}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"Expires: Wed, 21 Oct 2015 07:28:00 GMT\n"})}),"\n",(0,c.jsx)(n.h2,{id:"pragma-deprecated",children:"Pragma (deprecated)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"HTTP/1.0 \ud558\uc704 \ud638\ud658\uc744 \uc704\ud574 \uc0ac\uc6a9\ud558\ub294 \uce90\uc2dc \uc81c\uc5b4 \ud5e4\ub354"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Cache-Control\ub85c \ub300\uccb4\ub418\uc5c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"Pragma: no-cache\n"})}),"\n",(0,c.jsx)(n.h2,{id:"etag--if-none-match",children:"ETag & If-None-Match"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:'# response\r\nETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"\r\n# request\r\nIf-None-Match: "33a64df551425fcc55e4d42a148795d9f25f89d4"\n'})}),"\n",(0,c.jsx)(n.h2,{id:"last-modified--if-modified-since",children:"Last-Modified & If-Modified-Since"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# response\r\nLast-Modified: Wed, 21 Oct 2015 07:28:00 GMT\r\n# request\r\nIf-Modified-Since: Wed, 21 Oct 2015 07:28:00 GMT\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},529087:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>s});var a=r(596363);const c={},t=a.createContext(c);function o(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);