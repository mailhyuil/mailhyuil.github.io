"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[496063],{529087:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>a});var s=n(596363);const t={},i=s.createContext(t);function l(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:r},e.children)}},595137:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"nestjs/nest email nestmailer","title":"nest mailer nestmailer","description":"nodemailer \ub97c wrapping\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac","source":"@site/docs/nestjs/nest email nestmailer.md","sourceDirName":"nestjs","slug":"/nestjs/nest email nestmailer","permalink":"/docs/nestjs/nest email nestmailer","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nest email @react-email","permalink":"/docs/nestjs/nest email @react-email"},"next":{"title":"nestjs error handling","permalink":"/docs/nestjs/nest error handling"}}');var t=n(447259),i=n(529087);const l={},a="nest mailer nestmailer",o={},m=[{value:"install",id:"install",level:2},{value:"module",id:"module",level:2},{value:"service",id:"service",level:2}];function c(e){const r={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"nest-mailer-nestmailer",children:"nest mailer nestmailer"})}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"nodemailer \ub97c wrapping\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"smtp \uba54\uc77c \uc11c\ubc84\uac00 \ud544\uc694 (e.g. \ub124\uc774\ubc84 \uba54\uc77c \uc11c\ubc84, \uad6c\uae00 \uba54\uc77c \uc11c\ubc84)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"install",children:"install"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sh",children:"npm i @nestjs-modules/mailer nodemailer\r\nnpm i -D @types/nodemailer\n"})}),"\n",(0,t.jsx)(r.h2,{id:"module",children:"module"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:'import { Module } from "@nestjs/common";\r\nimport { EmailService } from "./email.service";\r\nimport { MailerModule } from "@nestjs-modules/mailer";\r\nimport { EjsAdapter } from "@nestjs-modules/mailer/dist/adapters/ejs.adapter";\r\n\r\n@Module({\r\n  imports: [\r\n    MailerModule.forRootAsync({\r\n      useFactory: () => ({\r\n        defaults: {\r\n          from: "mailhyuil <mailhyuil@gmail.com>",\r\n        },\r\n        transport: {\r\n          host: "smtp.naver.com", /// mail server \uc8fc\uc18c\r\n          port: 587, /// mail server port\r\n          secure: false, /// ssl\r\n          auth: {\r\n            user: "mailhyuil", /// mail server \uc544\uc774\ub514\r\n            pass: "1234", /// mail server \ube44\ubc00\ubc88\ud638\r\n          },\r\n        },\r\n        template: {\r\n          dir: "",\r\n          adapter: new EjsAdapter(), // ejs template engine \uc0ac\uc6a9\r\n          options: {\r\n            strict: true,\r\n          },\r\n        },\r\n      }),\r\n    }),\r\n  ],\r\n  providers: [EmailService],\r\n})\r\nexport class EmailModule {}\n'})}),"\n",(0,t.jsx)(r.h2,{id:"service",children:"service"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:'import { Injectable } from "@nestjs/common";\r\nimport { MailerService } from "@nestjs-modules/mailer";\r\n\r\n@Injectable()\r\nexport class EmailService {\r\n  constructor(private readonly mailerService: MailerService) {}\r\n  sendEmail(email: string): string {\r\n    this.mailerService.sendMail({\r\n      to: email,\r\n      subject: "\uc548\ub155\ud558\uc138\uc694 \uc81c\ubaa9\uc785\ub2c8\ub2e4.",\r\n      template: "\uc548\ub155\ud558\uc138\uc694 \ub0b4\uc6a9\uc785\ub2c8\ub2e4.",\r\n      context: {\r\n        data: "data",\r\n      },\r\n    });\r\n  }\r\n}\n'})})]})}function d(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);