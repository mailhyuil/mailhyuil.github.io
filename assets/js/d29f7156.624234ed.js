"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[41501],{529087:(r,e,n)=>{n.d(e,{R:()=>t,x:()=>i});var o=n(596363);const d={},a=o.createContext(d);function t(r){const e=o.useContext(a);return o.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function i(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(d):r.components||d:t(r.components),o.createElement(a.Provider,{value:e},r.children)}},772112:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>x,frontMatter:()=>t,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"nginx/nginx X-Forwarded-For Original IP - $remote_addr, $proxy_add_x_forwarded_for","title":"nginx ip X-Forwarded-For","description":"app \uc124\uc815","source":"@site/docs/nginx/nginx X-Forwarded-For Original IP - $remote_addr, $proxy_add_x_forwarded_for.md","sourceDirName":"nginx","slug":"/nginx/nginx X-Forwarded-For Original IP - $remote_addr, $proxy_add_x_forwarded_for","permalink":"/docs/nginx/nginx X-Forwarded-For Original IP - $remote_addr, $proxy_add_x_forwarded_for","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx WAF ModeSecurity","permalink":"/docs/nginx/nginx WAF ModeSecurity"},"next":{"title":"nginx x-forwarded-ip gateway \uc0ac\uc6a9 \uc2dc","permalink":"/docs/nginx/nginx X-Forwarded-For gateway \uc0ac\uc6a9 \uc2dc"}}');var d=n(447259),a=n(529087);const t={},i="nginx ip X-Forwarded-For",s={},c=[{value:"app \uc124\uc815",id:"app-\uc124\uc815",level:2}];function p(r){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...r.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"nginx-ip-x-forwarded-for",children:"nginx ip X-Forwarded-For"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-conf",children:"# client\uc5d0\uc11c x-forwarded-for header\uc5d0 ip\ub97c \ub123\uc9c0 \uc54a\uc558\uc744 \uacbd\uc6b0\r\nproxy_set_header  X-Forwarded-For $remote_addr;\r\n\r\n# client\uc5d0\uc11c x-forwarded-for header\uc5d0 ip\ub97c \ub123\uc5c8\uc744 \uacbd\uc6b0 (\ub85c\ub4dc\ubc38\ub7f0\uc11c\ub97c \ud55c\ubc88 \uac70\ucce4\uc744 \uacbd\uc6b0)\r\nproxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;\n"})}),"\n",(0,d.jsx)(e.h2,{id:"app-\uc124\uc815",children:"app \uc124\uc815"}),"\n",(0,d.jsxs)(e.blockquote,{children:["\n",(0,d.jsx)(e.p,{children:"express app\uc5d0\uc11c \ud504\ub85d\uc2dc \uc11c\ubc84\uc758 ip\ub97c \uc2e0\ub8b0\ud558\ub3c4\ub85d \uc124\uc815\ud574\uc57c\ud55c\ub2e4."}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-ts",children:'app.set("trust proxy", true);\n'})})]})}function x(r={}){const{wrapper:e}={...(0,a.R)(),...r.components};return e?(0,d.jsx)(e,{...r,children:(0,d.jsx)(p,{...r})}):p(r)}}}]);