"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[378544],{529087:(n,e,a)=>{a.d(e,{R:()=>t,x:()=>r});var l=a(596363);const i={},s=l.createContext(i);function t(n){const e=l.useContext(s);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),l.createElement(s.Provider,{value:e},n.children)}},967923:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"linux/linux package fail2ban","title":"linux package fail2ban","description":"\uc11c\ube44\uc2a4\uc758 \ub85c\uadf8 \ud30c\uc77c\uc744 \uc77d\uc5b4, \ud2b9\uc815 IP\uc5d0\uc11c \uc815\ud574\uc9c4 \uc2dc\uac04(findtime) \ub3d9\uc548 \uc815\ud574\uc9c4 \ud69f\uc218(maxretry)\ub97c \ucd08\uacfc\ud558\uc5ec \uc811\uc18d\uc5d0 \uc2e4\ud328\ud588\ub2e4\uba74","source":"@site/docs/linux/linux package fail2ban.md","sourceDirName":"linux","slug":"/linux/linux package fail2ban","permalink":"/docs/linux/linux package fail2ban","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"curl","permalink":"/docs/linux/linux package curl"},"next":{"title":"ftp","permalink":"/docs/linux/linux package ftp"}}');var i=a(447259),s=a(529087);const t={},r="linux package fail2ban",c={},o=[{value:"install",id:"install",level:2},{value:"usage",id:"usage",level:2},{value:"sshd",id:"sshd",level:2}];function u(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"linux-package-fail2ban",children:"linux package fail2ban"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\uc11c\ube44\uc2a4\uc758 \ub85c\uadf8 \ud30c\uc77c\uc744 \uc77d\uc5b4, \ud2b9\uc815 IP\uc5d0\uc11c \uc815\ud574\uc9c4 \uc2dc\uac04(findtime) \ub3d9\uc548 \uc815\ud574\uc9c4 \ud69f\uc218(maxretry)\ub97c \ucd08\uacfc\ud558\uc5ec \uc811\uc18d\uc5d0 \uc2e4\ud328\ud588\ub2e4\uba74"}),"\n",(0,i.jsx)(e.p,{children:"\uc815\ud574\uc9c4 \uc2dc\uac04(bantime) \ub3d9\uc548 \uadf8 IP\ub97c \ucc28\ub2e8\ud558\ub294 \uac04\ub2e8\ud55c \uc11c\ube44\uc2a4"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"ssh \uc11c\ube44\uc2a4\uc5d0 \ub300\ud574 fail2ban\uc744 \uc124\uc815\ud558\uba74 \ube44\uc815\uc0c1\uc801\uc778 ssh \uc811\uc18d\uc744 \ucc28\ub2e8\ud560 \uc218 \uc788\uace0"}),"\n",(0,i.jsx)(e.p,{children:"nginx \uc6f9 \uc11c\ubc84\uc5d0 \ub300\ud574 fail2ban\uc744 \uc124\uc815\ud558\uba74 \ube44\uc815\uc0c1\uc801\uc778 \ub85c\uadf8\uc778 \uc2dc\ub3c4 \ub4f1\uc744 \ucc28\ub2e8\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\uc124\uce58 \uc2dc \uae30\ubcf8\uc73c\ub85c well-known application\uc5d0 \ub300\ud55c \uc124\uc815\uc774 \ub418\uc5b4\uc788\uc74c (sshd, apache, nginx, ...)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"install",children:"install"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sh",children:"apt install fail2ban -y\n"})}),"\n",(0,i.jsx)(e.h2,{id:"usage",children:"usage"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sh",children:"cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local\r\n\r\n# /etc/fail2ban/jail.local \uc218\uc815\r\n\r\nsystemctl enable fail2ban --now\r\n\r\n# \ucc28\ub2e8\ub41c ip \ud655\uc778\r\nfail2ban-client status\r\n# sshd\uc5d0\uc11c \ucc28\ub2e8\ub41c ip \ud655\uc778\r\nfail2ban-client status sshd\r\n\r\n# \ucc28\ub2e8 \ud574\uc81c\r\nsudo fail2ban-client set sshd unbanip <IP\uc8fc\uc18c>\n"})}),"\n",(0,i.jsx)(e.h2,{id:"sshd",children:"sshd"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ini",children:"[sshd]\r\nenabled = true\r\nport = 22\r\nfilter = sshd\r\nlogpath = /var/log/auth.log   # Ubuntu/Debian\r\n# logpath = /var/log/secure    # CentOS/RHEL\r\nmaxretry = 5  # 5\ud68c \uc2e4\ud328 \uc2dc \ucc28\ub2e8\r\nbantime = 600 # 10\ubd84 \ucc28\ub2e8 (\ucd08 \ub2e8\uc704)\r\nfindtime = 300 # 5\ubd84 \ub3d9\uc548 maxretry \uc774\uc0c1 \uc2e4\ud328 \uc2dc \ucc28\ub2e8\n"})})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}}}]);