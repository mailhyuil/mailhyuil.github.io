"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[487392],{440854:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"frontend/webapi WebRTC - Real Time Communication","title":"webapi WebRTC (Real Time Communication)","description":"Nestjs\ub85c Signaling Server\ub97c \uad6c\ud604","source":"@site/docs/frontend/webapi WebRTC - Real Time Communication.md","sourceDirName":"frontend","slug":"/frontend/webapi WebRTC - Real Time Communication","permalink":"/docs/frontend/webapi WebRTC - Real Time Communication","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"webapi WebAuthn (Web Authentication API) (FIDO2 = Fast IDentity Online)","permalink":"/docs/frontend/webapi WebAuthn - FIDO2 - passwordless"},"next":{"title":"webapi XMLHttpRequest Post method redirected to https","permalink":"/docs/frontend/webapi XMLHttpRequest POST method redirected to https"}}');var s=i(447259),r=i(529087);const l={},o="webapi WebRTC (Real Time Communication)",c={},a=[{value:"SDP (Session Description Protocol)",id:"sdp-session-description-protocol",level:2},{value:"ICE (Interactive Connectivity Establishment)",id:"ice-interactive-connectivity-establishment",level:2},{value:"STUN (Session Traversal Utilities for NAT)",id:"stun-session-traversal-utilities-for-nat",level:2},{value:"TURN (Traversal Using Relays around NAT)",id:"turn-traversal-using-relays-around-nat",level:2},{value:"RTCPeerConnection",id:"rtcpeerconnection",level:2},{value:"RTCDataChannel",id:"rtcdatachannel",level:2},{value:"ICE (Interactive Connectivity Establishment)",id:"ice-interactive-connectivity-establishment-1",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"webapi-webrtc-real-time-communication",children:"webapi WebRTC (Real Time Communication)"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Nestjs\ub85c Signaling Server\ub97c \uad6c\ud604"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"sdp-session-description-protocol",children:"SDP (Session Description Protocol)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"peerConnection.localDescription"}),"\n",(0,s.jsx)(n.li,{children:"\ubbf8\ub514\uc5b4 \uc138\uc158\uc744 \uc124\uba85\ud558\ub294 \ud504\ub85c\ud1a0\ucf5c"}),"\n",(0,s.jsx)(n.li,{children:"\ubbf8\ub514\uc5b4 \uc720\ud615, \ud3ec\ud2b8, \ucf54\ub371, \ud574\uc0c1\ub3c4 \ub4f1\uc758 \uc815\ubcf4\ub97c \ud3ec\ud568"}),"\n",(0,s.jsx)(n.li,{children:"WebRTC\uc5d0\uc11c\ub294 SDP\ub97c \ud1b5\ud574 \ubbf8\ub514\uc5b4 \uc815\ubcf4\ub97c \uad50\ud658"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"ice-interactive-connectivity-establishment",children:"ICE (Interactive Connectivity Establishment)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'"WebRTC \uc5f0\uacb0\uc744 \uc124\uc815\ud558\ub294 \uc804\uccb4 \uacfc\uc815"\uc744 \ub2f4\ub2f9\ud558\ub294 \ud504\ub85c\ud1a0\ucf5c'}),"\n",(0,s.jsx)(n.li,{children:"P2P \uc5f0\uacb0\uc744 \uc704\ud55c \ucd5c\uc801\uc758 \ub124\ud2b8\uc6cc\ud06c \uacbd\ub85c\ub97c \ud0d0\uc0c9"}),"\n",(0,s.jsx)(n.li,{children:"ice-candidate\ub780 \ub124\ud2b8\uc6cc\ud06c \uc815\ubcf4(ip, port)\ub97c \uad50\ud658\ud558\ub294 \uac83 (\uc9c1\uc811\uad50\ud658, STUN\uc744 \ud1b5\ud55c \uad50\ud658, TURN\uc744 \ud1b5\ud55c \uad50\ud658)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"stun-session-traversal-utilities-for-nat",children:"STUN (Session Traversal Utilities for NAT)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"NAT \ub4a4\uc5d0 \uc788\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8\uc758 \uacf5\uc6a9 IP \uc8fc\uc18c\ub97c \ucc3e\uc544\uc11c \ubc18\ud658\ud574\uc8fc\ub294 \uc11c\ubc84"}),"\n",(0,s.jsx)(n.li,{children:"NAT \ud658\uacbd\uc5d0\uc11c \uacf5\uc6a9 IP\ub97c \ucc3e\uc544 P2P \uc5f0\uacb0\uc744 \uac00\ub2a5\ud558\uac8c \ud574\uc90c"}),"\n",(0,s.jsx)(n.li,{children:"[Peer A - \uc0ac\uc124 IP] \u2192 (STUN \uc11c\ubc84) \u2192 [Peer B - \uc0ac\uc124 IP]"}),"\n",(0,s.jsx)(n.li,{children:"\ubb34\ub8cc \uc11c\ube44\uc2a4\uac00 \ub9ce\ub2e4 (\uc9c1\uc811 \uad6c\ucd95\ud560 \uc218\ub3c4 \uc788\uc74c)"}),"\n",(0,s.jsxs)(n.li,{children:["google STUN \uc11c\ubc84: stun",":stun",".l.google.com:19302"]}),"\n",(0,s.jsxs)(n.li,{children:["twilio STUN \uc11c\ubc84: stun",":global",".stun.twilio.com"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"turn-traversal-using-relays-around-nat",children:"TURN (Traversal Using Relays around NAT)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ubc29\ud654\ubcbd\uc73c\ub85c \uc778\ud574 P2P \uc5f0\uacb0\uc774 \ubd88\uac00\ub2a5\ud560 \ub54c \uc0ac\uc6a9\ud558\ub294 \uc11c\ubc84"}),"\n",(0,s.jsx)(n.li,{children:"P2P \uc5f0\uacb0\uc774 \ubd88\uac00\ub2a5\ud560 \ub54c, TURN \uc11c\ubc84\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \uc804\ub2ec"}),"\n",(0,s.jsx)(n.li,{children:"[Peer A] \u2192 (TURN \uc11c\ubc84 \uc911\uacc4) \u2192 [Peer B]"}),"\n",(0,s.jsx)(n.li,{children:"twilio, xirsys \ub4f1\uc744 \uc0ac\uc6a9 (\ub300\ubd80\ubd84 \uc720\ub8cc)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"rtcpeerconnection",children:"RTCPeerConnection"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"P2P \uc5f0\uacb0\uc744 \uc124\uc815\ud558\ub294 \uac1d\uccb4"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\uc624\ub514\uc624/\ube44\ub514\uc624 \uc2a4\ud2b8\ub9ac\ubc0d, \ub370\uc774\ud130 \uc804\uc1a1\uc744 \ub2f4\ub2f9"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ub124\ud2b8\uc6cc\ud06c \uc0c1\ud0dc \uac10\uc9c0, \ub300\uc5ed\ud3ed \uc870\uc815 \ub4f1\ub3c4 \uc9c0\uc6d0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const peerConnection = new RTCPeerConnection();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"rtcdatachannel",children:"RTCDataChannel"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"WebSocket \uc5c6\uc774\ub3c4 \ube0c\ub77c\uc6b0\uc800 \uac04 \ub370\uc774\ud130 \uc804\uc1a1 \uac00\ub2a5"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"WebRTC \uc5f0\uacb0 \uc2dc \uc0ac\uc6a9 \uac00\ub2a5"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const dataChannel = peerConnection.createDataChannel("chat");\r\n\r\ndataChannel.onopen = () => {\r\n  dataChannel.send("Hello, WebRTC!");\r\n};\r\n\r\ndataChannel.onmessage = event => {\r\n  console.log("\ubc1b\uc740 \uba54\uc2dc\uc9c0:", event.data);\r\n};\n'})}),"\n",(0,s.jsx)(n.h2,{id:"ice-interactive-connectivity-establishment-1",children:"ICE (Interactive Connectivity Establishment)"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"P2P \uc5f0\uacb0\uc744 \uc704\ud55c \ub124\ud2b8\uc6cc\ud06c \uc815\ubcf4(ip, port) \uad50\ud658"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"NAT \ud658\uacbd\uc5d0\uc11c\ub3c4 \uc5f0\uacb0\uc774 \uac00\ub2a5\ud558\ub3c4\ub85d STUN, TURN \uc11c\ubc84\ub97c \uc0ac\uc6a9"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const peerConnection = new RTCPeerConnection({\r\n  iceServers: [{ urls: "stun:stun.l.google.com:19302" }],\r\n});\r\n\r\npeerConnection.onicecandidate = event => {\r\n  if (event.candidate) {\r\n    console.log("ICE \ud6c4\ubcf4:", event.candidate);\r\n    // candidate\ub97c signal server\ub85c \uc804\uc1a1\r\n  }\r\n};\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},529087:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(596363);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);