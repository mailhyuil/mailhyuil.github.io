"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["442927"],{524709:function(r,e,n){n.r(e),n.d(e,{frontMatter:()=>o,toc:()=>l,default:()=>c,metadata:()=>t,assets:()=>a,contentTitle:()=>g});var t=JSON.parse('{"id":"logging & monitoring & profiling & tracing/base log field","title":"base log field","description":"log.type.ts","source":"@site/docs/logging & monitoring & profiling & tracing/base log field.md","sourceDirName":"logging & monitoring & profiling & tracing","slug":"/logging & monitoring & profiling & tracing/base log field","permalink":"/docs/logging & monitoring & profiling & tracing/base log field","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"logging architecture","permalink":"/docs/logging & monitoring & profiling & tracing/base log architecture"},"next":{"title":"logging format","permalink":"/docs/logging & monitoring & profiling & tracing/base log format"}}'),s=n(447259),i=n(255511);let o={},g="base log field",a={},l=[{value:"log.type.ts",id:"logtypets",level:2}];function u(r){let e={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,i.R)(),...r.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"base-log-field",children:"base log field"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-txt",children:"# \uACF5\uD1B5\r\nlevel\r\nmessage\r\ntimestamp\r\n...\r\n\r\n# http \uAD00\uB828\r\nclient_ip\r\nuser_agent\r\nrequest_method\r\nrequest_uri\r\nrequest_body\r\nrequest_header\r\nrequest_query\r\nresponse_status\r\nresponse_body\r\nresponse_time\r\n...\r\n\r\n# error & debug\r\nerror_message\r\nstack_trace\r\nerror_code\r\nmodule_name\r\n...\r\n\r\n# user \uAD00\uB828\r\nuser_id\r\nuser_role\r\nauth_method (jwt, oauth, api key)\r\n...\r\n\r\n# microservice \uAD00\uB828\r\ntrace_id\r\nspan_id\r\nparent_span_id\r\nservice_name\r\nservice_version\r\n...\r\n\r\n# \uC2DC\uC2A4\uD15C \uD658\uACBD\r\nhost_ip\r\nhostname\r\nenv\r\nmemory_usage\r\ncpu_usage\r\n...\n"})}),"\n",(0,s.jsx)(e.h2,{id:"logtypets",children:"log.type.ts"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"export type BASE_LOG = {\r\n  appType: string | string[];\r\n  service?: string;\r\n};\r\n\r\nexport type INFO_LOG = BASE_LOG & {\r\n  clientIp: string;\r\n  userAgent: string;\r\n  requestMethod: string;\r\n  requestUrl: string;\r\n  responseStatusCode: number;\r\n  requestQuery?: string;\r\n  requestBody?: string;\r\n  requestParams?: string;\r\n  responseTime?: number;\r\n};\r\n\r\nexport type WARN_LOG = BASE_LOG & {\r\n  userId: string;\r\n  userRole?: string | string[];\r\n  authMethod?: string;\r\n\r\n  clientIp: string;\r\n  userAgent: string;\r\n  requestMethod: string;\r\n  requestUrl: string;\r\n  responseStatusCode: number;\r\n  requestQuery?: string;\r\n  requestBody?: string;\r\n  requestParams?: string;\r\n  responseTime?: number;\r\n};\r\n\r\nexport type ERROR_LOG = BASE_LOG & {\r\n  errorMessage: string;\r\n  errorStack: string;\r\n  errorCode: string;\r\n  cause: string;\r\n  clientIp?: string;\r\n  userAgent?: string;\r\n  requestMethod?: string;\r\n  requestUrl?: string;\r\n  responseStatusCode?: number;\r\n  requestQuery?: string;\r\n  requestBody?: string;\r\n  requestParams?: string;\r\n  responseTime?: number;\r\n};\n"})})]})}function c(r={}){let{wrapper:e}={...(0,i.R)(),...r.components};return e?(0,s.jsx)(e,{...r,children:(0,s.jsx)(u,{...r})}):u(r)}},255511:function(r,e,n){n.d(e,{R:()=>o,x:()=>g});var t=n(596363);let s={},i=t.createContext(s);function o(r){let e=t.useContext(i);return t.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function g(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(s):r.components||s:o(r.components),t.createElement(i.Provider,{value:e},r.children)}}}]);