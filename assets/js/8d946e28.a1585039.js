"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["691666"],{539236:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>s,toc:()=>a,default:()=>u,metadata:()=>t,assets:()=>l,contentTitle:()=>i});var t=JSON.parse('{"id":"go/go base goroutine select","title":"go base conditional select","description":"goroutine\uC5D0\uC11C \uC8FC\uB85C \uC0AC\uC6A9\uD558\uB294 \uBD84\uAE30\uBB38","source":"@site/docs/go/go base goroutine select.md","sourceDirName":"go","slug":"/go/go base goroutine select","permalink":"/docs/go/go base goroutine select","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"go package errgroup","permalink":"/docs/go/go base goroutine errgroup"},"next":{"title":"go package sync","permalink":"/docs/go/go base goroutine sync"}}'),o=r(447259),c=r(255511);let s={},i="go base conditional select",l={},a=[{value:"timeout pattern",id:"timeout-pattern",level:2},{value:"done channel pattern",id:"done-channel-pattern",level:2}];function d(n){let e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,c.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"go-base-conditional-select",children:"go base conditional select"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"goroutine\uC5D0\uC11C \uC8FC\uB85C \uC0AC\uC6A9\uD558\uB294 \uBD84\uAE30\uBB38"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:'Go\uC758 \uCC44\uB110(Channel)\uC5D0\uC11C \uBC1C\uC0DD\uD558\uB294 \uC5EC\uB7EC I/O \uC911, \uC900\uBE44\uB41C(ready) \uC791\uC5C5 \uD558\uB098\uB97C "\uB79C\uB364\uD558\uAC8C" \uC120\uD0DD\uD574\uC11C \uC2E4\uD589\uD558\uB294 \uC81C\uC5B4\uBB38'}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'select {\r\ncase msg := <-ch1:\r\n    fmt.Println("ch1\uC5D0\uC11C \uBC1B\uC740 \uAC12:", msg)\r\n\r\ncase ch2 <- "ping":\r\n    fmt.Println("ch2\uB85C \uAC12 \uBCF4\uB0C4")\r\n\r\ndefault:\r\n    fmt.Println("\uC544\uBB34\uAC83\uB3C4 \uC900\uBE44 \uC548 \uB428")\r\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"timeout-pattern",children:"timeout pattern"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"2\uCD08 \uC548\uC5D0 \uBA54\uC138\uC9C0\uAC00 \uC548\uC624\uBA74 \uD0C0\uC784\uC544\uC6C3 \uCC98\uB9AC"}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'select {\r\ncase msg := <-ch:\r\n    fmt.Println("\uBC1B\uC740 \uAC12:", msg)\r\ncase <-time.After(2 * time.Second):\r\n    fmt.Println("\uD0C0\uC784\uC544\uC6C3!")\r\n    return\r\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"done-channel-pattern",children:"done channel pattern"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"\uC9C0\uC18D\uC801\uC73C\uB85C \uCC44\uB110\uC744 \uBAA8\uB2C8\uD130\uB9C1\uD558\uB294 \uACBD\uC6B0"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"for \uB0B4\uBD80\uC5D0\uC11C \uC870\uAC74\uC744 \uC0AC\uC6A9\uD574 break\uC744 \uAC78\uC5B4\uC918\uC57C \uD568"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.p,{children:["done \uCC44\uB110\uC744 \uC0AC\uC6A9\uD574 struct","\uB97C \uBCF4\uB0B4\uBA74 \uC885\uB8CC\uB428"]}),"\n",(0,o.jsxs)(e.p,{children:["struct\uB97C \uC0AC\uC6A9\uD558\uB294 \uC774\uC720\uB294 struct","\uB294 \uD06C\uAE30\uAC00 0\uC784, \uC544\uBB34\uAC83\uB3C4 \uC5C6\uB2E4\uACE0 \uD310\uB2E8\uD568"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'package main\r\n\r\nimport (\r\n	"fmt"\r\n	"time"\r\n)\r\n\r\nfunc main() {\r\n	ch := make(chan string) // \uBA54\uC2DC\uC9C0 \uCC44\uB110\r\n	done := make(chan struct{}) // \uC885\uB8CC \uC2E0\uD638 \uCC44\uB110\r\n\r\n	// \uBA54\uC2DC\uC9C0\uB97C \uBCF4\uB0B4\uB294 goroutine\r\n	go func() {\r\n		for i := 1; i <= 5; i++ {\r\n			ch <- fmt.Sprintf("\uBA54\uC2DC\uC9C0 %d", i)\r\n			time.Sleep(500 * time.Millisecond)\r\n		}\r\n		// \uBA54\uC2DC\uC9C0 \uB2E4 \uBCF4\uB0C8\uC73C\uBA74 done\uC5D0 \uC2E0\uD638 \uBCF4\uB0C4\r\n		done <- struct{}{}\r\n	}()\r\n\r\n	// \uBA54\uC2DC\uC9C0\uB97C \uBC1B\uB294 \uCABD\r\n	for {\r\n		select {\r\n		case msg := <-ch:\r\n			fmt.Println("\uAC12\uC744 \uBC1B\uC74C:", msg)\r\n		case <-done:\r\n			fmt.Println("\uB354 \uC774\uC0C1 \uAC12\uC774 \uC5C6\uC744 \uB54C\uAE4C\uC9C0 \uB300\uAE30")\r\n			return\r\n		}\r\n	}\r\n}\n'})})]})}function u(n={}){let{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},255511:function(n,e,r){r.d(e,{R:()=>s,x:()=>i});var t=r(596363);let o={},c=t.createContext(o);function s(n){let e=t.useContext(c);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),t.createElement(c.Provider,{value:e},n.children)}}}]);