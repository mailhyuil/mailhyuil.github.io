"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[908958],{529087:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var t=s(596363);const r={},o=t.createContext(r);function a(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},796517:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>i,frontMatter:()=>a,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"nodejs/pm2 cluster auto scaling","title":"pm2 auto scaling","description":"cpu \uc0ac\uc6a9\ub7c9\uc5d0 \ub530\ub77c pm2 \ud074\ub7ec\uc2a4\ud130\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc790\ub3d9\uc73c\ub85c \uc870\uc815\ud558\ub294 \ubc29\ubc95","source":"@site/docs/nodejs/pm2 cluster auto scaling.md","sourceDirName":"nodejs","slug":"/nodejs/pm2 cluster auto scaling","permalink":"/docs/nodejs/pm2 cluster auto scaling","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"pm2 save (auto restart)","permalink":"/docs/nodejs/pm2 auto restart on system boot - save & startup & resurrect"},"next":{"title":"nodejs pm2 cluster","permalink":"/docs/nodejs/pm2 cluster"}}');var r=s(447259),o=s(529087);const a={},c="pm2 auto scaling",l={},p=[{value:"ecosystem.config.js",id:"ecosystemconfigjs",level:2}];function u(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"pm2-auto-scaling",children:"pm2 auto scaling"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"cpu \uc0ac\uc6a9\ub7c9\uc5d0 \ub530\ub77c pm2 \ud074\ub7ec\uc2a4\ud130\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc790\ub3d9\uc73c\ub85c \uc870\uc815\ud558\ub294 \ubc29\ubc95"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ub2e8\uc77c \uc11c\ubc84\uc5d0\uc11c \uc2e4\ud589\ud560 \uac83\uc774\uae30 \ub54c\ubb38\uc5d0 memory \uc0ac\uc6a9\ub7c9 \uc635\uc158\uc740 \uc5c6\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"pm2 install pm2-autoscale\r\n\r\npm2 set pm2-autoscale:debug true\r\npm2 set pm2-autoscale:scale_cpu_threshold 50\r\npm2 set pm2-autoscale:ignore_apps app1,app2\n"})}),"\n",(0,r.jsx)(n.h2,{id:"ecosystemconfigjs",children:"ecosystem.config.js"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\r\n    "apps": [\r\n        {\r\n            "name": "testapp",\r\n            "script": "build/app.js",\r\n            "instances": "4",\r\n            "autorestart": true,\r\n            "watch": false,\r\n            "max_memory_restart": "1024M",\r\n            "vizion": false,\r\n            "exec_mode": "cluster",\r\n            "env": {\r\n                "pm2_autoscale": {\r\n                    "is_enabled": true,\r\n                    "scale_cpu_threshold": 95,\r\n                    "release_cpu_threshold": 50,\r\n                    "max_workers": 5\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}\n'})})]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);