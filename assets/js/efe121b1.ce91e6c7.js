"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["138001"],{266668:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>s,toc:()=>c,default:()=>h,metadata:()=>a,assets:()=>o,contentTitle:()=>l});var a=JSON.parse('{"id":"nginx/nginx load balancing","title":"nginx load balancing","description":"upstream \uC0DD\uC131","source":"@site/docs/nginx/nginx load balancing.md","sourceDirName":"nginx","slug":"/nginx/nginx load balancing","permalink":"/docs/nginx/nginx load balancing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx load balancing","permalink":"/docs/nginx/nginx load balancing sticky session"},"next":{"title":"nginx module (built-in)","permalink":"/docs/nginx/nginx module built-in"}}'),t=r(447259),i=r(255511);let s={},l="nginx load balancing",o={},c=[{value:"\uBD80\uD558 \uBD84\uC0B0 \uADDC\uCE59",id:"\uBD80\uD558-\uBD84\uC0B0-\uADDC\uCE59",level:2},{value:"parameter",id:"parameter",level:2}];function d(n){let e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"nginx-load-balancing",children:"nginx load balancing"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"upstream \uC0DD\uC131"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"proxy_pass\uC744 upstream\uC73C\uB85C \uC124\uC815"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-conf",children:"upstream backend {\r\n    # \uBD80\uD558 \uBD84\uC0B0 \uADDC\uCE59 \uC9C0\uC815\r\n    random; # random\r\n\r\n    server localhost:8080 weight=1; # \uD30C\uB77C\uBBF8\uD130\uB97C \uC904 \uC218 \uC788\uB2E4\r\n    server localhost:8081;\r\n}\r\nserver {\r\n    server_name  localhost;\r\n\r\n    listen       80; # e.g. listen 8080;\r\n    listen  [::]:80;\r\n\r\n    location / {\r\n        proxy_pass http://backend;\r\n    }\r\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\uBD80\uD558-\uBD84\uC0B0-\uADDC\uCE59",children:"\uBD80\uD558 \uBD84\uC0B0 \uADDC\uCE59"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-txt",children:"round-robin(\uB514\uD3F4\uD2B8) - \uADF8\uB0E5 \uB3CC\uC544\uAC00\uBA74\uC11C \uBD84\uBC30\uD55C\uB2E4.\r\n\r\nrandom - \uADF8\uB0E5 \uB79C\uB364\uC73C\uB85C \uBD84\uBC30\uD55C\uB2E4.\r\n\r\nleast_conn - \uC5F0\uACB0\uC218\uAC00 \uAC00\uC7A5 \uC801\uC740 \uC11C\uBC84\uB97C \uC120\uD0DD\uD574\uC11C \uBD84\uBC30, \uADFC\uB370 \uAC00\uC911\uCE58\uB97C \uACE0\uB824\uD568\r\n\r\nleast_time - \uC5F0\uACB0\uC218\uAC00 \uAC00\uC790 \uC801\uC73C\uBA74\uC11C \uD3C9\uADE0 \uC751\uB2F5\uC2DC\uAC04\uC774 \uAC00\uC7A5 \uC801\uC740 \uCABD\uC744 \uC120\uD0DD\uD574\uC11C \uBD84\uBC30\r\n\r\n# hash\uC640 ip_hash\uB294 sticky session\uC744 \uAD6C\uD604\uD560\uB54C \uC0AC\uC6A9\uD55C\uB2E4.\r\nhash - \uD574\uC2DC\uD55C \uAC12\uC73C\uB85C \uBD84\uBC30\uD55C\uB2E4 \uC4F0\uB824\uBA74 hash <\uD0A4> \uD615\uD0DC\uB85C \uC4F4\uB2E4. (e.g. hash $remote_addr <- \uC774\uB294 ip_hash\uC640 \uAC19\uB2E4.)\r\n\r\nip_hash - \uC544\uC774\uD53C\uB85C \uD574\uC2F1\uD574\uC11C \uBD84\uBC30\uD55C\uB2E4.\r\n\r\nsticky - \uCFE0\uD0A4\uB85C \uBD84\uBC30\uD55C\uB2E4. (3rd-party \uBAA8\uB4C8 \uB610\uB294 NGINX Plus \uC608\uC2DC)\n"})}),"\n",(0,t.jsx)(e.h2,{id:"parameter",children:"parameter"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-txt",children:"weight - \uAC00\uC911\uCE58\uB97C \uB46C\uC11C \uB354\uB9CE\uC774 \uAC00\uAC8C \uD55C\uB2E4.\r\n\r\nmax_conns - \uCD5C\uB300 \uC5F0\uACB0 \uD55C\uACC4\uB97C \uC815\uD55C\uB2E4\r\n\r\nmax_fails - \uCD5C\uB300 \uC2E4\uD328 \uD55C\uACC4\uB97C \uC815\uD55C\uB2E4. \uCD5C\uB300 \uC2E4\uD328\uD69F\uC218\uC5D0 \uB3C4\uB2EC\uD558\uBA74 \uC11C\uBC84\uAC00 \uC8FD\uC740\uAC83\uC73C\uB85C \uAC04\uC8FC\uD55C\uB2E4.\r\n\r\nfail_timeout - \uC2DC\uAC04\uC744 \uC815\uD55C\uB2E4. \uC774 \uC2DC\uAC04\uC744 \uB118\uC5B4\uC11C\uB3C4 \uC751\uB2F5\uD558\uC9C0 \uC54A\uC73C\uBA74 \uC11C\uBC84\uAC00 \uC8FD\uC740\uAC83\uC73C\uB85C \uAC04\uC8FC\uD55C\uB2E4.\r\n\r\nbackup - \uC774 \uC11C\uBC84\uB294 \uBC31\uC5C5\uC11C\uBC84\uB85C \uAC04\uC8FC\uD558\uACE0 \uB2E4\uB978 \uBA54\uC778 \uC11C\uBC84\uAC00 \uC8FD\uC5C8\uC744\uB54C \uB3D9\uC791\uD55C\uB2E4. load balancing methods\uAC00 hash\uB098 random\uC77C\uB54C\uB294 \uBB34\uC758\uBBF8\r\n\r\ndown - \uD45C\uC2DC\uD55C \uC11C\uBC84\uB294 \uC0AC\uC6A9\uCE58 \uC54A\uB294\uB2E4.\n"})})]})}function h(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},255511:function(n,e,r){r.d(e,{R:()=>s,x:()=>l});var a=r(596363);let t={},i=a.createContext(t);function s(n){let e=a.useContext(i);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),a.createElement(i.Provider,{value:e},n.children)}}}]);