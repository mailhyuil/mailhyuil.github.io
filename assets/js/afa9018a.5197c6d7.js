"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["125893"],{196008:function(e,r,n){n.r(r),n.d(r,{frontMatter:()=>i,toc:()=>d,default:()=>l,metadata:()=>t,assets:()=>p,contentTitle:()=>c});var t=JSON.parse('{"id":"db-prisma/prisma script \uC791\uC131\uD558\uB294 \uBC95","title":"prisma script \uC791\uC131\uD558\uB294 \uBC95","description":"update.ts","source":"@site/docs/db-prisma/prisma script \uC791\uC131\uD558\uB294 \uBC95.md","sourceDirName":"db-prisma","slug":"/db-prisma/prisma script \uC791\uC131\uD558\uB294 \uBC95","permalink":"/docs/db-prisma/prisma script \uC791\uC131\uD558\uB294 \uBC95","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"prisma script seeding","permalink":"/docs/db-prisma/prisma script seeding"},"next":{"title":"prisma select with operating","permalink":"/docs/db-prisma/prisma select with operating"}}'),s=n(447259),a=n(255511);let i={},c="prisma script \uC791\uC131\uD558\uB294 \uBC95",p={},d=[{value:"update.ts",id:"updatets",level:2},{value:"\uC2E4\uD589",id:"\uC2E4\uD589",level:2}];function o(e){let r={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"prisma-script-\uC791\uC131\uD558\uB294-\uBC95",children:"prisma script \uC791\uC131\uD558\uB294 \uBC95"})}),"\n",(0,s.jsx)(r.h2,{id:"updatets",children:"update.ts"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'import { PrismaClient } from "@prisma/client";\r\nimport dayjs from "dayjs";\r\n\r\nconst prisma = new PrismaClient({\r\n  datasourceUrl: "postgresql://postgres:password@ip_address:5432/mydb?schema=public",\r\n});\r\n\r\nasync function main() {\r\n  await prisma.registration.updateMany({\r\n    where: {\r\n      status: "ACTIVE",\r\n      class: {\r\n        type: {\r\n          in: ["LIVE", "LIVE_AND_RECORDED"],\r\n        },\r\n      },\r\n    },\r\n    data: {\r\n      endedAt: dayjs().add(100, "years").toDate(),\r\n    },\r\n  });\r\n}\r\n\r\nmain()\r\n  .then(async () => {\r\n    await prisma.$disconnect();\r\n  })\r\n  .catch(async (e) => {\r\n    console.error(e);\r\n    await prisma.$disconnect();\r\n    process.exit(1);\r\n  });\n'})}),"\n",(0,s.jsx)(r.h2,{id:"\uC2E4\uD589",children:"\uC2E4\uD589"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"ts-node update.ts\n"})})]})}function l(e={}){let{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},255511:function(e,r,n){n.d(r,{R:()=>i,x:()=>c});var t=n(596363);let s={},a=t.createContext(s);function i(e){let r=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(a.Provider,{value:r},e.children)}}}]);