"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["77385"],{835241:function(n,r,e){e.r(r),e.d(r,{frontMatter:()=>p,toc:()=>c,default:()=>d,metadata:()=>t,assets:()=>o,contentTitle:()=>a});var t=JSON.parse('{"id":"spring/spring Jasypt\uB97C \uC0AC\uC6A9\uD55C \uD504\uB85C\uD37C\uD2F0 \uC554\uD638\uD654","title":"Jasypt(Java Simplified Encryption)\uB97C \uC0AC\uC6A9\uD55C \uD504\uB85C\uD37C\uD2F0 \uC554\uD638\uD654","description":"1. denpendencies","source":"@site/docs/spring/spring Jasypt\uB97C \uC0AC\uC6A9\uD55C \uD504\uB85C\uD37C\uD2F0 \uC554\uD638\uD654.md","sourceDirName":"spring","slug":"/spring/spring Jasypt\uB97C \uC0AC\uC6A9\uD55C \uD504\uB85C\uD37C\uD2F0 \uC554\uD638\uD654","permalink":"/docs/spring/spring Jasypt\uB97C \uC0AC\uC6A9\uD55C \uD504\uB85C\uD37C\uD2F0 \uC554\uD638\uD654","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"JSTL","permalink":"/docs/spring/spring JSTL"},"next":{"title":"Javamail","permalink":"/docs/spring/spring JavaMail"}}'),i=e(447259),s=e(255511);let p={},a="Jasypt(Java Simplified Encryption)\uB97C \uC0AC\uC6A9\uD55C \uD504\uB85C\uD37C\uD2F0 \uC554\uD638\uD654",o={},c=[{value:"jasypt bean\uC740 \uAC00\uC7A5 \uBA3C\uC800 \uC0DD\uC131\uB418\uC5B4\uC57C \uD55C\uB2E4. (web.xml)",id:"jasypt-bean\uC740-\uAC00\uC7A5-\uBA3C\uC800-\uC0DD\uC131\uB418\uC5B4\uC57C-\uD55C\uB2E4-webxml",level:3},{value:"gradle.build",id:"gradlebuild",level:2},{value:"application.yml",id:"applicationyml",level:2},{value:"config",id:"config",level:2},{value:"test",id:"test",level:2}];function l(n){let r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"jasyptjava-simplified-encryption\uB97C-\uC0AC\uC6A9\uD55C-\uD504\uB85C\uD37C\uD2F0-\uC554\uD638\uD654",children:"Jasypt(Java Simplified Encryption)\uB97C \uC0AC\uC6A9\uD55C \uD504\uB85C\uD37C\uD2F0 \uC554\uD638\uD654"})}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"denpendencies"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:"\x3c!-- https://mvnrepository.com/artifact/org.jasypt/jasypt --\x3e\r\n<dependency>\r\n	<groupId>org.jasypt</groupId>\r\n	<artifactId>jasypt</artifactId>\r\n	<version>1.9.3</version>\r\n</dependency>\r\n\r\n\x3c!-- https://mvnrepository.com/artifact/org.jasypt/jasypt-spring31 --\x3e\r\n<dependency>\r\n	<groupId>org.jasypt</groupId>\r\n	<artifactId>jasypt-spring31</artifactId>\r\n	<version>1.9.3</version>\r\n</dependency>\n"})}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"\uC554\uD638\uD654 (Jasypt util)"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:'public static void main(String[] args) {\r\n	StandardPBEStringEncryptor jasypt = new StandardPBEStringEncryptor();\r\n\r\n	jasypt.setAlgorithm("PBEWithMD5AndDES");\r\n	jasypt.setPassword("password");\r\n\r\n	String encryptedUsername = jasypt.encrypt("root");\r\n	String encryptedPwd = jasypt.encrypt("1234");\r\n\r\n	System.out.println(encryptedUsername);\r\n	System.out.println(encryptedPwd);\r\n\r\n	String decryptedUsername = jasypt.decrypt(encryptedUsername);\r\n	String decryptedPwd = jasypt.decrypt(encryptedPwd);\r\n\r\n	System.out.println(decryptedUsername);\r\n	System.out.println(decryptedPwd);\r\n}\n'})}),"\n",(0,i.jsxs)(r.ol,{start:"2",children:["\n",(0,i.jsx)(r.li,{children:"properties \uD30C\uC77C\uC5D0 \uC554\uD638\uD654\uB41C \uAC12 \uC800\uC7A5"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"mysql.username=ENC(IS/UoVWaEE0tyiG8ZaLN2w==)\r\nmysql.password=ENC(gJa/MRSqwHysvGCGye56N9UHX08Eo1L3)\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"properties-context.xml (property \uC0AC\uC6A9\uC744 \uC704\uD55C \uC124\uC815)"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:'\x3c!-- properties \uD30C\uC77C\uC758 \uB0B4\uC6A9\uC744 Controller, Service \uC5D0\uC11C \uC0AC\uC6A9\uD558\uAE30 \uC704\uD55C \uC124\uC815 --\x3e\r\n<context:property-placeholder location="/WEB-INF/spring/props/db.properties"/>\r\n\r\n<util:properties  id="mysql" location="/WEB-INF/spring/props/db.properties" />\n'})}),"\n",(0,i.jsxs)(r.ol,{start:"3",children:["\n",(0,i.jsx)(r.li,{children:"jasypt-context (\uBCF5\uD638\uD654 \uD558\uAE30 \uC704\uD55C \uC124\uC815)"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'<bean id="encryptorConfig" class="org.jasypt.encryption.pbe.config.EnvironmentStringPBEConfig">\r\n	<property name="algorithm" value="PBEWithMD5AndDES" />\r\n	<property name="passwordEnvName" value="\uC11C\uBC84 \uD658\uACBD\uBCC0\uC218\uC5D0 \uB123\uC740 \uD0A4\uAC12" />\r\n</bean>\r\n\r\n<bean id="encryptor"\r\n	class="org.jasypt.encryption.pbe.StandardPBEStringEncryptor">\r\n	<property name="config" ref="encryptorConfig" />\r\n</bean>\r\n\r\n<bean class="org.jasypt.spring31.properties.EncryptablePreferencesPlaceholderConfigurer">\r\n	<constructor-arg ref="encryptor" />\r\n	<property name="fileEncoding" value="UTF-8" />\r\n	<property name="locations">\r\n		<list>\r\n			<value>/WEB-INF/spring/props/db.properties</value> \x3c!-- \uBCF5\uD638\uD654\uD560 properties \uC704\uCE58--\x3e\r\n		</list>\r\n	</property>\r\n</bean>\n'})}),"\n",(0,i.jsx)(r.h3,{id:"jasypt-bean\uC740-\uAC00\uC7A5-\uBA3C\uC800-\uC0DD\uC131\uB418\uC5B4\uC57C-\uD55C\uB2E4-webxml",children:"jasypt bean\uC740 \uAC00\uC7A5 \uBA3C\uC800 \uC0DD\uC131\uB418\uC5B4\uC57C \uD55C\uB2E4. (web.xml)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"<context-param>\r\n	<param-name>contextConfigLocation</param-name>\r\n	<param-value>\r\n		/WEB-INF/spring/jasypt-context.xml,\r\n		/WEB-INF/spring/properties-context.xml,\r\n		/WEB-INF/spring/data-context.xml,\r\n		/WEB-INF/spring/hibernate-context.xml,\r\n		/WEB-INF/spring/mybatis-context.xml,\r\n		/WEB-INF/spring/root-context.xml,\r\n		/WEB-INF/spring/security-context.xml\r\n	</param-value>\r\n</context-param>\n"})}),"\n",(0,i.jsx)(r.h1,{id:"spring-boot-starter",children:"spring-boot-starter"}),"\n",(0,i.jsx)(r.h2,{id:"gradlebuild",children:"gradle.build"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"implementation 'com.github.ulisesbocchio:jasypt-spring-boot-starter:3.0.4'\n"})}),"\n",(0,i.jsx)(r.h2,{id:"applicationyml",children:"application.yml"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"jasypt:\r\n  encryptor:\r\n    bean: jasyptEncryptor\n"})}),"\n",(0,i.jsx)(r.h2,{id:"config",children:"config"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'@Configuration\r\npublic class JasyptConfig {\r\n    @Value("${jasypt.encryptor.password}")\r\n    private String password;\r\n\r\n    @Bean("jasyptEncryptor")\r\n    public StringEncryptor stringEncryptor(){\r\n        PooledPBEStringEncryptor encryptor = new PooledPBEStringEncryptor();\r\n        SimpleStringPBEConfig config = new SimpleStringPBEConfig();\r\n        config.setPassword(password);\r\n        config.setPoolSize("1");\r\n        config.setAlgorithm("PBEWithMD5AndDES");\r\n        config.setStringOutputType("base64");\r\n        config.setKeyObtentionIterations("1000");\r\n        config.setSaltGeneratorClassName("org.jasypt.salt.RandomSaltGenerator");\r\n        encryptor.setConfig(config);\r\n\r\n        return encryptor;\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(r.h2,{id:"test",children:"test"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'public class JasyptConfigTest extends JasyptConfig {\r\n    @Test\r\n    public void jasypt_encrypt_decrypt_test() {\r\n        String plainText = "tkdanwlrn!1";\r\n\r\n        StandardPBEStringEncryptor jasypt = new StandardPBEStringEncryptor();\r\n        jasypt.setPassword("password");\r\n\r\n        String encryptedText = jasypt.encrypt(plainText);\r\n        String decryptedText = jasypt.decrypt(encryptedText);\r\n\r\n        System.out.println(encryptedText);\r\n\r\n        assertThat(plainText).isEqualTo(decryptedText);\r\n    }\r\n}\n'})})]})}function d(n={}){let{wrapper:r}={...(0,s.R)(),...n.components};return r?(0,i.jsx)(r,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},255511:function(n,r,e){e.d(r,{R:()=>p,x:()=>a});var t=e(596363);let i={},s=t.createContext(i);function p(n){let r=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function a(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:p(n.components),t.createElement(s.Provider,{value:r},n.children)}}}]);