"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["498045"],{905327:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>i,toc:()=>l,default:()=>m,metadata:()=>r,assets:()=>o,contentTitle:()=>d});var r=JSON.parse('{"id":"db-prisma/prisma index example","title":"prisma index example","description":"User","source":"@site/docs/db-prisma/prisma index example.md","sourceDirName":"db-prisma","slug":"/db-prisma/prisma index example","permalink":"/docs/db-prisma/prisma index example","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"prisma index ESR","permalink":"/docs/db-prisma/prisma index ESR"},"next":{"title":"prisma index type","permalink":"/docs/db-prisma/prisma index type"}}'),a=n(447259),s=n(255511);let i={},d="prisma index example",o={},l=[{value:"User",id:"user",level:2},{value:"Post",id:"post",level:2}];function c(e){let t={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"prisma-index-example",children:"prisma index example"})}),"\n",(0,a.jsx)(t.h2,{id:"user",children:"User"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-prisma",children:'model User {\r\n  id          String            @id @default(cuid())\r\n  name        String\r\n  roles       Role[]            @unique\r\n  status      UserStatus        @default(ACTIVE)\r\n  tel         String\r\n  username    String?           @unique\r\n  password    String?\r\n  email       String?           @unique\r\n  birthDate   DateTime\r\n  createdAt   DateTime          @default(now()) @map("created_at")\r\n  updatedAt   DateTime          @default(now()) @map("updated_at")\r\n  authentications Authentication[]\r\n  userAttachments UserAttachment[]\r\n  memos           Memo[]\r\n  inquiries       Inquiry[]\r\n\r\n  // \uC0AC\uC6A9\uC790\uC758 \uC0DD\uC131\uC77C\uC790\uC5D0 \uB530\uB77C \uC870\uD68C\uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC740 \uACBD\uC6B0\r\n  @@index([createdAt(sort: Desc)])\r\n  // \uC0AC\uC6A9\uC790\uC758 \uC5C5\uB370\uC774\uD2B8\uC77C\uC790\uC5D0 \uB530\uB77C \uC870\uD68C\uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC740 \uACBD\uC6B0\r\n  @@index([updatedAt(sort: Desc)])\r\n  // \uC0C1\uD0DC\uC5D0 \uB530\uB77C \uC0DD\uC131\uC77C\uC790\uB85C \uC815\uB82C\uD558\uC5EC \uC870\uD68C\uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC740 \uACBD\uC6B0\r\n  @@index([roles, createdAt(sort: Desc)])\r\n  // \uAD8C\uD55C\uC5D0 \uB530\uB77C \uC0DD\uC131\uC77C\uC790\uB85C \uC815\uB82C\uD558\uC5EC \uC870\uD68C\uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC740 \uACBD\uC6B0\r\n  @@index([status, createdAt(sort: Desc)])\r\n  // \uAD8C\uD55C, \uC0C1\uD0DC, \uC0DD\uC131\uC77C\uC790\uB85C \uC815\uB82C\uD558\uC5EC \uC870\uD68C\uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC740 \uACBD\uC6B0\r\n  @@index([roles, status, createdAt(sort: Desc)])\r\n  @@map("users")\r\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"post",children:"Post"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-prisma",children:'model Post {\r\n    id          String         @id @default(cuid())\r\n    title       String\r\n    content     String\r\n    createdAt   DateTime       @default(now()) @map("created_at")\r\n    updatedAt   DateTime       @updatedAt @map("updated_at")\r\n    deletedAt   DateTime?      @map("deleted_at")\r\n    attachments Attachment[]\r\n    comments    Comment[]\r\n    snapshots   PostSnapshot[]\r\n\r\n    // \uBB34\uD55C \uC2A4\uD06C\uB864 \uD398\uC774\uC9C0\uB124\uC774\uC158\r\n    @@index([createdAt(sort: Desc), id])\r\n\r\n    // createdAt \uAE30\uC900\uC73C\uB85C \uC815\uB82C\uD558\uC5EC \uC870\uD68C\uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC740 \uACBD\uC6B0\r\n    @@index([createdAt(sort: Desc)])\r\n\r\n    // \uC18C\uD504\uD2B8 \uC0AD\uC81C\uB41C \uB808\uCF54\uB4DC\uB97C \uD544\uD130\uB9C1\uD558\uB294 \uC77C\uC774 \uB9CE\uC740 \uACBD\uC6B0\r\n    // \uC608\uB97C \uB4E4\uC5B4, WHERE deletedAt IS NULL\uACFC \uAC19\uC740 \uCFFC\uB9AC\uAC00 \uC790\uC8FC \uBC1C\uC0DD\uD560 \uACBD\uC6B0\r\n    @@index([deletedAt])\r\n\r\n    // deletedAt \uAE30\uC900\uC73C\uB85C \uC815\uB82C\uD558\uC5EC \uC870\uD68C\uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC740 \uACBD\uC6B0\r\n    @@index([deletedAt, createdAt(sort: Desc)])\r\n\r\n    // title \uAC80\uC0C9\uB85C \uAC80\uC0C9\uD558\uB294 \uAE30\uB2A5\uC774 \uC788\uB294 \uACBD\uC6B0\r\n    @@index([title])\r\n\r\n    // \uC8FC\uAE30\uC801\uC73C\uB85C \uC5C5\uB370\uC774\uD2B8\uB418\uB294 \uD3EC\uC2A4\uD2B8\uB97C updatedAt \uAE30\uC900\uC73C\uB85C \uC870\uD68C\uD558\uAC70\uB098 \uC815\uB82C\uD558\uB294 \uACBD\uC6B0\uAC00 \uB9CE\uC740 \uACBD\uC6B0\r\n    @@index([updatedAt])\r\n\r\n    @@map("posts")\r\n}\n'})})]})}function m(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},255511:function(e,t,n){n.d(t,{R:()=>i,x:()=>d});var r=n(596363);let a={},s=r.createContext(a);function i(e){let t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);