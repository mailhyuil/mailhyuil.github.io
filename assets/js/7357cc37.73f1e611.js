"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["257090"],{144882:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>s,toc:()=>d,default:()=>u,metadata:()=>r,assets:()=>t,contentTitle:()=>o});var r=JSON.parse('{"id":"kubernetes/kubectl \uC790\uC8FC \uC0AC\uC6A9\uD558\uB294 \uBA85\uB839\uC5B4","title":"kubectl","description":"~/.kube (local)","source":"@site/docs/kubernetes/kubectl \uC790\uC8FC \uC0AC\uC6A9\uD558\uB294 \uBA85\uB839\uC5B4.md","sourceDirName":"kubernetes","slug":"/kubernetes/kubectl \uC790\uC8FC \uC0AC\uC6A9\uD558\uB294 \uBA85\uB839\uC5B4","permalink":"/docs/kubernetes/kubectl \uC790\uC8FC \uC0AC\uC6A9\uD558\uB294 \uBA85\uB839\uC5B4","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\uD5E4\uB354 \uC81C\uC678\uD558\uAE30","permalink":"/docs/kubernetes/kubectl top \uD5E4\uB354 \uC81C\uC678\uD558\uAE30"},"next":{"title":"minikube local image \uC0AC\uC6A9\uD558\uAE30","permalink":"/docs/kubernetes/minikube local image \uC0AC\uC6A9\uD558\uAE30"}}'),c=l(447259),a=l(255511);let s={},o="kubectl",t={},d=[{value:"~/.kube (local)",id:"kube-local",level:2},{value:"/etc/kubernetes (master node)",id:"etckubernetes-master-node",level:2},{value:"/var/lib/kubelet (worker node)",id:"varlibkubelet-worker-node",level:2},{value:"config",id:"config",level:2},{value:"\uB178\uB4DC \uC811\uC18D (ssh)",id:"\uB178\uB4DC-\uC811\uC18D-ssh",level:2},{value:"pod \uC0DD\uC131 (run)",id:"pod-\uC0DD\uC131-run",level:2},{value:"deployment \uC0DD\uC131 (create)",id:"deployment-\uC0DD\uC131-create",level:2},{value:"configmap \uC0DD\uC131 (create)",id:"configmap-\uC0DD\uC131-create",level:2},{value:"secret \uC0DD\uC131 (create)",id:"secret-\uC0DD\uC131-create",level:2},{value:"service \uC0DD\uC131 (expose)",id:"service-\uC0DD\uC131-expose",level:2},{value:"node \uC81C\uC5B4",id:"node-\uC81C\uC5B4",level:2},{value:"\uC624\uBE0C\uC81D\uD2B8 \uC0AD\uC81C (delete)",id:"\uC624\uBE0C\uC81D\uD2B8-\uC0AD\uC81C-delete",level:2},{value:"\uC774\uBCA4\uD2B8 \uD655\uC778 (describe)",id:"\uC774\uBCA4\uD2B8-\uD655\uC778-describe",level:2},{value:"yaml \uD30C\uC77C\uC744 \uC77D\uC5B4\uC11C \uC2E4\uD589 (apply)",id:"yaml-\uD30C\uC77C\uC744-\uC77D\uC5B4\uC11C-\uC2E4\uD589-apply",level:2},{value:"yaml \uD30C\uC77C\uC744 \uB3D9\uC801\uC73C\uB85C \uC218\uC815 (edit)",id:"yaml-\uD30C\uC77C\uC744-\uB3D9\uC801\uC73C\uB85C-\uC218\uC815-edit",level:2},{value:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 \uBCF4\uAE30 (get)",id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-\uBCF4\uAE30-get",level:2},{value:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 namespace\uB85C \uBCF4\uAE30",id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-namespace\uB85C-\uBCF4\uAE30",level:2},{value:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 labels\uB85C \uBCF4\uAE30",id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-labels\uB85C-\uBCF4\uAE30",level:2},{value:"label \uCD94\uAC00, \uBCC0\uACBD, \uC0AD\uC81C",id:"label-\uCD94\uAC00-\uBCC0\uACBD-\uC0AD\uC81C",level:2},{value:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 selector\uB85C \uBCF4\uAE30",id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-selector\uB85C-\uBCF4\uAE30",level:2},{value:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 \uBAA8\uB4E0 \uC815\uBCF4 \uBCF4\uAE30 (-o wide)",id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-\uBAA8\uB4E0-\uC815\uBCF4-\uBCF4\uAE30--o-wide",level:2},{value:"jsonpath\uB85C \uC870\uD68C (-o jsonpath=&quot;&quot;)",id:"jsonpath\uB85C-\uC870\uD68C--o-jsonpath",level:2},{value:"\uC815\uB82C\uD574\uC11C \uBCF4\uAE30 (--sort-by=)",id:"\uC815\uB82C\uD574\uC11C-\uBCF4\uAE30---sort-by",level:2},{value:"\uB85C\uADF8 \uBCF4\uAE30 (logs)",id:"\uB85C\uADF8-\uBCF4\uAE30-logs",level:2},{value:"\uCD5C\uADFC \uC2E4\uD328\uD55C \uC778\uC2A4\uD134\uC2A4\uC758 \uB85C\uADF8 \uBCF4\uAE30 (logs -p)",id:"\uCD5C\uADFC-\uC2E4\uD328\uD55C-\uC778\uC2A4\uD134\uC2A4\uC758-\uB85C\uADF8-\uBCF4\uAE30-logs--p",level:2},{value:"\uBA85\uB839\uC5B4 \uC2E4\uD589 (exec)",id:"\uBA85\uB839\uC5B4-\uC2E4\uD589-exec",level:2},{value:"\uD30C\uC77C \uBCF5\uC0AC (cp)",id:"\uD30C\uC77C-\uBCF5\uC0AC-cp",level:2},{value:"cpu, memory \uC0AC\uC6A9\uB7C9 \uD655\uC778 (top)",id:"cpu-memory-\uC0AC\uC6A9\uB7C9-\uD655\uC778-top",level:2},{value:"replica \uAC1C\uC218 \uC870\uC808 (scale)",id:"replica-\uAC1C\uC218-\uC870\uC808-scale",level:2},{value:"rolling update",id:"rolling-update",level:2},{value:"busybox\uB85C \uBA85\uB839\uC5B4 \uC2E4\uD589",id:"busybox\uB85C-\uBA85\uB839\uC5B4-\uC2E4\uD589",level:2},{value:"\uC790\uC8FC \uC0AC\uC6A9\uD558\uB294 vim \uB2E8\uCD95\uD0A4",id:"\uC790\uC8FC-\uC0AC\uC6A9\uD558\uB294-vim-\uB2E8\uCD95\uD0A4",level:2},{value:"\uC790\uC8FC \uC0AC\uC6A9\uD558\uB294 linux cmd",id:"\uC790\uC8FC-\uC0AC\uC6A9\uD558\uB294-linux-cmd",level:2}];function i(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"kubectl",children:"kubectl"})}),"\n",(0,c.jsx)(n.h2,{id:"kube-local",children:"~/.kube (local)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["kubectl\uC740 ",(0,c.jsx)(n.code,{children:"~/.kube/config"}),"\uB97C \uC77D\uC5B4\uC11C API Server\uB85C \uC694\uCCAD\uD55C\uB2E4."]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"RBAC \uAD00\uB828"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-txt",children:"cache      config     http-cache\n"})}),"\n",(0,c.jsx)(n.h2,{id:"etckubernetes-master-node",children:"/etc/kubernetes (master node)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"static pod path = /etc/kubernetes/manifests (\uD30C\uC77C\uB9CC \uC0DD\uC131\uD558\uBA74 kubelet\uC774 \uC790\uB3D9\uC73C\uB85C \uC2E4\uD589)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"etcd \uAD00\uB828"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-txt",children:"addons      controller-manager.conf  manifests\r\nadmin.conf  kubelet.conf             scheduler.conf\n"})}),"\n",(0,c.jsx)(n.h2,{id:"varlibkubelet-worker-node",children:"/var/lib/kubelet (worker node)"}),"\n",(0,c.jsx)(n.h2,{id:"config",children:"config"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uD074\uB7EC\uC2A4\uD130 \uBAA9\uB85D \uD655\uC778\r\nkubectl config get-contexts\r\n\r\n# \uD604\uC7AC \uD074\uB7EC\uC2A4\uD130 \uD655\uC778\r\nkubectl config current-context\r\n\r\n# \uD074\uB7EC\uC2A4\uD130 \uBCC0\uACBD\r\nkubectl config use-context <cluster_name>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uB178\uB4DC-\uC811\uC18D-ssh",children:"\uB178\uB4DC \uC811\uC18D (ssh)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"ssh \uC6CC\uCEE4\uB178\uB4DC_IP\r\n# docker-daemon, kubelet, kube-proxy, CNI \uD655\uC778\r\n\r\nssh \uB9C8\uC2A4\uD130\uB178\uB4DC_IP\r\n# controller-manager, scheduler-manager, etcd, api-server, matrics-server, core-dns, docker-daemon, kubelet \uD655\uC778\n"})}),"\n",(0,c.jsx)(n.h2,{id:"pod-\uC0DD\uC131-run",children:"pod \uC0DD\uC131 (run)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uC989\uC2DC pod \uC0DD\uC131\r\nkubectl run web --image=nginx --port=80 --env TEST=hello\r\n\r\n# yaml\uB85C pod \uC0DD\uC131\r\nkubectl run web --image=nginx --port=80 --env TEST=hello --dry-run=client -o yaml > web.yaml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"deployment-\uC0DD\uC131-create",children:"deployment \uC0DD\uC131 (create)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uC989\uC2DC deployment \uC0DD\uC131\r\nkubectl create deploy web --image nginx --port 80 --replicas 3\r\n\r\n# yaml\uB85C deployment \uC0DD\uC131\r\nkubectl create deploy web --image nginx --port 80 --replicas 3 --dry-run=client -o yaml > web.yaml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"configmap-\uC0DD\uC131-create",children:"configmap \uC0DD\uC131 (create)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uC989\uC2DC configmap \uC0DD\uC131\r\nkubectl create configmap my-config --from-literal BASE_URL=http://localhost:8080\r\n\r\n# yaml\uB85C configmap \uC0DD\uC131\r\nkubectl create configmap my-config --from-literal BASE_URL=http://localhost:8080 --dry-run=client -o yaml > my-config.yaml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"secret-\uC0DD\uC131-create",children:"secret \uC0DD\uC131 (create)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uC989\uC2DC secret \uC0DD\uC131\r\nkubectl create secret generic my-secret --from-literal PASSWORD=1234\r\n\r\n# yaml\uB85C secret \uC0DD\uC131\r\nkubectl create secret generic my-secret --from-literal PASSWORD=1234 --dry-run=client -o yaml > my-secret.yaml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"service-\uC0DD\uC131-expose",children:"service \uC0DD\uC131 (expose)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl expose deploy web --name web-lb --type=LoadBalancer --port 80 --target-port 80\n"})}),"\n",(0,c.jsx)(n.h2,{id:"node-\uC81C\uC5B4",children:"node \uC81C\uC5B4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# node\uC5D0 pod \uC2A4\uCF00\uC904\uB9C1 \uC911\uC9C0\r\nkubectl cordon <node-name>\r\n# node\uC5D0 \uC2A4\uCF00\uC904\uB9C1\uB41C pod\uB97C \uB2E4\uB978 node\uB85C \uC774\uB3D9 \uD6C4 cordon\r\nkubectl drain <node-name> --ignore-daemonsets --force\r\n\r\n# node\uC5D0 pod \uC2A4\uCF00\uC904\uB9C1 \uC7AC\uAC1C\r\nkubectl uncordon <node-name>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC624\uBE0C\uC81D\uD2B8-\uC0AD\uC81C-delete",children:"\uC624\uBE0C\uC81D\uD2B8 \uC0AD\uC81C (delete)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl delete pod web\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC774\uBCA4\uD2B8-\uD655\uC778-describe",children:"\uC774\uBCA4\uD2B8 \uD655\uC778 (describe)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl describe pod nginx\n"})}),"\n",(0,c.jsx)(n.h2,{id:"yaml-\uD30C\uC77C\uC744-\uC77D\uC5B4\uC11C-\uC2E4\uD589-apply",children:"yaml \uD30C\uC77C\uC744 \uC77D\uC5B4\uC11C \uC2E4\uD589 (apply)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl apply -f <file_path>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"yaml-\uD30C\uC77C\uC744-\uB3D9\uC801\uC73C\uB85C-\uC218\uC815-edit",children:"yaml \uD30C\uC77C\uC744 \uB3D9\uC801\uC73C\uB85C \uC218\uC815 (edit)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl edit deploy web\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-\uBCF4\uAE30-get",children:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 \uBCF4\uAE30 (get)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl get node # pod / deploy / svc / node / namespace / rs / all\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-namespace\uB85C-\uBCF4\uAE30",children:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 namespace\uB85C \uBCF4\uAE30"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uBAA8\uB4E0 namespace \uD655\uC778\r\nkubectl get pod -A\r\n\r\n# \uD2B9\uC815 namespace \uD655\uC778\r\nkubectl get pods --namespace=kube-system\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-labels\uB85C-\uBCF4\uAE30",children:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 labels\uB85C \uBCF4\uAE30"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# label \uBCF4\uAE30\r\nkubectl get pod --show-labels\r\n\r\n# \uD2B9\uC815 label key\uB97C \uAC00\uC9C4 pod \uC870\uD68C\r\nkubectl get pod -L version\r\n\r\n# \uD2B9\uC815 label\uC758 key=value\uAC00 \uC77C\uCE58\uD558\uB294 pod \uC870\uD68C\r\nkubectl get pod -l version=v1\r\n\r\n# \uD2B9\uC815 label column\uC73C\uB85C \uC870\uD68C\r\nkubectl get pod web --label-columns app.env\n"})}),"\n",(0,c.jsx)(n.h2,{id:"label-\uCD94\uAC00-\uBCC0\uACBD-\uC0AD\uC81C",children:"label \uCD94\uAC00, \uBCC0\uACBD, \uC0AD\uC81C"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# label \uCD94\uAC00\uAC00\r\nkubectl label pod web version=v1\r\n\r\n# label \uBCC0\uACBD\r\nkubectl label pod web version=v2 --overwrite\r\n\r\n# label \uC0AD\uC81C (\uB05D\uC5D0 - \uBD99\uC774\uBA74 \uC0AD\uC81C)\r\nkubectl label pod web version-\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-selector\uB85C-\uBCF4\uAE30",children:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 selector\uB85C \uBCF4\uAE30"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"label\uBCF4\uB2E4 \uB354 \uC815\uBC00\uD558\uAC8C \uCFFC\uB9AC\uB85C \uC870\uD68C \uAC00\uB2A5"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# label \uBCF4\uAE30\r\nkubectl get deploy web --show-labels\r\n\r\n# \uD2B9\uC815 label\uC758 key=value\uAC00 \uC77C\uCE58\uD558\uB294 deploy \uC870\uD68C\r\nkubectl get deploy web --selector app=web\r\n\r\n# \uC5EC\uB7EC label\uC758 key=value\uAC00 \uC77C\uCE58\uD558\uB294 deploy \uC870\uD68C\r\nkubectl get deploy web --selector app=web,env=dev\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC0DD\uC131\uB41C-\uC624\uBE0C\uC81D\uD2B8-\uBAA8\uB4E0-\uC815\uBCF4-\uBCF4\uAE30--o-wide",children:"\uC0DD\uC131\uB41C \uC624\uBE0C\uC81D\uD2B8 \uBAA8\uB4E0 \uC815\uBCF4 \uBCF4\uAE30 (-o wide)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# node \uC815\uBCF4\uAE4C\uC9C0 \uD655\uC778\r\nkubectl get pod -o wide\n"})}),"\n",(0,c.jsx)(n.h2,{id:"jsonpath\uB85C-\uC870\uD68C--o-jsonpath",children:'jsonpath\uB85C \uC870\uD68C (-o jsonpath="")'}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:'kubectl get pod <pod-name> -o jsonpath="{.metadata.ownerReferences[0].name}"\n'})}),"\n",(0,c.jsx)(n.h2,{id:"\uC815\uB82C\uD574\uC11C-\uBCF4\uAE30---sort-by",children:"\uC815\uB82C\uD574\uC11C \uBCF4\uAE30 (--sort-by=)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uC0DD\uC131 \uC2DC\uAC04 \uC21C\uC73C\uB85C \uC815\uB82C\r\nkubectl get pod -o wide --sort-by=.metadata.creationTimestamp\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uB85C\uADF8-\uBCF4\uAE30-logs",children:"\uB85C\uADF8 \uBCF4\uAE30 (logs)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl logs <pod-name>\r\n\r\n# multi container pod \uD658\uACBD\uC77C \uACBD\uC6B0 \uCEE8\uD14C\uC774\uB108 \uC774\uB984 \uC9C0\uC815\r\nkubectl logs <pod-name> -c <container-name>\r\n\r\nkubectl logs deployment/<deployment_name>\r\n\r\nkubectl logs service/<service_name>\r\n\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uCD5C\uADFC-\uC2E4\uD328\uD55C-\uC778\uC2A4\uD134\uC2A4\uC758-\uB85C\uADF8-\uBCF4\uAE30-logs--p",children:"\uCD5C\uADFC \uC2E4\uD328\uD55C \uC778\uC2A4\uD134\uC2A4\uC758 \uB85C\uADF8 \uBCF4\uAE30 (logs -p)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl logs <pod-name> -p\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uBA85\uB839\uC5B4-\uC2E4\uD589-exec",children:"\uBA85\uB839\uC5B4 \uC2E4\uD589 (exec)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl exec -it <pod-name> -- bash\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uD30C\uC77C-\uBCF5\uC0AC-cp",children:"\uD30C\uC77C \uBCF5\uC0AC (cp)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# pod -> local\r\nkubectl cp <local_path> <pod_name>:<pod_path>\r\n\r\n# local -> pod\r\nkubectl cp <pod_name>:<pod_path> <local_path>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"cpu-memory-\uC0AC\uC6A9\uB7C9-\uD655\uC778-top",children:"cpu, memory \uC0AC\uC6A9\uB7C9 \uD655\uC778 (top)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"metrics-server \uD544\uC694"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl top pods --sort-by=cpu # --sort-by=memory\r\nkubectl top pods my-pod\r\n\r\nkubectl top nodes --sort-by=cpu # --sort-by=memory\r\nkubectl top nodes my-node\n"})}),"\n",(0,c.jsx)(n.h2,{id:"replica-\uAC1C\uC218-\uC870\uC808-scale",children:"replica \uAC1C\uC218 \uC870\uC808 (scale)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl scale deploy web --replicas=3\n"})}),"\n",(0,c.jsx)(n.h2,{id:"rolling-update",children:"rolling update"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:'# rolling update (\uB610\uB294 \uADF8\uB0E5 edit\uC73C\uB85C \uBCC0\uACBD\uD574\uB3C4 \uB41C\uB2E4)\r\nkubectl set image deployment <deploy_name> <container_name>=nginx:1.17 --record\r\n\r\n# rolling update (multi container)\r\nkubectl set image deployment <deploy_name> <container_name>=nginx:1.17,<container_name>=postgres:9.6 --record\r\n\r\n# \uD604\uC7AC \uC0C1\uD0DC\uB97C annotate (CHANGE-CAUSE) // \uB610\uB294 --record \uC635\uC158 \uC0AC\uC6A9\uD558\uBA74 \uC790\uB3D9\uC73C\uB85C \uBCC0\uACBD \uC0AC\uC720 \uAE30\uB85D\r\nkubectl annotate deployment <deploy_name> kubernetes.io/change-cause="Rolling update to version 1.17"\r\n\r\n# \uC0C1\uD0DC \uD655\uC778\r\nkubectl rollout status deployment <deploy_name>\r\n\r\n# \uD2B9\uC815 revision \uC870\uD68C\r\nkubectl rollout history deployment <deploy_name>\r\nkubectl rollout history deployment <deploy_name> --revision=1\r\n\r\n# rollback\r\nkubectl rollout undo deployment <deploy_name> # \uC774\uC804 \uBC84\uC804\uC73C\uB85C \uB864\uBC31\r\nkubectl rollout undo deployment <deploy_name> --to-revision=1 # \uD2B9\uC815 \uBC84\uC804\uC73C\uB85C \uB864\uBC31\n'})}),"\n",(0,c.jsx)(n.h2,{id:"busybox\uB85C-\uBA85\uB839\uC5B4-\uC2E4\uD589",children:"busybox\uB85C \uBA85\uB839\uC5B4 \uC2E4\uD589"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl run test --image busybox -it --rm -- sh\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC790\uC8FC-\uC0AC\uC6A9\uD558\uB294-vim-\uB2E8\uCD95\uD0A4",children:"\uC790\uC8FC \uC0AC\uC6A9\uD558\uB294 vim \uB2E8\uCD95\uD0A4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uD55C\uC904 \uC0AD\uC81C\r\ndd\r\n\r\n# \uCEE4\uC11C\uBD80\uD130 \uB05D\uAE4C\uC9C0 \uC0AD\uC81C\r\nD\r\n\r\n# \uD55C\uC904 \uBCF5\uC0AC\r\nyy\r\n\r\n# 2\uC904 \uBCF5\uC0AC\r\n2yy\r\n\r\n# \uBD99\uC5EC\uB123\uAE30\r\np\r\n\r\n# \uC904 \uC0BD\uC785\r\no\r\n\r\n# \uB4A4\uB85C\uAC00\uAE30\r\nu\r\n\r\n# \uC55E\uC73C\uB85C\uAC00\uAE30\r\nctrl + r\r\n\r\n# \uBA85\uB839\uBAA8\uB4DC\uB85C \uC804\uD658 \uD6C4 insert \uBAA8\uB4DC\uB85C \uBC14\uB85C \uC804\uD658\r\nctrl + o -> \uBA85\uB839\r\n\r\n# mac os\uC5D0\uC11C \uBD99\uC5EC\uB123\uAE30\r\nctrl + v\r\n\r\n# window os\uC5D0\uC11C \uBD99\uC5EC\uB123\uAE30\r\nshift + insert\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uC790\uC8FC-\uC0AC\uC6A9\uD558\uB294-linux-cmd",children:"\uC790\uC8FC \uC0AC\uC6A9\uD558\uB294 linux cmd"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# output\uC744 \uC798\uB77C\uC11C \uBCF4\uAE30\r\ncut -d ' ' -f 1\r\n\r\n# output grep\r\n| grep -i -v <\uC81C\uC678\uD560 \uB2E8\uC5B4> <\uCC3E\uC744 \uB2E8\uC5B4>\r\n\r\n# output grep \uAC80\uC0C9 \uC870\uAC74\r\n| grep -e <\uCC3E\uC744 \uB2E8\uC5B4> -e <\uCC3E\uC744 \uB2E8\uC5B4>\r\n\r\n# output\uC744 file\uB85C\r\n| grep 'file not found' > /path/to/file\r\n\r\n# text\uB97C file\uB85C\r\necho 'pv001' > /path/to/file\r\n\r\n# \uD30C\uC77C \uC0DD\uC131\r\ncat > deployment.yaml\r\n...\r\nctrl + d\r\n\r\n# os \uD655\uC778\r\ncat /etc/os-release\n"})})]})}function u(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(i,{...e})}):i(e)}},255511:function(e,n,l){l.d(n,{R:()=>s,x:()=>o});var r=l(596363);let c={},a=r.createContext(c);function s(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);