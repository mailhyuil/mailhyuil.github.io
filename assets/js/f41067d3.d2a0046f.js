"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[897840],{529087:(n,r,t)=>{t.d(r,{R:()=>p,x:()=>a});var e=t(596363);const s={},i=e.createContext(s);function p(n){const r=e.useContext(i);return e.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function a(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:p(n.components),e.createElement(i.Provider,{value:r},n.children)}},734288:(n,r,t)=>{t.r(r),t.d(r,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>p,metadata:()=>e,toc:()=>c});const e=JSON.parse('{"id":"spring/spring Jasypt\ub97c \uc0ac\uc6a9\ud55c \ud504\ub85c\ud37c\ud2f0 \uc554\ud638\ud654","title":"Jasypt(Java Simplified Encryption)\ub97c \uc0ac\uc6a9\ud55c \ud504\ub85c\ud37c\ud2f0 \uc554\ud638\ud654","description":"1. denpendencies","source":"@site/docs/spring/spring Jasypt\ub97c \uc0ac\uc6a9\ud55c \ud504\ub85c\ud37c\ud2f0 \uc554\ud638\ud654.md","sourceDirName":"spring","slug":"/spring/spring Jasypt\ub97c \uc0ac\uc6a9\ud55c \ud504\ub85c\ud37c\ud2f0 \uc554\ud638\ud654","permalink":"/docs/spring/spring Jasypt\ub97c \uc0ac\uc6a9\ud55c \ud504\ub85c\ud37c\ud2f0 \uc554\ud638\ud654","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"JSTL","permalink":"/docs/spring/spring JSTL"},"next":{"title":"Javamail","permalink":"/docs/spring/spring JavaMail"}}');var s=t(447259),i=t(529087);const p={},a="Jasypt(Java Simplified Encryption)\ub97c \uc0ac\uc6a9\ud55c \ud504\ub85c\ud37c\ud2f0 \uc554\ud638\ud654",o={},c=[{value:"jasypt bean\uc740 \uac00\uc7a5 \uba3c\uc800 \uc0dd\uc131\ub418\uc5b4\uc57c \ud55c\ub2e4. (web.xml)",id:"jasypt-bean\uc740-\uac00\uc7a5-\uba3c\uc800-\uc0dd\uc131\ub418\uc5b4\uc57c-\ud55c\ub2e4-webxml",level:3},{value:"gradle.build",id:"gradlebuild",level:2},{value:"application.yml",id:"applicationyml",level:2},{value:"config",id:"config",level:2},{value:"test",id:"test",level:2}];function l(n){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"jasyptjava-simplified-encryption\ub97c-\uc0ac\uc6a9\ud55c-\ud504\ub85c\ud37c\ud2f0-\uc554\ud638\ud654",children:"Jasypt(Java Simplified Encryption)\ub97c \uc0ac\uc6a9\ud55c \ud504\ub85c\ud37c\ud2f0 \uc554\ud638\ud654"})}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"denpendencies"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:"\x3c!-- https://mvnrepository.com/artifact/org.jasypt/jasypt --\x3e\r\n<dependency>\r\n\t<groupId>org.jasypt</groupId>\r\n\t<artifactId>jasypt</artifactId>\r\n\t<version>1.9.3</version>\r\n</dependency>\r\n\r\n\x3c!-- https://mvnrepository.com/artifact/org.jasypt/jasypt-spring31 --\x3e\r\n<dependency>\r\n\t<groupId>org.jasypt</groupId>\r\n\t<artifactId>jasypt-spring31</artifactId>\r\n\t<version>1.9.3</version>\r\n</dependency>\n"})}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"\uc554\ud638\ud654 (Jasypt util)"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'public static void main(String[] args) {\r\n\tStandardPBEStringEncryptor jasypt = new StandardPBEStringEncryptor();\r\n\r\n\tjasypt.setAlgorithm("PBEWithMD5AndDES");\r\n\tjasypt.setPassword("password");\r\n\r\n\tString encryptedUsername = jasypt.encrypt("root");\r\n\tString encryptedPwd = jasypt.encrypt("1234");\r\n\r\n\tSystem.out.println(encryptedUsername);\r\n\tSystem.out.println(encryptedPwd);\r\n\r\n\tString decryptedUsername = jasypt.decrypt(encryptedUsername);\r\n\tString decryptedPwd = jasypt.decrypt(encryptedPwd);\r\n\r\n\tSystem.out.println(decryptedUsername);\r\n\tSystem.out.println(decryptedPwd);\r\n}\n'})}),"\n",(0,s.jsxs)(r.ol,{start:"2",children:["\n",(0,s.jsx)(r.li,{children:"properties \ud30c\uc77c\uc5d0 \uc554\ud638\ud654\ub41c \uac12 \uc800\uc7a5"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"mysql.username=ENC(IS/UoVWaEE0tyiG8ZaLN2w==)\r\nmysql.password=ENC(gJa/MRSqwHysvGCGye56N9UHX08Eo1L3)\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"properties-context.xml (property \uc0ac\uc6a9\uc744 \uc704\ud55c \uc124\uc815)"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:'\x3c!-- properties \ud30c\uc77c\uc758 \ub0b4\uc6a9\uc744 Controller, Service \uc5d0\uc11c \uc0ac\uc6a9\ud558\uae30 \uc704\ud55c \uc124\uc815 --\x3e\r\n<context:property-placeholder location="/WEB-INF/spring/props/db.properties"/>\r\n\r\n<util:properties  id="mysql" location="/WEB-INF/spring/props/db.properties" />\n'})}),"\n",(0,s.jsxs)(r.ol,{start:"3",children:["\n",(0,s.jsx)(r.li,{children:"jasypt-context (\ubcf5\ud638\ud654 \ud558\uae30 \uc704\ud55c \uc124\uc815)"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'<bean id="encryptorConfig" class="org.jasypt.encryption.pbe.config.EnvironmentStringPBEConfig">\r\n\t<property name="algorithm" value="PBEWithMD5AndDES" />\r\n\t<property name="passwordEnvName" value="\uc11c\ubc84 \ud658\uacbd\ubcc0\uc218\uc5d0 \ub123\uc740 \ud0a4\uac12" />\r\n</bean>\r\n\r\n<bean id="encryptor"\r\n\tclass="org.jasypt.encryption.pbe.StandardPBEStringEncryptor">\r\n\t<property name="config" ref="encryptorConfig" />\r\n</bean>\r\n\r\n<bean class="org.jasypt.spring31.properties.EncryptablePreferencesPlaceholderConfigurer">\r\n\t<constructor-arg ref="encryptor" />\r\n\t<property name="fileEncoding" value="UTF-8" />\r\n\t<property name="locations">\r\n\t\t<list>\r\n\t\t\t<value>/WEB-INF/spring/props/db.properties</value> \x3c!-- \ubcf5\ud638\ud654\ud560 properties \uc704\uce58--\x3e\r\n\t\t</list>\r\n\t</property>\r\n</bean>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"jasypt-bean\uc740-\uac00\uc7a5-\uba3c\uc800-\uc0dd\uc131\ub418\uc5b4\uc57c-\ud55c\ub2e4-webxml",children:"jasypt bean\uc740 \uac00\uc7a5 \uba3c\uc800 \uc0dd\uc131\ub418\uc5b4\uc57c \ud55c\ub2e4. (web.xml)"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"<context-param>\r\n\t<param-name>contextConfigLocation</param-name>\r\n\t<param-value>\r\n\t\t/WEB-INF/spring/jasypt-context.xml,\r\n\t\t/WEB-INF/spring/properties-context.xml,\r\n\t\t/WEB-INF/spring/data-context.xml,\r\n\t\t/WEB-INF/spring/hibernate-context.xml,\r\n\t\t/WEB-INF/spring/mybatis-context.xml,\r\n\t\t/WEB-INF/spring/root-context.xml,\r\n\t\t/WEB-INF/spring/security-context.xml\r\n\t</param-value>\r\n</context-param>\n"})}),"\n",(0,s.jsx)(r.h1,{id:"spring-boot-starter",children:"spring-boot-starter"}),"\n",(0,s.jsx)(r.h2,{id:"gradlebuild",children:"gradle.build"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"implementation 'com.github.ulisesbocchio:jasypt-spring-boot-starter:3.0.4'\n"})}),"\n",(0,s.jsx)(r.h2,{id:"applicationyml",children:"application.yml"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"jasypt:\r\n  encryptor:\r\n    bean: jasyptEncryptor\n"})}),"\n",(0,s.jsx)(r.h2,{id:"config",children:"config"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'@Configuration\r\npublic class JasyptConfig {\r\n    @Value("${jasypt.encryptor.password}")\r\n    private String password;\r\n\r\n    @Bean("jasyptEncryptor")\r\n    public StringEncryptor stringEncryptor(){\r\n        PooledPBEStringEncryptor encryptor = new PooledPBEStringEncryptor();\r\n        SimpleStringPBEConfig config = new SimpleStringPBEConfig();\r\n        config.setPassword(password);\r\n        config.setPoolSize("1");\r\n        config.setAlgorithm("PBEWithMD5AndDES");\r\n        config.setStringOutputType("base64");\r\n        config.setKeyObtentionIterations("1000");\r\n        config.setSaltGeneratorClassName("org.jasypt.salt.RandomSaltGenerator");\r\n        encryptor.setConfig(config);\r\n\r\n        return encryptor;\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(r.h2,{id:"test",children:"test"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'public class JasyptConfigTest extends JasyptConfig {\r\n    @Test\r\n    public void jasypt_encrypt_decrypt_test() {\r\n        String plainText = "tkdanwlrn!1";\r\n\r\n        StandardPBEStringEncryptor jasypt = new StandardPBEStringEncryptor();\r\n        jasypt.setPassword("password");\r\n\r\n        String encryptedText = jasypt.encrypt(plainText);\r\n        String decryptedText = jasypt.decrypt(encryptedText);\r\n\r\n        System.out.println(encryptedText);\r\n\r\n        assertThat(plainText).isEqualTo(decryptedText);\r\n    }\r\n}\n'})})]})}function d(n={}){const{wrapper:r}={...(0,i.R)(),...n.components};return r?(0,s.jsx)(r,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}}}]);