"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[208377],{529087:(r,e,n)=>{n.d(e,{R:()=>i,x:()=>s});var t=n(596363);const o={},c=t.createContext(o);function i(r){const e=t.useContext(c);return t.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function s(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(o):r.components||o:i(r.components),t.createElement(c.Provider,{value:e},r.children)}},839322:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"grpc/grpc go","title":"grpc go","description":"server","source":"@site/docs/grpc/grpc go.md","sourceDirName":"grpc","slug":"/grpc/grpc go","permalink":"/docs/grpc/grpc go","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"grpc install","permalink":"/docs/grpc/grpc compiler - protoc"},"next":{"title":"grpc grpc-web","permalink":"/docs/grpc/grpc grpc-web - browser"}}');var o=n(447259),c=n(529087);const i={},s="grpc go",l={},a=[{value:"server",id:"server",level:2},{value:"client",id:"client",level:2}];function g(r){const e={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,c.R)(),...r.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"grpc-go",children:"grpc go"})}),"\n",(0,o.jsx)(e.h2,{id:"server",children:"server"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'package main\r\n\r\nimport (\r\n\t"log"\r\n\t"net"\r\n\r\n\tpb "github.com/mailhyuil/greet/proto"\r\n\t"google.golang.org/grpc"\r\n)\r\n\r\nvar addr string = "localhost:50051"\r\n\r\ntype Server struct {\r\n\tpb.GreetServiceServer\r\n}\r\n\r\nfunc main() {\r\n\tlis, err := net.Listen("tcp", addr)\r\n\r\n\tif err != nil {\r\n\t\tlog.Fatalf("failed to listen: %v", err)\r\n\t}\r\n\r\n\tdefer lis.Close()\r\n\tlog.Printf("Listening on %s", addr)\r\n\r\n\ts:= grpc.NewServer()\r\n\tpb.RegisterGreetServiceServer(s, &Server{})\r\n\r\n\tdefer s.Stop()\r\n\tif err = s.Serve(lis); err != nil {\r\n\t\tlog.Fatalf("failed to serve: %v", err)\r\n\t}\r\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"client",children:"client"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'package main\r\n\r\nimport (\r\n\t"log"\r\n\r\n\t"google.golang.org/grpc"\r\n\t"google.golang.org/grpc/credentials/insecure"\r\n)\r\n\r\nvar addr string = "localhost:50051"\r\n\r\nfunc main() {\r\n\tconn, err := grpc.NewClient(addr, grpc.WithTransportCredentials((insecure.NewCredentials())))\r\n\r\n\tif err != nil {\r\n\t\tlog.Fatalf("failed to connect: %v", err)\r\n\t}\r\n\tdefer conn.Close()\r\n}\n'})})]})}function p(r={}){const{wrapper:e}={...(0,c.R)(),...r.components};return e?(0,o.jsx)(e,{...r,children:(0,o.jsx)(g,{...r})}):g(r)}}}]);