"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[872774],{529087:(n,r,a)=>{a.d(r,{R:()=>A,x:()=>s});var e=a(596363);const t={},_=e.createContext(t);function A(n){const r=e.useContext(_);return e.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function s(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:A(n.components),e.createElement(_.Provider,{value:r},n.children)}},741048:(n,r,a)=>{a.r(r),a.d(r,{assets:()=>E,contentTitle:()=>s,default:()=>o,frontMatter:()=>A,metadata:()=>e,toc:()=>T});const e=JSON.parse('{"id":"kafka/kafka \uc138\ud305 settings","title":"kafka \uc138\ud305 settings","description":"bitnami/kafka: kafka\ub9cc \ud3ec\ud568\ub41c \uc774\ubbf8\uc9c0","source":"@site/docs/kafka/kafka \uc138\ud305 settings.md","sourceDirName":"kafka","slug":"/kafka/kafka \uc138\ud305 settings","permalink":"/docs/kafka/kafka \uc138\ud305 settings","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"kafka-ui","permalink":"/docs/kafka/kafka ui"},"next":{"title":"Kubernetes","permalink":"/docs/category/kubernetes"}}');var t=a(447259),_=a(529087);const A={},s="kafka \uc138\ud305 settings",E={},T=[{value:"docker-compose.yaml",id:"docker-composeyaml",level:2},{value:"\ud14c\uc2a4\ud2b8",id:"\ud14c\uc2a4\ud2b8",level:2}];function k(n){const r={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,_.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"kafka-\uc138\ud305-settings",children:"kafka \uc138\ud305 settings"})}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"bitnami/kafka: kafka\ub9cc \ud3ec\ud568\ub41c \uc774\ubbf8\uc9c0"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"confluentinc/cp-kafka: kafka\uc640 confluentinc\uc758 \ub2e4\uc591\ud55c \ud50c\ub7ec\uadf8\uc778\uc774 \uc124\uce58\ub41c \uc774\ubbf8\uc9c0 (e.g. Rest Proxy, Schema Registry, Connect \ub4f1)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"docker-composeyaml",children:"docker-compose.yaml"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsx)(r.p,{children:"window \ud658\uacbd\uc5d0\uc11c memory \ubd80\uc871\uc73c\ub85c \uba48\ucdb0\ubc84\ub9ac\ub294 \uc774\uc288\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(r.p,{children:".wslconfig\uc5d0\uc11c memory\ub97c \ub298\ub824\uc11c \ud574\uacb0"}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:'networks:\r\n  kafka:\r\n\r\nvolumes:\r\n  Kafka00:\r\n  Kafka01:\r\n  Kafka02:\r\n\r\nservices:\r\n  ### Kafka00\r\n  kafka00:\r\n    image: bitnami/kafka:latest\r\n    restart: unless-stopped\r\n    container_name: kafka00\r\n    ports:\r\n      - "10000:9094"\r\n    environment:\r\n      - KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=true\r\n      # KRaft settings\r\n      - KAFKA_CFG_BROKER_ID=0\r\n      - KAFKA_CFG_NODE_ID=0\r\n      - KAFKA_KRAFT_CLUSTER_ID=HsDBs9l6UUmQq7Y5E6bNlw\r\n      - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka00:9093,1@kafka01:9093,2@kafka02:9093\r\n      - KAFKA_CFG_PROCESS_ROLES=controller,broker\r\n      # Listeners\r\n      - ALLOW_PLAINTEXT_LISTENER=yes\r\n      - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093,EXTERNAL://:9094\r\n      - KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka00:9092,EXTERNAL://127.0.0.1:10000\r\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,EXTERNAL:PLAINTEXT,PLAINTEXT:PLAINTEXT\r\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\r\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT\r\n      # Clustering\r\n      - KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_MIN_ISR=2\r\n    networks:\r\n      - kafka\r\n    volumes:\r\n      - "Kafka00:/bitnami/kafka"\r\n  ### Kafka01\r\n  kafka01:\r\n    image: bitnami/kafka:latest\r\n    restart: unless-stopped\r\n    container_name: kafka01\r\n    ports:\r\n      - "10001:9094"\r\n    environment:\r\n      - KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=true\r\n      # KRaft settings\r\n      - KAFKA_CFG_BROKER_ID=1\r\n      - KAFKA_CFG_NODE_ID=1\r\n      - KAFKA_KRAFT_CLUSTER_ID=HsDBs9l6UUmQq7Y5E6bNlw\r\n      - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka00:9093,1@kafka01:9093,2@kafka02:9093\r\n      - KAFKA_CFG_PROCESS_ROLES=controller,broker\r\n      # Listeners\r\n      - ALLOW_PLAINTEXT_LISTENER=yes\r\n      - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093,EXTERNAL://:9094\r\n      - KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka01:9092,EXTERNAL://127.0.0.1:10001\r\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,EXTERNAL:PLAINTEXT,PLAINTEXT:PLAINTEXT\r\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\r\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT\r\n      # Clustering\r\n      - KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_MIN_ISR=2\r\n    networks:\r\n      - kafka\r\n    volumes:\r\n      - "Kafka01:/bitnami/kafka"\r\n  ## Kafka02\r\n  kafka02:\r\n    image: bitnami/kafka:latest\r\n    restart: unless-stopped\r\n    container_name: kafka02\r\n    ports:\r\n      - "10002:9094"\r\n    environment:\r\n      - KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=true\r\n      # KRaft settings\r\n      - KAFKA_CFG_BROKER_ID=2\r\n      - KAFKA_CFG_NODE_ID=2\r\n      - KAFKA_KRAFT_CLUSTER_ID=HsDBs9l6UUmQq7Y5E6bNlw\r\n      - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka00:9093,1@kafka01:9093,2@kafka02:9093\r\n      - KAFKA_CFG_PROCESS_ROLES=controller,broker\r\n      # Listeners\r\n      - ALLOW_PLAINTEXT_LISTENER=yes\r\n      - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093,EXTERNAL://:9094\r\n      - KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka02:9092,EXTERNAL://127.0.0.1:10002\r\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,EXTERNAL:PLAINTEXT,PLAINTEXT:PLAINTEXT\r\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\r\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT\r\n      # Clustering\r\n      - KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=3\r\n      - KAFKA_CFG_TRANSACTION_STATE_LOG_MIN_ISR=2\r\n    networks:\r\n      - kafka\r\n    volumes:\r\n      - "Kafka02:/bitnami/kafka"\r\n\r\n  kafka-ui:\r\n    image: provectuslabs/kafka-ui:latest\r\n    restart: unless-stopped\r\n    container_name: kafka-ui\r\n    ports:\r\n      - "8080:8080"\r\n    environment:\r\n      - KAFKA_CLUSTERS_0_NAME=Local-Kraft-Cluster\r\n      - KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka00:9092,kafka01:9092,kafka02:9092\r\n      - DYNAMIC_CONFIG_ENABLED=true\r\n      - KAFKA_CLUSTERS_0_AUDIT_TOPICAUDITENABLED=true\r\n      - KAFKA_CLUSTERS_0_AUDIT_CONSOLEAUDITENABLED=true\r\n      #- KAFKA_CLUSTERS_0_METRICS_PORT=9999\r\n    depends_on:\r\n      - kafka00\r\n      - kafka01\r\n      - kafka02\r\n    networks:\r\n      - kafka\n'})}),"\n",(0,t.jsx)(r.h2,{id:"\ud14c\uc2a4\ud2b8",children:"\ud14c\uc2a4\ud2b8"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sh",children:"docker exec -it kafka00 bash\r\n\r\n# \ud1a0\ud53d \uc0dd\uc131\r\nkafka-topics.sh --create --topic topic1 --bootstrap-server localhost:9092 --replication-factor 1 --partitions 3\r\n# \ud1a0\ud53d \ub9ac\uc2a4\ud2b8 \ucd9c\ub825\r\nkafka-topics.sh --list --bootstrap-server localhost:9092\r\n# \ud1a0\ud53d \uc0c1\uc138 \uc870\ud68c\r\nkafka-topics.sh --describe --topic topic1 --bootstrap-server localhost:9092\r\n# \ud1a0\ud53d \uc0ad\uc81c\r\nkafka-topics.sh --delete --bootstrap-server localhost:9092 --topic topic1\r\n\r\n# \ucee8\uc288\uba38 \uc2e4\ud589\r\ncd /opt/kafka_2.13-2.8.1/bin/\r\n./kafka-console-consumer.sh --topic topic1 --bootstrap-server localhost:9092 # (\uc635\uc158 --group \uadf8\ub8f9\uba85)\r\n# \ud504\ub85c\ub4c0\uc11c \uc2e4\ud589\r\n# \uc2e4\ud589 \uc2dc \uc785\ub825\ucc3d\uc73c\ub85c \ubcc0\ud558\uace0 \uac12\uc744 \uc785\ub825\ud558\uba74 \ucee8\uc288\uba38\uc5d0 \ub3c4\ucc29\ud55c\ub2e4.\r\ncd /opt/kafka_2.13-2.8.1/bin/\r\n./kafka-console-producer.sh --topic topic1 --broker-list localhost:9092\n"})})]})}function o(n={}){const{wrapper:r}={...(0,_.R)(),...n.components};return r?(0,t.jsx)(r,{...n,children:(0,t.jsx)(k,{...n})}):k(n)}}}]);