"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["301194"],{177030:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>s,toc:()=>u,default:()=>d,metadata:()=>r,assets:()=>o,contentTitle:()=>i});var r=JSON.parse('{"id":"linux/linux kernel connection establishment","title":"linux kernel connection establishment","description":"tcp\uC5D0\uC11C \uCEE4\uB125\uC158\uC744 \uC218\uB9BD\uD574\uC8FC\uB294 \uC8FC\uCCB4\uB294 \uCEE4\uB110\uC774\uB2E4.","source":"@site/docs/linux/linux kernel connection establishment.md","sourceDirName":"linux","slug":"/linux/linux kernel connection establishment","permalink":"/docs/linux/linux kernel connection establishment","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"linux kernel SO_REUSEPORT","permalink":"/docs/linux/linux kernel SO_REUSEPORT"},"next":{"title":"\uC2DC\uC2A4\uD15C \uD638\uCD9C (System call)","permalink":"/docs/linux/linux kernel syscall - system call"}}'),c=t(447259),l=t(255511);let s={},i="linux kernel connection establishment",o={},u=[];function a(e){let n={blockquote:"blockquote",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"linux-kernel-connection-establishment",children:"linux kernel connection establishment"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"tcp\uC5D0\uC11C \uCEE4\uB125\uC158\uC744 \uC218\uB9BD\uD574\uC8FC\uB294 \uC8FC\uCCB4\uB294 \uCEE4\uB110\uC774\uB2E4."}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\uCEE4\uB110\uC740 SYN Queue\uC640 Accept Queue\uB97C \uAC00\uC9C0\uACE0 \uC788\uB2E4."}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"queue\uAC00 \uAC00\uB4DD \uCC28\uBA74 connection\uC740 \uAC70\uBD80\uB41C\uB2E4 (backend \uD504\uB85C\uC138\uC2A4\uAC00 \uC77C\uC744 \uBE60\uB974\uAC8C \uCC98\uB9AC \uBABB\uD560 \uC2DC \uBC1C\uC0DD)"}),"\n",(0,c.jsx)(n.p,{children:"backend process\uAC00 \uBE60\uB974\uAC8C accept()\uC744 \uD638\uCD9C\uD558\uB294\uAC8C \uC131\uB2A5\uC801\uC73C\uB85C \uC911\uC694\uD558\uB2E4."}),"\n",(0,c.jsx)(n.p,{children:"proxy\uB97C \uD1B5\uD574 backend process\uB97C \uC5EC\uB7EC\uAC1C \uB46C\uC11C \uD574\uACB0\uD560 \uC218 \uC788\uB2E4."}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"queue\uC758 \uD06C\uAE30\uB294 backlog \uAC12\uC73C\uB85C \uC124\uC815 \uAC00\uB2A5\uD558\uB2E4 (default: 128)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"client SYN # kernel\uC774 SYN queue\uC5D0 \uC800\uC7A5\r\nkernel SYN/ACK # server SYN/ACK\r\nclient ACK # kernel\uC774 SYN queue\uC5D0\uC11C \uC81C\uAC70 -> socket\uACFC socket descriptor\uB97C \uC0DD\uC131 -> Accept queue\uC5D0 \uC800\uC7A5 (socket\uC740 pending \uC0C1\uD0DC)\r\n\r\nserver accept() # Accept queue\uC5D0 \uC788\uB294 \uCCAB\uBC88\uC9F8 connection\uC744 \uAC00\uC838\uC634 (socket\uC774 connected \uC0C1\uD0DC\uAC00 \uB428)\r\n\r\nclient send data # client\uAC00 \uB370\uC774\uD130\uB97C \uC804\uC1A1\r\nkernel put it into receive buffer # kernel\uC758 receive buffer\uC5D0 \uB370\uC774\uD130\uB97C \uC800\uC7A5\r\nserver read() or recv() # socket\uC758 receive buffer\uC5D0\uC11C \uB370\uC774\uD130\uB97C \uC77D\uC74C\r\nserver write() or send() # socket\uC758 send buffer\uC5D0 \uB370\uC774\uD130\uB97C \uC800\uC7A5\r\nkernel put it into send buffer # kernel\uC758 send buffer\uC5D0 \uB370\uC774\uD130\uB97C \uC800\uC7A5\r\nkernel send data # client\uC5D0 \uB370\uC774\uD130\uB97C \uC804\uC1A1\r\n\r\nserver close() # connection \uC885\uB8CC\r\nkernel connection closed # socket file descriptor \uC81C\uAC70\n"})})]})}function d(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},255511:function(e,n,t){t.d(n,{R:()=>s,x:()=>i});var r=t(596363);let c={},l=r.createContext(c);function s(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);