"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["665394"],{539045:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>l,toc:()=>a,default:()=>d,metadata:()=>s,assets:()=>c,contentTitle:()=>o});var s=JSON.parse('{"id":"nginx/nginx https TLS & SSL","title":"nginx https TLS & SSL","description":"nginx ssl","source":"@site/docs/nginx/nginx https TLS & SSL.md","sourceDirName":"nginx","slug":"/nginx/nginx https TLS & SSL","permalink":"/docs/nginx/nginx https TLS & SSL","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx https TLS & SSL OCSP - Online Certificate Status Protocol - ssl_trusted_certificate","permalink":"/docs/nginx/nginx https TLS & SSL OCSP - Online Certificate Status Protocol - ssl_trusted_certificate"},"next":{"title":"nginx load balancing","permalink":"/docs/nginx/nginx load balancing sticky session"}}'),r=t(447259),i=t(255511);let l={},o,c={},a=[{value:"nginx ssl",id:"nginx-ssl",level:2},{value:"nginx default.conf",id:"nginx-defaultconf",level:3}];function u(n){let e={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"nginx-ssl",children:"nginx ssl"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"nginx \uCEE8\uD14C\uC774\uB108 \uD3EC\uD2B8 80, 443 \uC5F4\uAE30"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"EC2 \uC778\uC2A4\uD134\uC2A4 \uBC29\uD654\uBCBD 80, 443 \uC5F4\uAE30"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"mkdir /root/ssl/ && cd /root/ssl\r\nopenssl req -x509 -days 365 -nodes -newkey rsa:4096 -keyout ssl.key -out ssl.crt\n"})}),"\n",(0,r.jsx)(e.h3,{id:"nginx-defaultconf",children:"nginx default.conf"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-conf",children:"server {\r\n    listen 80;\r\n    listen [::]:80;\r\n    server_name my_server_name;\r\n\r\n    # client\uC5D0\uAC8C https://$host$request_uri\uB85C \uB9AC\uB2E4\uC774\uB809\uD2B8 \uD558\uB77C\uB294 301 \uC751\uB2F5\uC744 \uBCF4\uB0C4\r\n    return 301 https://$host$request_uri;\r\n}\r\n\r\nserver {\r\n    listen 443 ssl;\r\n    listen [::]:443 ssl;\r\n    server_name my_server_name;\r\n\r\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\r\n    ssl_certificate /etc/nginx/ssl/ssl_certificate.pem;\r\n    ssl_certificate_key /etc/nginx/ssl/ssl_certificate_key.pem;\r\n\r\n    # (optional) enable OCSP stapling\r\n    ssl_trusted_certificate /etc/nginx/ssl/ssl_trusted_certificate.pem;\r\n    ssl_stapling on;\r\n    ssl_stapling_verify on;\r\n    resolver 8.8.8.8 1.1.1.1; # \uB124\uC784\uC11C\uBC84\uC758 \uC8FC\uC18C (\uD638\uC2A4\uD305 \uC5C5\uCCB4\uC758)\r\n\r\n    location / {\r\n        root /usr/share/nginx/html;\r\n        index index.html;\r\n        try_files $uri $uri/ /index.html =404;\r\n    }\r\n\r\n    location /api/v1/ {\r\n        proxy_pass http://localhost:20001;\r\n    }\r\n}\n"})})]})}function d(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}},255511:function(n,e,t){t.d(e,{R:()=>l,x:()=>o});var s=t(596363);let r={},i=s.createContext(r);function l(n){let e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);