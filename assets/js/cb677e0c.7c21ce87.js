"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["48187"],{476659:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>s,toc:()=>l,default:()=>p,metadata:()=>t,assets:()=>a,contentTitle:()=>c});var t=JSON.parse('{"id":"electron/electron ipcMain","title":"electron ipcMain","description":"to Browser from Main","source":"@site/docs/electron/electron ipcMain.md","sourceDirName":"electron","slug":"/electron/electron ipcMain","permalink":"/docs/electron/electron ipcMain","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"electron http","permalink":"/docs/electron/electron http"},"next":{"title":"electron ipcRenderer","permalink":"/docs/electron/electron ipcRenderer"}}'),o=r(447259),i=r(255511);let s={},c="electron ipcMain",a={},l=[{value:"to Browser from Main",id:"to-browser-from-main",level:2},{value:"to Main from Browser",id:"to-main-from-browser",level:2},{value:"Browser",id:"browser",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"electron-ipcmain",children:"electron ipcMain"})}),"\n",(0,o.jsx)(n.h2,{id:"to-browser-from-main",children:"to Browser from Main"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"preload.js"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'// preload.js\r\n\r\nconst { contextBridge, ipcRenderer } = require("electron");\r\n\r\n// Expose protected methods that allow the renderer process to use\r\n// the ipcRenderer without exposing the entire object\r\ncontextBridge.exposeInMainWorld("api", {\r\n  send: (channel, data) => {\r\n    // whitelist channels\r\n    let validChannels = ["toMain"];\r\n    if (validChannels.includes(channel)) {\r\n      ipcRenderer.send(channel, data);\r\n    }\r\n  },\r\n  receive: (channel, func) => {\r\n    let validChannels = ["fromMain"];\r\n    if (validChannels.includes(channel)) {\r\n      // Deliberately strip event as it includes `sender`\r\n      ipcRenderer.on(channel, (event, ...args) => func(...args));\r\n    }\r\n  },\r\n});\n'})}),"\n",(0,o.jsx)(n.h2,{id:"to-main-from-browser",children:"to Main from Browser"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"ipcMain"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'// ipcMain\r\n\r\nipcMain.on("toMain", (event, args) => {\r\n  fs.readFile("path/to/file", (error, data) => {\r\n    // Do something with file contents\r\n\r\n    // Send result back to renderer process\r\n    win.webContents.send("fromMain", responseObj);\r\n  });\r\n});\n'})}),"\n",(0,o.jsx)(n.h2,{id:"browser",children:"Browser"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'// Called when message received from main process\r\nwindow.api.receive("fromMain", (data) => {\r\n  console.log(`Received ${data} from main process`);\r\n});\r\n\r\n// Send a message to the main process\r\nwindow.api.send("toMain", "some data");\n'})})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},255511:function(e,n,r){r.d(n,{R:()=>s,x:()=>c});var t=r(596363);let o={},i=t.createContext(o);function s(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);