"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["494731"],{789097:function(r,e,n){n.r(e),n.d(e,{frontMatter:()=>s,toc:()=>d,default:()=>p,metadata:()=>t,assets:()=>a,contentTitle:()=>c});var t=JSON.parse('{"id":"spring/Spring Reactor","title":"Spring Reactor (\uC2A4\uD504\uB9C1 \uB9AC\uC561\uD130)","description":"pom.xml","source":"@site/docs/spring/Spring Reactor.md","sourceDirName":"spring","slug":"/spring/Spring Reactor","permalink":"/docs/spring/Spring Reactor","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"SpringMVC + JPA","permalink":"/docs/spring/Spring MVC + JPA"},"next":{"title":"JWT","permalink":"/docs/spring/Spring Security - \uC2A4\uD504\uB9C1 \uC2DC\uD050\uB9AC\uD2F0 JWT"}}'),i=n(447259),o=n(255511);let s={},c="Spring Reactor (\uC2A4\uD504\uB9C1 \uB9AC\uC561\uD130)",a={},d=[{value:"pom.xml",id:"pomxml",level:2},{value:"Observer pattern",id:"observer-pattern",level:2},{value:"WebClient",id:"webclient",level:2}];function l(r){let e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,o.R)(),...r.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"spring-reactor-\uC2A4\uD504\uB9C1-\uB9AC\uC561\uD130",children:"Spring Reactor (\uC2A4\uD504\uB9C1 \uB9AC\uC561\uD130)"})}),"\n",(0,i.jsx)(e.h2,{id:"pomxml",children:"pom.xml"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-xml",children:"\x3c!-- webflux \uC6F9\uC5D0\uC11C Flux\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC788\uAC8C --\x3e\r\n<dependency>\r\n    <groupId>org.springframework</groupId>\r\n    <artifactId>spring-webflux</artifactId>\r\n    <version>${org.springframework-version}</version>\r\n</dependency>\r\n\r\n\x3c!-- reactor-core --\x3e\r\n<dependency>\r\n    <groupId>io.projectreactor</groupId>\r\n    <artifactId>reactor-core</artifactId>\r\n    <version>3.4.22</version>\r\n</dependency>\r\n\r\n\x3c!-- reactor-netty --\x3e\r\n<dependency>\r\n    <groupId>io.projectreactor.netty</groupId>\r\n    <artifactId>reactor-netty</artifactId>\r\n    <version>0.9.25.RELEASE</version>\r\n</dependency>\r\n\r\n\x3c!-- jackson-core WebClinet\uB85C \uBC1B\uC740 \uB370\uC774\uD130\uB97C \uC5ED\uC9C1\uB82C\uD654\uD558\uAE30 \uC704\uD55C \uB3C4\uAD6C --\x3e\r\n<dependency>\r\n    <groupId>com.fasterxml.jackson.core</groupId>\r\n    <artifactId>jackson-core</artifactId>\r\n    <version>2.13.3</version>\r\n</dependency>\r\n\r\n\x3c!-- jackson-databind --\x3e\r\n<dependency>\r\n    <groupId>com.fasterxml.jackson.core</groupId>\r\n    <artifactId>jackson-databind</artifactId>\r\n    <version>2.13.3</version>\r\n</dependency>\n"})}),"\n",(0,i.jsx)(e.h2,{id:"observer-pattern",children:"Observer pattern"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"Publisher(Provider)"}),"\r\n",(0,i.jsx)(e.code,{children:"Flux"})," ",(0,i.jsx)(e.code,{children:"Mono"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"Subscriber(Consumer)"})," // Publisher\uC5D0\uAC8C \uB370\uC774\uD130\uB97C \uBC1B\uC744 \uAC1D\uCCB4"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"Subscription(Message)"})," // Publisher\uAC00 \uBCF4\uB0B4\uB294 \uB370\uC774\uD130"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"Processor<T,R> // Publisher\uC774\uBA74\uC11C Subscriber T: Processor"}),"\uAC00 \uC0DD\uC0B0\uD558\uB294 \uC6D0\uC18C\uD0C0\uC785 ",(0,i.jsx)(e.code,{children:"R: Processor"}),"\uAC00 \uC18C\uBE44\uD558\uB294 \uC6D0\uC18C\uD0C0\uC785"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'Subscriber<Integer> subscriber = new Subscriber<>() {\r\n			Subscription subscription;\r\n\r\n			@Override\r\n			public void onSubscribe(Subscription s) {\r\n				System.out.println("onSubscribe");\r\n				this.subscription = s;\r\n				this.subscription.request(1); // Publisher\uC5D0\uAC8C \uC694\uCCAD \uD69F\uC218 long \uD0C0\uC785 // Long.MAX_VALUE\uC744 \uC0AC\uC6A9\uD558\uBA74 \uACC4\uC18D \uC694\uCCAD\uC744 \uBCF4\uB0C4\r\n			}\r\n\r\n			@Override\r\n			public void onNext(Integer t) {\r\n				System.out.println(t); // onSubscribe\uAC00 \uC131\uACF5\uC2DC \uD638\uCD9C\uB418\uB294 \uBA54\uC18C\uB4DC\r\n				System.out.println("onNext");\r\n			}\r\n\r\n			@Override\r\n			public void onError(Throwable t) {\r\n				System.out.println("onError");\r\n			}\r\n\r\n			@Override\r\n			public void onComplete() {\r\n				System.out.println("onComplete");\r\n			}\r\n\r\n		};\r\n\r\n		Flux<Integer> seq = Flux.just(1,2,3);\r\n\r\n		seq.subscribe(sub);\n'})}),"\n",(0,i.jsx)(e.h2,{id:"webclient",children:"WebClient"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'WebClient webClient = WebClient.create("https://api.openweathermap.org/data/2.5/weather");\r\n\r\nWeatherRoot weather = webClient.get().uri("?lat=37.7278127"\r\n        + "&lon=127.5112565"\r\n        + "&appid=945a820a0cfd85e6354d9c2a9a628ba9")\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .exchange().flatMap(res -> {\r\n            return res.bodyToMono(WeatherRoot.class);\r\n        }).block();\n'})})]})}function p(r={}){let{wrapper:e}={...(0,o.R)(),...r.components};return e?(0,i.jsx)(e,{...r,children:(0,i.jsx)(l,{...r})}):l(r)}},255511:function(r,e,n){n.d(e,{R:()=>s,x:()=>c});var t=n(596363);let i={},o=t.createContext(i);function s(r){let e=t.useContext(o);return t.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function c(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(i):r.components||i:s(r.components),t.createElement(o.Provider,{value:e},r.children)}}}]);