"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["478365"],{98720:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>c,toc:()=>l,default:()=>d,metadata:()=>r,assets:()=>s,contentTitle:()=>u});var r=JSON.parse('{"id":"nuxtjs/v-count-increment","title":"v-count-increment","description":"plugins","source":"@site/docs/nuxtjs/v-count-increment.md","sourceDirName":"nuxtjs","slug":"/nuxtjs/v-count-increment","permalink":"/docs/nuxtjs/v-count-increment","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ohmyfetch","permalink":"/docs/nuxtjs/ohmyfetch"},"next":{"title":"vee-validate resetForm","permalink":"/docs/nuxtjs/vee-validate resetForm"}}'),i=t(447259),o=t(255511);let c={},u="v-count-increment",s={},l=[{value:"plugins",id:"plugins",level:2},{value:"usage",id:"usage",level:2}];function a(e){let n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"v-count-increment",children:"v-count-increment"})}),"\n",(0,i.jsx)(n.h2,{id:"plugins",children:"plugins"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import { Directive } from \"nuxt/dist/app/compat/capi\"\r\n\r\nexport default defineNuxtPlugin((nuxtapp) => {\r\n    nuxtapp.vueApp.directive('count-increment', <Directive<HTMLElement, number>>{\r\n        mounted(el, { value }) {\r\n\r\n            value = Math.round(value);\r\n\r\n            if (!value) {\r\n                el.innerHTML = '0';\r\n                return;\r\n            }\r\n\r\n            let now = value;\r\n            const count = setInterval(() => {\r\n                el.innerHTML = Math.ceil(value - now).toString();\r\n\r\n                if (now < 1) {\r\n                    clearInterval(count);\r\n                }\r\n\r\n                const step = now / 10;\r\n\r\n                now -= step;\r\n            }, 25);\r\n        }\r\n    })\r\n})\n"})}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<h1 v-count-increment="after.total">0</h1>\n'})})]})}function d(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},255511:function(e,n,t){t.d(n,{R:()=>c,x:()=>u});var r=t(596363);let i={},o=r.createContext(i);function c(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function u(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);