"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[695669],{41730:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>i});const n=JSON.parse('{"id":"angular/angular route strategy RouteReuseStrategy","title":"angular route RouteReuseStrategy","description":"list \ud398\uc774\uc9c0 \ub4f1 \uc0ac\uc6a9\uc790\uac00 \ub2e4\uc2dc \ubc29\ubb38\uc744 \uc790\uc8fc \ud558\ub294 \ud398\uc774\uc9c0\uc5d0 \ub300\ud574 \uc7ac\uc0ac\uc6a9\uc744 \ud558\uc5ec \uc131\ub2a5\uc744 \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub2e4.","source":"@site/docs/angular/angular route strategy RouteReuseStrategy.md","sourceDirName":"angular","slug":"/angular/angular route strategy RouteReuseStrategy","permalink":"/docs/angular/angular route strategy RouteReuseStrategy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ngx-quicklink","permalink":"/docs/angular/angular route strategy QuicklinkStrategy"},"next":{"title":"angular url parameter","permalink":"/docs/angular/angular route url parameter"}}');var o=r(447259),u=r(529087);const a={},s="angular route RouteReuseStrategy",l={},i=[{value:"CustomRouteReuseStrategy",id:"customroutereusestrategy",level:2},{value:"app.config.ts",id:"appconfigts",level:2},{value:"app.routes.ts",id:"approutests",level:2}];function c(e){const t={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,u.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"angular-route-routereusestrategy",children:"angular route RouteReuseStrategy"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"list \ud398\uc774\uc9c0 \ub4f1 \uc0ac\uc6a9\uc790\uac00 \ub2e4\uc2dc \ubc29\ubb38\uc744 \uc790\uc8fc \ud558\ub294 \ud398\uc774\uc9c0\uc5d0 \ub300\ud574 \uc7ac\uc0ac\uc6a9\uc744 \ud558\uc5ec \uc131\ub2a5\uc744 \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub2e4."}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"\ub108\ubb34 \ub9ce\uc774 \uc0ac\uc6a9\ud558\uba74 \uba54\ubaa8\ub9ac \ub204\uc218\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"customroutereusestrategy",children:"CustomRouteReuseStrategy"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:'import { ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy, RouterStateSnapshot } from "@angular/router";\r\n\r\nexport class CustomRouteReuseStrategy implements RouteReuseStrategy {\r\n  private storedRoutes = new Map<string, DetachedRouteHandle>();\r\n\r\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\r\n    // Whether the given route should detach for later reuse.\r\n    // \ud604\uc7ac \ub77c\uc6b0\ud2b8\ub97c \uc7ac\uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c detach\ud560\uc9c0 \uc5ec\ubd80\ub97c \uacb0\uc815\r\n    // true \uc2dc store \ud638\ucd9c\r\n    return !!route.data["reuse"];\r\n  }\r\n\r\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle | null) {\r\n    if (handle) {\r\n      // shouldDetach true \uc2dc \ud638\ucd9c\r\n      // route url\uc744 key\ub85c \ud558\uc5ec \uc800\uc7a5\ud558\ub294 \ucf54\ub4dc\ub97c \uad6c\ud604\r\n      this.storedRoutes.set(this.getRouteUrl(route), handle);\r\n    }\r\n  }\r\n\r\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\r\n    return (\r\n      // Returns false, meaning the route (and its subtree) is never reattached\r\n      // true \uc2dc retrieve \ud638\ucd9c (store\uc5d0\uc11c \uc800\uc7a5\ud55c route\ub97c \ubc18\ud658\ud558\uc5ec \ub2e4\uc2dc \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c)\r\n      !!route.data["reuse"] && !!this.storedRoutes.get(this.getRouteUrl(route))\r\n    );\r\n  }\r\n\r\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle | null {\r\n    // shouldAttach\uac00 true\uc774\uba74 \ud638\ucd9c\r\n    // store\uc5d0\uc11c \uc800\uc7a5\ud55c route\ub97c \ubc18\ud658\ud558\ub294 \ucf54\ub4dc\ub97c \uad6c\ud604 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc744 \uc2dc null\uc744 \ubc18\ud658\r\n    return this.storedRoutes.get(this.getRouteUrl(route)) || null;\r\n  }\r\n\r\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\r\n    // Determines if a route should be reused.\r\n    // This strategy returns true when the future route config and current route config are identical.\r\n    // route\ub97c \uc7ac\uc0ac\uc6a9\ud560\uc9c0 \uc5ec\ubd80\ub97c \uacb0\uc815\r\n    return future.routeConfig === curr.routeConfig && future.data["reuse"];\r\n  }\r\n\r\n  private getRouteUrl(route: ActivatedRouteSnapshot): string {\r\n    while (route.firstChild) {\r\n      route = route.firstChild;\r\n    }\r\n    return ((route as any)["_routerState"] as RouterStateSnapshot).url;\r\n  }\r\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"appconfigts",children:"app.config.ts"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"{ provide: RouteReuseStrategy, useClass: CustomRouteReuseStrategy },\n"})}),"\n",(0,o.jsx)(t.h2,{id:"approutests",children:"app.routes.ts"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"{\r\n    path: 'posts',\r\n    children: [\r\n      {\r\n        path: '',\r\n        data: { reuse: true }\r\n        loadComponent: () => import('./pages/post/post-list/post-list.component'),\r\n      },\r\n      {\r\n        path: ':id',\r\n        loadComponent: () => import('./pages/post/post-detail/post-detail.component'),\r\n      },\r\n    ],\r\n},\n"})})]})}function d(e={}){const{wrapper:t}={...(0,u.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},529087:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>s});var n=r(596363);const o={},u=n.createContext(o);function a(e){const t=n.useContext(u);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(u.Provider,{value:t},e.children)}}}]);