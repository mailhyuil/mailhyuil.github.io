"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[506626],{453771:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"nodejs/nodejs module async_hooks","title":"nodejs module async_hooks","description":"\uc77c\ubc18\uc801\uc73c\ub85c \ube44\ub3d9\uae30 \ud568\uc218 \ub0b4\uc5d0\uc11c\ub294 \ucee8\ud14d\uc2a4\ud2b8\uac00 \ub36e\uc5b4\uc50c\uc5b4\uc9c0\uac70\ub098 \uc720\uc9c0\ub418\uc9c0 \uc54a\uc74c","source":"@site/docs/nodejs/nodejs module async_hooks.md","sourceDirName":"nodejs","slug":"/nodejs/nodejs module async_hooks","permalink":"/docs/nodejs/nodejs module async_hooks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"node mac address","permalink":"/docs/nodejs/nodejs mac address"},"next":{"title":"hash-file.ts","permalink":"/docs/nodejs/nodejs module crypto hash file"}}');var t=o(447259),r=o(529087);const c={},a="nodejs module async_hooks",l={},d=[{value:"AsyncLocalStorage",id:"asynclocalstorage",level:2},{value:"\uc0ac\uc6a9 \uc608\uc2dc",id:"\uc0ac\uc6a9-\uc608\uc2dc",level:2}];function i(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"nodejs-module-async_hooks",children:"nodejs module async_hooks"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\uc77c\ubc18\uc801\uc73c\ub85c \ube44\ub3d9\uae30 \ud568\uc218 \ub0b4\uc5d0\uc11c\ub294 \ucee8\ud14d\uc2a4\ud2b8\uac00 \ub36e\uc5b4\uc50c\uc5b4\uc9c0\uac70\ub098 \uc720\uc9c0\ub418\uc9c0 \uc54a\uc74c"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"asyncLocalStorage.run\ub0b4\uc5d0\uc11c \ube44\ub3d9\uae30 \ud568\uc218\ub4e4\uc744 \uc2e4\ud589 \uc2dc asyncLocalStorage.getStore()\ub85c \ucee8\ud14d\uc2a4\ud2b8\ub97c \uc720\uc9c0\ud560 \uc218 \uc788\uc74c"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"asynclocalstorage",children:"AsyncLocalStorage"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"This class creates stores that stay coherent through asynchronous operations."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import { AsyncLocalStorage } from "async_hooks";\r\n\r\nconst als = new AsyncLocalStorage();\r\nconst store = { value: 42 };\r\n\r\nals.run(store, () => {\r\n  // \uc774 \uc548\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ubaa8\ub4e0 \ube44\ub3d9\uae30 \uc791\uc5c5\uc740 store\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc74c\r\n  als.getStore(); // return store\r\n});\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\uc0ac\uc6a9-\uc608\uc2dc",children:"\uc0ac\uc6a9 \uc608\uc2dc"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-txt",children:"\u2705 \uac01 \uc694\uccad(Request)\ub9c8\ub2e4 \uace0\uc720\ud55c \ub370\uc774\ud130(Context)\ub97c \uc720\uc9c0\ud574\uc57c \ud560 \ub54c\r\n\u2705 \ub85c\uadf8 \uc2dc\uc2a4\ud15c\uc5d0 \uc694\uccad ID\ub97c \uc790\ub3d9\uc73c\ub85c \ucd94\uac00\ud558\uace0 \uc2f6\uc744 \ub54c\r\n\u2705 \ud2b8\ub79c\uc7ad\uc158\uc744 \uad00\ub9ac\ud558\uace0 \uc2f6\uc744 \ub54c (Database, Redis, Kafka \ub4f1)\r\n\u2705 APM(\uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1) \ubc0f \ubd84\uc0b0 \ud2b8\ub808\uc774\uc2f1(Distributed Tracing)\uc744 \uad6c\ud604\ud560 \ub54c\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},529087:(e,n,o)=>{o.d(n,{R:()=>c,x:()=>a});var s=o(596363);const t={},r=s.createContext(t);function c(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);