"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[669830],{529087:(e,r,t)=>{t.d(r,{R:()=>s,x:()=>a});var n=t(596363);const i={},o=n.createContext(i);function s(e){const r=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(o.Provider,{value:r},e.children)}},594933:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"flutter & dart/flutter State Riverpod AsyncNotifierProvider","title":"flutter State Riverpod AsyncNotifierProvider","description":"AsyncNotifierProvider","source":"@site/docs/flutter & dart/flutter State Riverpod AsyncNotifierProvider.md","sourceDirName":"flutter & dart","slug":"/flutter & dart/flutter State Riverpod AsyncNotifierProvider","permalink":"/docs/flutter & dart/flutter State Riverpod AsyncNotifierProvider","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"flutter Provider","permalink":"/docs/flutter & dart/flutter State Provider"},"next":{"title":"flutter State Riverpod NotifierProvider","permalink":"/docs/flutter & dart/flutter State Riverpod NotifierProvider"}}');var i=t(447259),o=t(529087);const s={},a=void 0,d={},l=[{value:"AsyncNotifierProvider",id:"asyncnotifierprovider",level:2},{value:"ConsumerStatefulWidget",id:"consumerstatefulwidget",level:2}];function c(e){const r={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"asyncnotifierprovider",children:"AsyncNotifierProvider"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"\ube44\ub3d9\uae30\ub85c \ub370\uc774\ud130\ub97c \ubc1b\uc544\uc62c \ub54c \uc0ac\uc6a9"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"state = AsyncValue.data(value) \ub85c \ub370\uc774\ud130 \ubcc0\uacbd // state = value\ub294 \uc0ac\uc6a9 \ubd88\uac00"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-dart",children:"class User {\r\n  name: String;\r\n  age: int;\r\n  User({required this.name, required this.age});\r\n}\r\n\r\nclass SomeAsyncNotifier extends AsyncNotifier<List<User>> {\r\n  List<User> _list = [];\r\n\r\n  @override\r\n  FutureOr<List<User>> build() async {\r\n    await Future.delayed(Duration(seconds: 3));\r\n    return _list;\r\n  }\r\n\r\n  void addUser(User user) {\r\n    state = AsyncValue.loading(); // \uac12\uc744 \ubc1b\uc544\uc62c \ub54c\uae4c\uc9c0 \ub85c\ub529 \uc0c1\ud0dc\ub85c \ubcc0\uacbd\r\n    await Future.delayed(Duration(seconds: 3));\r\n    _list = [..._list, user];\r\n    state = AsyncValue.data(_list);\r\n  }\r\n}\r\n\r\n// Provider \uc0dd\uc131\r\nfinal someAsyncNotifierProvider = AsyncNotifierProvider<SomeAsyncNotifier, List<User>>(() => SomeAsyncNotifier());\n"})}),"\n",(0,i.jsx)(r.h2,{id:"consumerstatefulwidget",children:"ConsumerStatefulWidget"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"StatefulWidget\uc5d0\uc11c\ub294 WidgetRef ref \uc5c6\uc774 \ubc14\ub85c \uc811\uadfc \uac00\ub2a5"}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"ref.watch().when \uc744 \uc0ac\uc6a9\ud574\uc11c listen"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-dart",children:"class SomeScreen extends ConsumerStatefulWidget {\r\n  @override\r\n  SomeScreenState createState() => SomeScreenState();\r\n}\r\n\r\nclass SomeScreenState extends ConsumerState<SomeScreen> {\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return ref.watch(someNotifierProvider).when(\r\n      loading: () => CircularProgressIndicator(),\r\n      error: (error, stackTrace) => Text('Could not load data: $error'),\r\n      data: (data) {\r\n        return ListView.builder(\r\n          itemCount: data.length,\r\n          itemBuilder: (context, index) {\r\n            return TextButton(\r\n              child: Text(data[index].name),\r\n              onPressed: () {\r\n                ref.read(someNotifierProvider.notifier).addUser('hyuil');\r\n              },\r\n            );\r\n          },\r\n        );\r\n      },\r\n    );\r\n  }\r\n}\n"})})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);