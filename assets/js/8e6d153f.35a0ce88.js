"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[197057],{377049:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"nginx/nginx CSP","title":"nginx CSP","description":"angular\uc758 index.html\uc5d0 meta \ud0dc\uadf8\ub85c \ub123\uc5b4\ub3c4 \ub418\uc9c0\ub9cc server\uc5d0\uc11c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud55c\ub2e4.","source":"@site/docs/nginx/nginx CSP.md","sourceDirName":"nginx","slug":"/nginx/nginx CSP","permalink":"/docs/nginx/nginx CSP","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx 504 Gateway Timeout","permalink":"/docs/nginx/nginx 504 Gateway Timeout"},"next":{"title":"nginx ip \ucc28\ub2e8 \ud5c8\uc6a9","permalink":"/docs/nginx/nginx IP \ucc28\ub2e8 & \ud5c8\uc6a9"}}');var s=r(447259),a=r(529087);const c={},i="nginx CSP",l={},o=[{value:"helmen.js\uc758 csp\ub97c \uc801\uc6a9",id:"helmenjs\uc758-csp\ub97c-\uc801\uc6a9",level:2},{value:"add_header\ub85c CSP \uc124\uc815",id:"add_header\ub85c-csp-\uc124\uc815",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"nginx-csp",children:"nginx CSP"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"angular\uc758 index.html\uc5d0 meta \ud0dc\uadf8\ub85c \ub123\uc5b4\ub3c4 \ub418\uc9c0\ub9cc server\uc5d0\uc11c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud55c\ub2e4."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"helmenjs\uc758-csp\ub97c-\uc801\uc6a9",children:"helmen.js\uc758 csp\ub97c \uc801\uc6a9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-conf",children:"add_header Content-Security-Policy:\r\n  \"default-src 'self';\r\n  script-src 'self';\r\n  style-src 'self' https: https://cdn.example.com 'unsafe-inline';\r\n  img-src 'self' data:;\r\n  font-src 'self' data: https:;\r\n  connect-src 'self';\r\n  form-action 'self';\r\n  frame-ancestors 'self';\r\n  object-src 'none';\r\n  upgrade-insecure-requests;\r\n  block-all-mixed-content;\" always;\r\n\r\n# (Angular Material \ub4f1\uc5d0\uc11c \uc778\ub77c\uc778 \uc2a4\ud0c0\uc77c\uc774 \ud544\uc694\uc5c6\ub2e4\uba74 'unsafe-inline' \uc81c\uac70)\r\n# (\ud544\uc694\ud558\ub2e4\uba74 \ud2b9\uc815 CDN \ub3c4\uba54\uc778 \ucd94\uac00, \uc608: https://www.googletagmanager.com)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"add_header\ub85c-csp-\uc124\uc815",children:"add_header\ub85c CSP \uc124\uc815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-conf",children:"server {\r\n    server_name example.com;\r\n\r\n    listen 443 ssl;\r\n    # ... SSL \uc124\uc815 ...\r\n\r\n    # server block \uc804\uccb4\uc5d0 CSP \uc124\uc815\r\n    add_header Content-Security-Policy \"default-src 'self'; ...\" always;\r\n\r\n    location / {\r\n        # location block\uc5d0 CSP \uc124\uc815\r\n        add_header Content-Security-Policy \"default-src 'self'; ...\" always;\r\n        root /app/client/browser;\r\n        index index.html;\r\n        try_files $uri $uri/ /index.html =404;\r\n    }\r\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},529087:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>i});var t=r(596363);const s={},a=t.createContext(s);function c(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);