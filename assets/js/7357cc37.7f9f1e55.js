"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[625625],{165678:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"kubernetes/kubectl \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uba85\ub839\uc5b4","title":"kubectl","description":"~/.kube (local)","source":"@site/docs/kubernetes/kubectl \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uba85\ub839\uc5b4.md","sourceDirName":"kubernetes","slug":"/kubernetes/kubectl \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uba85\ub839\uc5b4","permalink":"/docs/kubernetes/kubectl \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uba85\ub839\uc5b4","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud5e4\ub354 \uc81c\uc678\ud558\uae30","permalink":"/docs/kubernetes/kubectl top \ud5e4\ub354 \uc81c\uc678\ud558\uae30"},"next":{"title":"minikube local image \uc0ac\uc6a9\ud558\uae30","permalink":"/docs/kubernetes/minikube local image \uc0ac\uc6a9\ud558\uae30"}}');var c=l(447259),a=l(529087);const s={},o="kubectl",d={},t=[{value:"~/.kube (local)",id:"kube-local",level:2},{value:"/etc/kubernetes (master node)",id:"etckubernetes-master-node",level:2},{value:"/var/lib/kubelet (worker node)",id:"varlibkubelet-worker-node",level:2},{value:"config",id:"config",level:2},{value:"\ub178\ub4dc \uc811\uc18d (ssh)",id:"\ub178\ub4dc-\uc811\uc18d-ssh",level:2},{value:"pod \uc0dd\uc131 (run)",id:"pod-\uc0dd\uc131-run",level:2},{value:"deployment \uc0dd\uc131 (create)",id:"deployment-\uc0dd\uc131-create",level:2},{value:"configmap \uc0dd\uc131 (create)",id:"configmap-\uc0dd\uc131-create",level:2},{value:"secret \uc0dd\uc131 (create)",id:"secret-\uc0dd\uc131-create",level:2},{value:"service \uc0dd\uc131 (expose)",id:"service-\uc0dd\uc131-expose",level:2},{value:"node \uc81c\uc5b4",id:"node-\uc81c\uc5b4",level:2},{value:"\uc624\ube0c\uc81d\ud2b8 \uc0ad\uc81c (delete)",id:"\uc624\ube0c\uc81d\ud2b8-\uc0ad\uc81c-delete",level:2},{value:"\uc774\ubca4\ud2b8 \ud655\uc778 (describe)",id:"\uc774\ubca4\ud2b8-\ud655\uc778-describe",level:2},{value:"yaml \ud30c\uc77c\uc744 \uc77d\uc5b4\uc11c \uc2e4\ud589 (apply)",id:"yaml-\ud30c\uc77c\uc744-\uc77d\uc5b4\uc11c-\uc2e4\ud589-apply",level:2},{value:"yaml \ud30c\uc77c\uc744 \ub3d9\uc801\uc73c\ub85c \uc218\uc815 (edit)",id:"yaml-\ud30c\uc77c\uc744-\ub3d9\uc801\uc73c\ub85c-\uc218\uc815-edit",level:2},{value:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 \ubcf4\uae30 (get)",id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-\ubcf4\uae30-get",level:2},{value:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 namespace\ub85c \ubcf4\uae30",id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-namespace\ub85c-\ubcf4\uae30",level:2},{value:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 labels\ub85c \ubcf4\uae30",id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-labels\ub85c-\ubcf4\uae30",level:2},{value:"label \ucd94\uac00, \ubcc0\uacbd, \uc0ad\uc81c",id:"label-\ucd94\uac00-\ubcc0\uacbd-\uc0ad\uc81c",level:2},{value:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 selector\ub85c \ubcf4\uae30",id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-selector\ub85c-\ubcf4\uae30",level:2},{value:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 \ubaa8\ub4e0 \uc815\ubcf4 \ubcf4\uae30 (-o wide)",id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-\ubaa8\ub4e0-\uc815\ubcf4-\ubcf4\uae30--o-wide",level:2},{value:"jsonpath\ub85c \uc870\ud68c (-o jsonpath=&quot;&quot;)",id:"jsonpath\ub85c-\uc870\ud68c--o-jsonpath",level:2},{value:"\uc815\ub82c\ud574\uc11c \ubcf4\uae30 (--sort-by=)",id:"\uc815\ub82c\ud574\uc11c-\ubcf4\uae30---sort-by",level:2},{value:"\ub85c\uadf8 \ubcf4\uae30 (logs)",id:"\ub85c\uadf8-\ubcf4\uae30-logs",level:2},{value:"\ucd5c\uadfc \uc2e4\ud328\ud55c \uc778\uc2a4\ud134\uc2a4\uc758 \ub85c\uadf8 \ubcf4\uae30 (logs -p)",id:"\ucd5c\uadfc-\uc2e4\ud328\ud55c-\uc778\uc2a4\ud134\uc2a4\uc758-\ub85c\uadf8-\ubcf4\uae30-logs--p",level:2},{value:"\uba85\ub839\uc5b4 \uc2e4\ud589 (exec)",id:"\uba85\ub839\uc5b4-\uc2e4\ud589-exec",level:2},{value:"\ud30c\uc77c \ubcf5\uc0ac (cp)",id:"\ud30c\uc77c-\ubcf5\uc0ac-cp",level:2},{value:"cpu, memory \uc0ac\uc6a9\ub7c9 \ud655\uc778 (top)",id:"cpu-memory-\uc0ac\uc6a9\ub7c9-\ud655\uc778-top",level:2},{value:"replica \uac1c\uc218 \uc870\uc808 (scale)",id:"replica-\uac1c\uc218-\uc870\uc808-scale",level:2},{value:"rolling update",id:"rolling-update",level:2},{value:"busybox\ub85c \uba85\ub839\uc5b4 \uc2e4\ud589",id:"busybox\ub85c-\uba85\ub839\uc5b4-\uc2e4\ud589",level:2},{value:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 vim \ub2e8\ucd95\ud0a4",id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-vim-\ub2e8\ucd95\ud0a4",level:2},{value:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 linux cmd",id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-linux-cmd",level:2}];function i(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"kubectl",children:"kubectl"})}),"\n",(0,c.jsx)(n.h2,{id:"kube-local",children:"~/.kube (local)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["kubectl\uc740 ",(0,c.jsx)(n.code,{children:"~/.kube/config"}),"\ub97c \uc77d\uc5b4\uc11c API Server\ub85c \uc694\uccad\ud55c\ub2e4."]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"RBAC \uad00\ub828"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-txt",children:"cache      config     http-cache\n"})}),"\n",(0,c.jsx)(n.h2,{id:"etckubernetes-master-node",children:"/etc/kubernetes (master node)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"static pod path = /etc/kubernetes/manifests (\ud30c\uc77c\ub9cc \uc0dd\uc131\ud558\uba74 kubelet\uc774 \uc790\ub3d9\uc73c\ub85c \uc2e4\ud589)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"etcd \uad00\ub828"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-txt",children:"addons      controller-manager.conf  manifests\r\nadmin.conf  kubelet.conf             scheduler.conf\n"})}),"\n",(0,c.jsx)(n.h2,{id:"varlibkubelet-worker-node",children:"/var/lib/kubelet (worker node)"}),"\n",(0,c.jsx)(n.h2,{id:"config",children:"config"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \ud074\ub7ec\uc2a4\ud130 \ubaa9\ub85d \ud655\uc778\r\nkubectl config get-contexts\r\n\r\n# \ud604\uc7ac \ud074\ub7ec\uc2a4\ud130 \ud655\uc778\r\nkubectl config current-context\r\n\r\n# \ud074\ub7ec\uc2a4\ud130 \ubcc0\uacbd\r\nkubectl config use-context <cluster_name>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\ub178\ub4dc-\uc811\uc18d-ssh",children:"\ub178\ub4dc \uc811\uc18d (ssh)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"ssh \uc6cc\ucee4\ub178\ub4dc_IP\r\n# docker-daemon, kubelet, kube-proxy, CNI \ud655\uc778\r\n\r\nssh \ub9c8\uc2a4\ud130\ub178\ub4dc_IP\r\n# controller-manager, scheduler-manager, etcd, api-server, matrics-server, core-dns, docker-daemon, kubelet \ud655\uc778\n"})}),"\n",(0,c.jsx)(n.h2,{id:"pod-\uc0dd\uc131-run",children:"pod \uc0dd\uc131 (run)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uc989\uc2dc pod \uc0dd\uc131\r\nkubectl run web --image=nginx --port=80 --env TEST=hello\r\n\r\n# yaml\ub85c pod \uc0dd\uc131\r\nkubectl run web --image=nginx --port=80 --env TEST=hello --dry-run=client -o yaml > web.yaml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"deployment-\uc0dd\uc131-create",children:"deployment \uc0dd\uc131 (create)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uc989\uc2dc deployment \uc0dd\uc131\r\nkubectl create deploy web --image nginx --port 80 --replicas 3\r\n\r\n# yaml\ub85c deployment \uc0dd\uc131\r\nkubectl create deploy web --image nginx --port 80 --replicas 3 --dry-run=client -o yaml > web.yaml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"configmap-\uc0dd\uc131-create",children:"configmap \uc0dd\uc131 (create)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uc989\uc2dc configmap \uc0dd\uc131\r\nkubectl create configmap my-config --from-literal BASE_URL=http://localhost:8080\r\n\r\n# yaml\ub85c configmap \uc0dd\uc131\r\nkubectl create configmap my-config --from-literal BASE_URL=http://localhost:8080 --dry-run=client -o yaml > my-config.yaml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"secret-\uc0dd\uc131-create",children:"secret \uc0dd\uc131 (create)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uc989\uc2dc secret \uc0dd\uc131\r\nkubectl create secret generic my-secret --from-literal PASSWORD=1234\r\n\r\n# yaml\ub85c secret \uc0dd\uc131\r\nkubectl create secret generic my-secret --from-literal PASSWORD=1234 --dry-run=client -o yaml > my-secret.yaml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"service-\uc0dd\uc131-expose",children:"service \uc0dd\uc131 (expose)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl expose deploy web --name web-lb --type=LoadBalancer --port 80 --target-port 80\n"})}),"\n",(0,c.jsx)(n.h2,{id:"node-\uc81c\uc5b4",children:"node \uc81c\uc5b4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# node\uc5d0 pod \uc2a4\ucf00\uc904\ub9c1 \uc911\uc9c0\r\nkubectl cordon <node-name>\r\n# node\uc5d0 \uc2a4\ucf00\uc904\ub9c1\ub41c pod\ub97c \ub2e4\ub978 node\ub85c \uc774\ub3d9 \ud6c4 cordon\r\nkubectl drain <node-name> --ignore-daemonsets --force\r\n\r\n# node\uc5d0 pod \uc2a4\ucf00\uc904\ub9c1 \uc7ac\uac1c\r\nkubectl uncordon <node-name>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc624\ube0c\uc81d\ud2b8-\uc0ad\uc81c-delete",children:"\uc624\ube0c\uc81d\ud2b8 \uc0ad\uc81c (delete)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl delete pod web\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc774\ubca4\ud2b8-\ud655\uc778-describe",children:"\uc774\ubca4\ud2b8 \ud655\uc778 (describe)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl describe pod nginx\n"})}),"\n",(0,c.jsx)(n.h2,{id:"yaml-\ud30c\uc77c\uc744-\uc77d\uc5b4\uc11c-\uc2e4\ud589-apply",children:"yaml \ud30c\uc77c\uc744 \uc77d\uc5b4\uc11c \uc2e4\ud589 (apply)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl apply -f <file_path>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"yaml-\ud30c\uc77c\uc744-\ub3d9\uc801\uc73c\ub85c-\uc218\uc815-edit",children:"yaml \ud30c\uc77c\uc744 \ub3d9\uc801\uc73c\ub85c \uc218\uc815 (edit)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl edit deploy web\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-\ubcf4\uae30-get",children:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 \ubcf4\uae30 (get)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl get node # pod / deploy / svc / node / namespace / rs / all\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-namespace\ub85c-\ubcf4\uae30",children:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 namespace\ub85c \ubcf4\uae30"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \ubaa8\ub4e0 namespace \ud655\uc778\r\nkubectl get pod -A\r\n\r\n# \ud2b9\uc815 namespace \ud655\uc778\r\nkubectl get pods --namespace=kube-system\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-labels\ub85c-\ubcf4\uae30",children:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 labels\ub85c \ubcf4\uae30"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# label \ubcf4\uae30\r\nkubectl get pod --show-labels\r\n\r\n# \ud2b9\uc815 label key\ub97c \uac00\uc9c4 pod \uc870\ud68c\r\nkubectl get pod -L version\r\n\r\n# \ud2b9\uc815 label\uc758 key=value\uac00 \uc77c\uce58\ud558\ub294 pod \uc870\ud68c\r\nkubectl get pod -l version=v1\r\n\r\n# \ud2b9\uc815 label column\uc73c\ub85c \uc870\ud68c\r\nkubectl get pod web --label-columns app.env\n"})}),"\n",(0,c.jsx)(n.h2,{id:"label-\ucd94\uac00-\ubcc0\uacbd-\uc0ad\uc81c",children:"label \ucd94\uac00, \ubcc0\uacbd, \uc0ad\uc81c"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# label \ucd94\uac00\uac00\r\nkubectl label pod web version=v1\r\n\r\n# label \ubcc0\uacbd\r\nkubectl label pod web version=v2 --overwrite\r\n\r\n# label \uc0ad\uc81c (\ub05d\uc5d0 - \ubd99\uc774\uba74 \uc0ad\uc81c)\r\nkubectl label pod web version-\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-selector\ub85c-\ubcf4\uae30",children:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 selector\ub85c \ubcf4\uae30"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"label\ubcf4\ub2e4 \ub354 \uc815\ubc00\ud558\uac8c \ucffc\ub9ac\ub85c \uc870\ud68c \uac00\ub2a5"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# label \ubcf4\uae30\r\nkubectl get deploy web --show-labels\r\n\r\n# \ud2b9\uc815 label\uc758 key=value\uac00 \uc77c\uce58\ud558\ub294 deploy \uc870\ud68c\r\nkubectl get deploy web --selector app=web\r\n\r\n# \uc5ec\ub7ec label\uc758 key=value\uac00 \uc77c\uce58\ud558\ub294 deploy \uc870\ud68c\r\nkubectl get deploy web --selector app=web,env=dev\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc0dd\uc131\ub41c-\uc624\ube0c\uc81d\ud2b8-\ubaa8\ub4e0-\uc815\ubcf4-\ubcf4\uae30--o-wide",children:"\uc0dd\uc131\ub41c \uc624\ube0c\uc81d\ud2b8 \ubaa8\ub4e0 \uc815\ubcf4 \ubcf4\uae30 (-o wide)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# node \uc815\ubcf4\uae4c\uc9c0 \ud655\uc778\r\nkubectl get pod -o wide\n"})}),"\n",(0,c.jsx)(n.h2,{id:"jsonpath\ub85c-\uc870\ud68c--o-jsonpath",children:'jsonpath\ub85c \uc870\ud68c (-o jsonpath="")'}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:'kubectl get pod <pod-name> -o jsonpath="{.metadata.ownerReferences[0].name}"\n'})}),"\n",(0,c.jsx)(n.h2,{id:"\uc815\ub82c\ud574\uc11c-\ubcf4\uae30---sort-by",children:"\uc815\ub82c\ud574\uc11c \ubcf4\uae30 (--sort-by=)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \uc0dd\uc131 \uc2dc\uac04 \uc21c\uc73c\ub85c \uc815\ub82c\r\nkubectl get pod -o wide --sort-by=.metadata.creationTimestamp\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\ub85c\uadf8-\ubcf4\uae30-logs",children:"\ub85c\uadf8 \ubcf4\uae30 (logs)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl logs <pod-name>\r\n\r\n# multi container pod \ud658\uacbd\uc77c \uacbd\uc6b0 \ucee8\ud14c\uc774\ub108 \uc774\ub984 \uc9c0\uc815\r\nkubectl logs <pod-name> -c <container-name>\r\n\r\nkubectl logs deployment/<deployment_name>\r\n\r\nkubectl logs service/<service_name>\r\n\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\ucd5c\uadfc-\uc2e4\ud328\ud55c-\uc778\uc2a4\ud134\uc2a4\uc758-\ub85c\uadf8-\ubcf4\uae30-logs--p",children:"\ucd5c\uadfc \uc2e4\ud328\ud55c \uc778\uc2a4\ud134\uc2a4\uc758 \ub85c\uadf8 \ubcf4\uae30 (logs -p)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl logs <pod-name> -p\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uba85\ub839\uc5b4-\uc2e4\ud589-exec",children:"\uba85\ub839\uc5b4 \uc2e4\ud589 (exec)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl exec -it <pod-name> -- bash\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\ud30c\uc77c-\ubcf5\uc0ac-cp",children:"\ud30c\uc77c \ubcf5\uc0ac (cp)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# pod -> local\r\nkubectl cp <local_path> <pod_name>:<pod_path>\r\n\r\n# local -> pod\r\nkubectl cp <pod_name>:<pod_path> <local_path>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"cpu-memory-\uc0ac\uc6a9\ub7c9-\ud655\uc778-top",children:"cpu, memory \uc0ac\uc6a9\ub7c9 \ud655\uc778 (top)"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"metrics-server \ud544\uc694"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl top pods --sort-by=cpu # --sort-by=memory\r\nkubectl top pods my-pod\r\n\r\nkubectl top nodes --sort-by=cpu # --sort-by=memory\r\nkubectl top nodes my-node\n"})}),"\n",(0,c.jsx)(n.h2,{id:"replica-\uac1c\uc218-\uc870\uc808-scale",children:"replica \uac1c\uc218 \uc870\uc808 (scale)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl scale deploy web --replicas=3\n"})}),"\n",(0,c.jsx)(n.h2,{id:"rolling-update",children:"rolling update"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:'# rolling update (\ub610\ub294 \uadf8\ub0e5 edit\uc73c\ub85c \ubcc0\uacbd\ud574\ub3c4 \ub41c\ub2e4)\r\nkubectl set image deployment <deploy_name> <container_name>=nginx:1.17 --record\r\n\r\n# rolling update (multi container)\r\nkubectl set image deployment <deploy_name> <container_name>=nginx:1.17,<container_name>=postgres:9.6 --record\r\n\r\n# \ud604\uc7ac \uc0c1\ud0dc\ub97c annotate (CHANGE-CAUSE) // \ub610\ub294 --record \uc635\uc158 \uc0ac\uc6a9\ud558\uba74 \uc790\ub3d9\uc73c\ub85c \ubcc0\uacbd \uc0ac\uc720 \uae30\ub85d\r\nkubectl annotate deployment <deploy_name> kubernetes.io/change-cause="Rolling update to version 1.17"\r\n\r\n# \uc0c1\ud0dc \ud655\uc778\r\nkubectl rollout status deployment <deploy_name>\r\n\r\n# \ud2b9\uc815 revision \uc870\ud68c\r\nkubectl rollout history deployment <deploy_name>\r\nkubectl rollout history deployment <deploy_name> --revision=1\r\n\r\n# rollback\r\nkubectl rollout undo deployment <deploy_name> # \uc774\uc804 \ubc84\uc804\uc73c\ub85c \ub864\ubc31\r\nkubectl rollout undo deployment <deploy_name> --to-revision=1 # \ud2b9\uc815 \ubc84\uc804\uc73c\ub85c \ub864\ubc31\n'})}),"\n",(0,c.jsx)(n.h2,{id:"busybox\ub85c-\uba85\ub839\uc5b4-\uc2e4\ud589",children:"busybox\ub85c \uba85\ub839\uc5b4 \uc2e4\ud589"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"kubectl run test --image busybox -it --rm -- sh\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-vim-\ub2e8\ucd95\ud0a4",children:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 vim \ub2e8\ucd95\ud0a4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# \ud55c\uc904 \uc0ad\uc81c\r\ndd\r\n\r\n# \ucee4\uc11c\ubd80\ud130 \ub05d\uae4c\uc9c0 \uc0ad\uc81c\r\nD\r\n\r\n# \ud55c\uc904 \ubcf5\uc0ac\r\nyy\r\n\r\n# 2\uc904 \ubcf5\uc0ac\r\n2yy\r\n\r\n# \ubd99\uc5ec\ub123\uae30\r\np\r\n\r\n# \uc904 \uc0bd\uc785\r\no\r\n\r\n# \ub4a4\ub85c\uac00\uae30\r\nu\r\n\r\n# \uc55e\uc73c\ub85c\uac00\uae30\r\nctrl + r\r\n\r\n# \uba85\ub839\ubaa8\ub4dc\ub85c \uc804\ud658 \ud6c4 insert \ubaa8\ub4dc\ub85c \ubc14\ub85c \uc804\ud658\r\nctrl + o -> \uba85\ub839\r\n\r\n# mac os\uc5d0\uc11c \ubd99\uc5ec\ub123\uae30\r\nctrl + v\r\n\r\n# window os\uc5d0\uc11c \ubd99\uc5ec\ub123\uae30\r\nshift + insert\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-linux-cmd",children:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 linux cmd"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"# output\uc744 \uc798\ub77c\uc11c \ubcf4\uae30\r\ncut -d ' ' -f 1\r\n\r\n# output grep\r\n| grep -i -v <\uc81c\uc678\ud560 \ub2e8\uc5b4> <\ucc3e\uc744 \ub2e8\uc5b4>\r\n\r\n# output grep \uac80\uc0c9 \uc870\uac74\r\n| grep -e <\ucc3e\uc744 \ub2e8\uc5b4> -e <\ucc3e\uc744 \ub2e8\uc5b4>\r\n\r\n# output\uc744 file\ub85c\r\n| grep 'file not found' > /path/to/file\r\n\r\n# text\ub97c file\ub85c\r\necho 'pv001' > /path/to/file\r\n\r\n# \ud30c\uc77c \uc0dd\uc131\r\ncat > deployment.yaml\r\n...\r\nctrl + d\r\n\r\n# os \ud655\uc778\r\ncat /etc/os-release\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(i,{...e})}):i(e)}},529087:(e,n,l)=>{l.d(n,{R:()=>s,x:()=>o});var r=l(596363);const c={},a=r.createContext(c);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);