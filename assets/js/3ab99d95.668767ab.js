"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[978457],{497289:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>a,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"nodejs/nodejs module module resolution","title":"nodejs module resolution","description":"module\uc744 \uc5b4\ub5bb\uac8c resolve (\ud574\uc11d, path \ud0d0\uc0c9, \ucc38\uc870)\ud560\uc9c0 \uc9c0\uc815\ud55c\ub2e4.","source":"@site/docs/nodejs/nodejs module module resolution.md","sourceDirName":"nodejs","slug":"/nodejs/nodejs module module resolution","permalink":"/docs/nodejs/nodejs module module resolution","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nodejs module resolution main vs module","permalink":"/docs/nodejs/nodejs module module resolution main vs module"},"next":{"title":"nodejs module child_process execa","permalink":"/docs/nodejs/nodejs module multicore child_process execa"}}');var r=o(447259),d=o(529087);const l={},i="nodejs module resolution",t={},c=[{value:"\uc0c1\ub300 \uacbd\ub85c vs \ube44\uc0c1\ub300 \uacbd\ub85c",id:"\uc0c1\ub300-\uacbd\ub85c-vs-\ube44\uc0c1\ub300-\uacbd\ub85c",level:2},{value:"node",id:"node",level:2},{value:"Relative Modules",id:"relative-modules",level:3},{value:"Alias Modules",id:"alias-modules",level:3},{value:"Self Import Modules",id:"self-import-modules",level:3},{value:"Node Modules",id:"node-modules",level:3},{value:"nodenext",id:"nodenext",level:2},{value:"classic (\uc0ac\uc6a9\ub418\uc9c0 \uc54a\uc74c)",id:"classic-\uc0ac\uc6a9\ub418\uc9c0-\uc54a\uc74c",level:2}];function m(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"nodejs-module-resolution",children:"nodejs module resolution"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"module\uc744 \uc5b4\ub5bb\uac8c resolve (\ud574\uc11d, path \ud0d0\uc0c9, \ucc38\uc870)\ud560\uc9c0 \uc9c0\uc815\ud55c\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:"import/require \uac00 \ubb34\uc5c7\uc744 \ucc38\uc870\ud558\ub294\uc9c0 \uc54c\uc544\ub0b4\uae30 \uc704\ud574 \uc0ac\uc6a9\ud558\ub294 \ud504\ub85c\uc138\uc2a4"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"node\ub85c \ub418\uc5b4\uc788\uc73c\uba74 node.js\uc758 \ubaa8\ub4c8 \ud574\uc11d \ubc29\uc2dd\uc744 \ub530\ub974\uace0 classic\uc73c\ub85c \ub418\uc5b4\uc788\uc73c\uba74 \uc804\ud1b5\uc801\uc778 \ubaa8\ub4c8 \ud574\uc11d \ubc29\uc2dd\uc744 \ub530\ub978\ub2e4."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"esm\uc740 \ubc18\ub4dc\uc2dc \ud655\uc7a5\uc790\ub97c \ubd99\uc5ec\uc57c\ud55c\ub2e4. (e.g. ./components/button/button.js)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\uc0c1\ub300-\uacbd\ub85c-vs-\ube44\uc0c1\ub300-\uacbd\ub85c",children:"\uc0c1\ub300 \uacbd\ub85c vs \ube44\uc0c1\ub300 \uacbd\ub85c"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uc0c1\ub300\uacbd\ub85c\uc640 \ube44\uc0c1\ub300\uacbd\ub85c\ub294 resolve \ubc29\uc2dd\uc774 \ub2e4\ub974\ub2e4."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"moduleResolution\uc740 \uc815\uc758\ub41c \ud30c\uc77c\uc744 \ucc3e\uae30 \uc704\ud574 \uc5b4\ub514\ub97c \ud0d0\uc0c9\ud560\uc9c0 \uacb0\uc815\ud55c\ub2e4."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ube44\uc0c1\ub300 \uacbd\ub85c\uc77c \ub54c \uc5b4\ub5bb\uac8c \ucc3e\ub294\uc9c0\ub97c \uae30\uc5b5\ud558\ub294\uac8c \uc911\uc694"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'/* \uc0c1\ub300\uc801 \uacbd\ub85c\uc758 \ubaa8\ub4c8 */\r\n// \ud604\uc7ac \ud30c\uc77c\uc758 \uc704\uce58\ub97c \uae30\uc900\uc73c\ub85c \uc0c1\ub300\uc801 \uacbd\ub85c\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubaa8\ub4c8\uc744 \ucc38\uc870\ud55c\ub2e4.\r\n// \uc9c1\uc811 \ub9cc\ub4e0 \ubaa8\ub4c8 \uc911\uc5d0 \ub7f0\ud0c0\uc784 \uc2dc \uc0c1\ub300\uc801 \uc704\uce58\uac00 \uc720\uc9c0\ub418\ub294 \uac83\uc774 \ubcf4\uc7a5\ub418\ub294 \ubaa8\ub4c8\uc744 import \ud558\uace0 \uc2f6\ub2e4\uba74 \uc0c1\ub300\uc801 import\ub97c \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4.\r\nimport { MyModule } from "/my-module";\r\nimport { MyModule } from "./my-module";\r\nimport { MyModule } from "../my-module";\r\n\r\n/* \ube44\uc0c1\ub300\uc801 \uacbd\ub85c\uc758 \ubaa8\ub4c8 */\r\n// baseUrl, paths, ambient module declarations\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud574\uc11d\ud55c\ub2e4.\r\n// \uc678\ubd80 \uc758\uc874\uc131 \ubaa8\ub4c8\uc744 import \ud558\uace0 \uc2f6\ub2e4\uba74 \uc774\ub7ec\ud55c \ube44-\uc0c1\ub300\uc801 import\ub97c \uc0ac\uc6a9\ud558\uc790.\r\nimport { MyModule } from "my-module";\n'})}),"\n",(0,r.jsx)(n.h2,{id:"node",children:"node"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uacbd\ub85c\uac00 \uc8fc\uc5b4\uc84c\uc744 \ub54c\ub294 Relative \uc54c\uace0\ub9ac\uc998 \uc218\ud589"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uc774\ub984\ub9cc \uc8fc\uc5b4\uc84c\uc744 \ub54c\ub294 Alias -> Self-Import -> Node \uc21c\uc73c\ub85c \uc54c\uace0\ub9ac\uc998\uc744 \uc218\ud589"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uc804\ubd80 \uc2e4\ud328 \uc2dc ERR_MODULE_NOT_FOUND \ubc1c\uc0dd"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"relative-modules",children:"Relative Modules"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:'"/", "./", "../" \ub85c \uc2dc\uc791\ud560 \uc2dc \ubc1c\ub3d9'}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",children:"import { bar } from './foo'\r\n\r\n1. if foo exists, execute by file extension. in this case, Node.js will throw an ERR_UNKNOWN_FILE_EXTENSION because foo doesn't have any file extension.\r\n// \uc8fc\uc5b4\uc9c4 \uc704\uce58\uc5d0 foo\uac00 \uc874\uc7ac\ud558\uba74 file extension\uc5d0 \uc758\ud574 \uc2e4\ud589\ub41c\ub2e4, \ud558\uc9c0\ub9cc \uc774\uacbd\uc6b0\uc5d0\ub294 extenstion\uc774 \uc5c6\uae30 \ub54c\ubb34\uc5d0 ERR_UNKNOWN_FILE_EXTENSION\uac00 \ubc1c\uc0dd\ud55c\ub2e4.\r\n2. if foo.js exists, executes as a javascript module\r\n// \uc8fc\uc5b4\uc9c4 \uc704\uce58\uc5d0 foo.js\uac00 \uc874\uc7ac\ud558\uba74 js module\ub85c \uc2e4\ud589\ub41c\ub2e4.\r\n3. if foo.json exists, parses json, and returns JS object\r\n// \uc8fc\uc5b4\uc9c4 \uc704\uce58\uc5d0 foo.json\uc774 \uc874\uc7ac\ud558\uba74 js object\ub97c \ubc18\ud658\ud55c\ub2e4.\r\n4. if foo.node exists, runs as a binary add-on.\r\n// \uc8fc\uc5b4\uc9c4 \uc704\uce58\uc5d0 foo.node\uac00 \uc874\uc7ac\ud558\uba74 binary add-on\uc744 \uc2e4\ud589\ud55c\ub2e4.\r\n5. if foo/package.json Node.JS will search for the main field. If present, Node.js will run steps 1\u20134 and 6\u20138 for the given path in main\r\n// \uc8fc\uc5b4\uc9c4 \uc704\uce58\uc5d0 foo \ub514\ub809\ud1a0\ub9ac\uac00 \uc874\uc7ac\ud558\uace0 \ub0b4\ubd80\uc5d0 package.json\uc774 \uc788\ub2e4\uba74 main field\uac00 \uc788\ub2e4\uba74 main \uc704\uce58\uc5d0\uc11c 1-4\ubc88\uc744 \ub2e4\uc2dc \uc218\ud589\ud558\uace0 main \uc704\uce58\uc5d0\uc11c 6-8\ubc88\uc744 \uc2e4\ud589\ud55c\ub2e4.\r\n6. if foo/index.js exists, executes as a javascript module\r\n7. if foo/index.json exists, parse json, and rerun object\r\n8. if foo/index.node exists, runs as a binary add-on.\n"})}),"\n",(0,r.jsx)(n.h3,{id:"alias-modules",children:"Alias Modules"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"typescript\uc758 paths, webpack\uc758 alias\uc640 \uac19\uc740 \uae30\ub2a5"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ubc18\ub4dc\uc2dc alias\uc5d0 #\uc744 \ubd99\uc5ec\uc57c\ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "name": "my-site",\r\n  "imports": {\r\n    "#foo": "./src/bar.js"\r\n  }\r\n}\r\n\r\n// import { bar } from \'#foo\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"self-import-modules",children:"Self Import Modules"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"./foo\ub97c \uc0ac\uc6a9\ud558\uba74 my-site/foo\ub85c \ud574\ub2f9 \ud30c\uc77c\uc5d0 \uc811\uadfc \uac00\ub2a5"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"types, import, require, default\ub294 \ud2b9\ubcc4\ud55c \ud544\ub4dc \ub124\uc784"}),"\n",(0,r.jsx)(n.p,{children:'./require\ub97c \uc0ac\uc6a9\ud558\uba74 require("my-site")'}),"\n",(0,r.jsx)(n.p,{children:'./import\ub97c \uc0ac\uc6a9\ud558\uba74 import * from "my-site"\ub85c \uc811\uadfc \uac00\ub2a5'}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"main, module \ud544\ub4dc\uc640 \uac19\uc740 \uc5ed\ud560\uc744 \ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "name": "my-site",\r\n  "exports": {\r\n    ".": {\r\n      "foo": "./src/bar.js", // import { bar } from \'my-site/foo\'\r\n      "import": "./dist/index.mjs", // import * as mySite from \'my-site\' // module \ud544\ub4dc\uc640 \uac19\uc740 \uc5ed\ud560\r\n      "require": "./dist/index.cjs", // const mySite = require(\'my-site\') // main \ud544\ub4dc\uc640 \uac19\uc740 \uc5ed\ud560\r\n      "default": "./dist/index.js",\r\n      "types": "./dist/index.d.ts" // import { MySiteType } from \'my-site\'\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"node-modules",children:"Node Modules"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud604\uc7ac \ub514\ub809\ud1a0\ub9ac \uc704\uce58\uc5d0\uc11c \ubd80\ud130 node_modules \ud3f4\ub354 \ub0b4\ubd80\ub97c \ud655\uc778"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-txt",children:"import { bar } from 'foo'\r\n\r\n/home/node/workspace/node_modules/foo\r\n/home/node/workspace/node_modules/foo.js\r\n/home/node/workspace/node_modules/foo.json\r\n/home/node/workspace/node_modules/foo.node\r\n/home/node/workspace/node_modules/foo/package.json # main \ud544\ub4dc \ud655\uc778\r\n/home/node/workspace/node_modules/<main>/index\r\n/home/node/workspace/node_modules/<main>/index.js\r\n/home/node/workspace/node_modules/<main>/index.json\r\n/home/node/workspace/node_modules/<main>/index.node\r\n/home/node/workspace/node_modules/<main>/index.js # main \uc704\uce58\uc5d0\uc11c\r\n\r\n# \ubc18\ubcf5\r\n/home/node/node_modules\r\n/home/node_modules\r\n/node_modules\n"})}),"\n",(0,r.jsx)(n.h2,{id:"nodenext",children:"nodenext"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"import\ubb38\uc740 node \ubc29\uc2dd, require\ubb38\uc740 classic \ubc29\uc2dd\uc73c\ub85c \ud574\uc11d\ud55c\ub2e4."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Node.js v12 \uc774\ud6c4\ubd80\ud130 \uc9c0\uc6d0\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"classic-\uc0ac\uc6a9\ub418\uc9c0-\uc54a\uc74c",children:"classic (\uc0ac\uc6a9\ub418\uc9c0 \uc54a\uc74c)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"node_modules \ud3f4\ub354\ub97c \ud0d0\uc0c9\ud558\uc9c0 \uc54a\ub294\ub2e4."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'/* \uc0c1\ub300\uc801 \uacbd\ub85c\uc77c \uc2dc */\r\n// \ud2b9\uc815\ub41c \uc704\uce58 \ud55c\uacf3\ub9cc \ud0d0\uc0c9\ud55c\ub2e4.\r\nimport { MyModule } from "./my-module";\r\n/*\r\n *  /root/src/folder/my-module.js\r\n */\r\n\r\n/* \ube44\uc0c1\ub300\uc801 \uacbd\ub85c\uc77c \uc2dc */\r\n// root\ubd80\ud130 \ubaa8\ub4e0 \uc704\uce58\ub97c \ud0d0\uc0c9\ud55c\ub2e4.\r\nimport { MyModule } from "my-module";\r\n/*\r\n *  /root/src/folder/my-module.js\r\n *  /root/src/my-module.js\r\n *  /root/my-module.js\r\n *  /my-module.js\r\n */\n'})})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},529087:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>i});var s=o(596363);const r={},d=s.createContext(r);function l(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);