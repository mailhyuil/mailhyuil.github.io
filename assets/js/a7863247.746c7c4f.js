"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[298613],{476267:(n,o,r)=>{r.r(o),r.d(o,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>e,toc:()=>c});const e=JSON.parse('{"id":"ai langchain/langchain Tool Calling","title":"langchain Tool Calling","description":"\ucc57 \ubaa8\ub378 API\uc5d0\uc11c Tools\uc758 \uc2a4\ud0a4\ub9c8\ub97c \uc785\ub825\uacfc \ud568\uaed8 \ubc1b\uc544\ub4e4\uc774\uace0, \ubaa8\ub378\uc758 \ucd9c\ub825 \uba54\uc2dc\uc9c0\uc5d0 \ud574\ub2f9 \ub3c4\uad6c\uc758 \ud638\ucd9c \uacb0\uacfc\ub97c \ud3ec\ud568\ud558\ub294 \ubc29\uc2dd","source":"@site/docs/ai langchain/langchain Tool Calling.md","sourceDirName":"ai langchain","slug":"/ai langchain/langchain Tool Calling","permalink":"/docs/ai langchain/langchain Tool Calling","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"langchain Tool Agents","permalink":"/docs/ai langchain/langchain Tool Agents"},"next":{"title":"langchain Tools","permalink":"/docs/ai langchain/langchain Tools"}}');var t=r(447259),a=r(529087);const l={},i="langchain Tool Calling",s={},c=[];function p(n){const o={blockquote:"blockquote",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"langchain-tool-calling",children:"langchain Tool Calling"})}),"\n",(0,t.jsxs)(o.blockquote,{children:["\n",(0,t.jsx)(o.p,{children:"\ucc57 \ubaa8\ub378 API\uc5d0\uc11c Tools\uc758 \uc2a4\ud0a4\ub9c8\ub97c \uc785\ub825\uacfc \ud568\uaed8 \ubc1b\uc544\ub4e4\uc774\uace0, \ubaa8\ub378\uc758 \ucd9c\ub825 \uba54\uc2dc\uc9c0\uc5d0 \ud574\ub2f9 \ub3c4\uad6c\uc758 \ud638\ucd9c \uacb0\uacfc\ub97c \ud3ec\ud568\ud558\ub294 \ubc29\uc2dd"}),"\n",(0,t.jsxs)(o.blockquote,{children:["\n",(0,t.jsx)(o.p,{children:"tool calling\uc774 \ubc1c\ub3d9\ud588\uc744 \uacbd\uc6b0 response.tool_calls \uc5d0 \ud638\ucd9c\ub41c tool\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc74c"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-ts",children:'import { tool } from "@langchain/core/tools";\r\n\r\nconst multiply = tool(\r\n  ({ a, b }: { a: number; b: number }): number => {\r\n    return a * b;\r\n  },\r\n  {\r\n    name: "multiply",\r\n    description: "Multiply two numbers",\r\n    // input schema\r\n    schema: z.object({\r\n      a: z.number(),\r\n      b: z.number(),\r\n    }),\r\n  },\r\n);\r\n\r\n// Tool Calling \ud559\uc2b5\r\nconst prompt = ChatPromptTemplate.fromMessages([\r\n  [\r\n    "system",\r\n    "You are an AI assistant that can perform mathematical operations using tools. Use the \'multiply\' tool when a user asks for multiplication.",\r\n  ],\r\n]);\r\n\r\n// Tool binding\r\nconst llmWithTools = this.llm.bindTools([multiply]);\r\n\r\n// Tool Calling\r\nconst res = await prompt.pipe(llmWithTools).invoke({ message });\r\n\r\nconsole.log(res);\r\n/**\r\nAIMessage {\r\n  "id": "chatcmpl-B1xYTkKuYl1CtPBe55aKE4D1PGFvM",\r\n  "content": "",\r\n  "additional_kwargs": {\r\n    "tool_calls": [\r\n      {\r\n        "id": "call_XWqwYZVqFDRP92DXWZODTeOu",\r\n        "type": "function",\r\n        "function": "[Object]"\r\n      }\r\n    ]\r\n  },\r\n  "response_metadata": {\r\n    "tokenUsage": {\r\n      "promptTokens": 52,\r\n      "completionTokens": 18,\r\n      "totalTokens": 70\r\n    },\r\n    "finish_reason": "tool_calls",\r\n    "model_name": "gpt-4o-mini-2024-07-18",\r\n    "usage": {\r\n      "prompt_tokens": 52,\r\n      "completion_tokens": 18,\r\n      "total_tokens": 70,\r\n      "prompt_tokens_details": {\r\n        "cached_tokens": 0,\r\n        "audio_tokens": 0\r\n      },\r\n      "completion_tokens_details": {\r\n        "reasoning_tokens": 0,\r\n        "audio_tokens": 0,\r\n        "accepted_prediction_tokens": 0,\r\n        "rejected_prediction_tokens": 0\r\n      }\r\n    },\r\n    "system_fingerprint": "fp_00428b782a"\r\n  },\r\n  "tool_calls": [\r\n    {\r\n      "name": "multiply",\r\n      "args": {\r\n        "a": 1,\r\n        "b": 2\r\n      },\r\n      "type": "tool_call",\r\n      "id": "call_XWqwYZVqFDRP92DXWZODTeOu"\r\n    }\r\n  ],\r\n  "invalid_tool_calls": [],\r\n  "usage_metadata": {\r\n    "output_tokens": 18,\r\n    "input_tokens": 52,\r\n    "total_tokens": 70,\r\n    "input_token_details": {\r\n      "audio": 0,\r\n      "cache_read": 0\r\n    },\r\n    "output_token_details": {\r\n      "audio": 0,\r\n      "reasoning": 0\r\n    }\r\n  }\r\n}\r\n*/\n'})})]})}function u(n={}){const{wrapper:o}={...(0,a.R)(),...n.components};return o?(0,t.jsx)(o,{...n,children:(0,t.jsx)(p,{...n})}):p(n)}},529087:(n,o,r)=>{r.d(o,{R:()=>l,x:()=>i});var e=r(596363);const t={},a=e.createContext(t);function l(n){const o=e.useContext(a);return e.useMemo(function(){return"function"==typeof n?n(o):{...o,...n}},[o,n])}function i(n){let o;return o=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),e.createElement(a.Provider,{value:o},n.children)}}}]);