"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["259436"],{853583:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>o,toc:()=>r,default:()=>d,metadata:()=>c,assets:()=>a,contentTitle:()=>i});var c=JSON.parse('{"id":"nginx/openResty lua directives","title":"OpenResty lua directives","description":"accessbylua_block","source":"@site/docs/nginx/openResty lua directives.md","sourceDirName":"nginx","slug":"/nginx/openResty lua directives","permalink":"/docs/nginx/openResty lua directives","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx \uD574\uC678 IP \uCC28\uB2E8","permalink":"/docs/nginx/nginx \uD574\uC678 IP \uCC28\uB2E8"},"next":{"title":"OpenResty ngx module","permalink":"/docs/nginx/openResty ngx module"}}'),t=l(447259),s=l(255511);let o={},i="OpenResty lua directives",a={},r=[{value:"access_by_lua_block",id:"access_by_lua_block",level:2},{value:"access_by_lua",id:"access_by_lua",level:2},{value:"content_by_lua_block",id:"content_by_lua_block",level:2},{value:"content_by_lua",id:"content_by_lua",level:2},{value:"content_by_lua_file",id:"content_by_lua_file",level:2}];function u(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"openresty-lua-directives",children:"OpenResty lua directives"})}),"\n",(0,t.jsx)(n.h2,{id:"access_by_lua_block",children:"access_by_lua_block"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\uC694\uCCAD\uC774 \uCC98\uB9AC\uB418\uAE30 \uC804\uC5D0 \uC2E4\uD589"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"block \uB0B4\uBD80\uC5D0 lua script\uB97C \uC791\uC131"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-conf",children:'location / {\r\n    access_by_lua_block {\r\n        ngx.log(ngx.ERR, "\u{1F50D} Someone is accessing /")\r\n    }\r\n    root /usr/local/openresty/nginx/html;\r\n    index index.html;\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"access_by_lua",children:"access_by_lua"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\uC694\uCCAD\uC774 \uCC98\uB9AC\uB418\uAE30 \uC804\uC5D0 \uC2E4\uD589"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"lua file\uC744 \uC9C0\uC815\uD574\uC11C \uC2E4\uD589"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-conf",children:"location / {\r\n    access_by_lua_file /etc/nginx/lua/access.lua;\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"content_by_lua_block",children:"content_by_lua_block"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\uC751\uB2F5\uC744 \uC9C1\uC811 \uCC98\uB9AC\uD558\uB294 \uC5ED\uD560"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"block \uB0B4\uBD80\uC5D0 lua script\uB97C \uC791\uC131"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-conf",children:'location /lua {\r\n    content_by_lua_block {\r\n        ngx.say("Hello, Lua!")\r\n    }\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"content_by_lua",children:"content_by_lua"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\uC751\uB2F5\uC744 \uC9C1\uC811 \uCC98\uB9AC\uD558\uB294 \uC5ED\uD560"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"lua file\uC744 \uC9C0\uC815\uD574\uC11C \uC2E4\uD589"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-conf",children:"location /lua {\r\n    content_by_lua_file /etc/nginx/lua/content.lua;\r\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"content_by_lua_file",children:"content_by_lua_file"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"content_by_lua\uC640 \uB3D9\uC77C"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-conf",children:"location /lua {\r\n    content_by_lua_file /etc/nginx/lua/response.lua;\r\n}\n"})})]})}function d(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},255511:function(e,n,l){l.d(n,{R:()=>o,x:()=>i});var c=l(596363);let t={},s=c.createContext(t);function o(e){let n=c.useContext(s);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),c.createElement(s.Provider,{value:n},e.children)}}}]);