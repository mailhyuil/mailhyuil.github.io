"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["8763"],{945651:function(r,e,n){n.r(e),n.d(e,{frontMatter:()=>b,toc:()=>a,default:()=>v,metadata:()=>s,assets:()=>c,contentTitle:()=>i});var s=JSON.parse('{"id":"x design pattern/Behavioral observer","title":"observer","description":"\uAD6C\uC870","source":"@site/docs/x design pattern/Behavioral observer.md","sourceDirName":"x design pattern","slug":"/x design pattern/Behavioral observer","permalink":"/docs/x design pattern/Behavioral observer","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"memento","permalink":"/docs/x design pattern/Behavioral memento"},"next":{"title":"pub-sub","permalink":"/docs/x design pattern/Behavioral pub-sub"}}'),t=n(447259),o=n(255511);let b={},i="observer",c={},a=[{value:"\uAD6C\uC870",id:"\uAD6C\uC870",level:2},{value:"usage \uC608",id:"usage-\uC608",level:2}];function u(r){let e={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,o.R)(),...r.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"observer",children:"observer"})}),"\n",(0,t.jsx)(e.h2,{id:"\uAD6C\uC870",children:"\uAD6C\uC870"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'class Subject {\r\n  observers: Observer[];\r\n  constructor() {\r\n    this.observers = [];\r\n  }\r\n  subscribe(observer: Observer) {\r\n    this.observers.push(observer);\r\n    return;\r\n  }\r\n  unsubscribe(observer: Observer) {\r\n    const indexOfObserver = this.observers.indexOf(observer);\r\n    if (indexOfObserver > -1) {\r\n      this.observers.splice(indexOfObserver, 1);\r\n    }\r\n  }\r\n  notify(data: any) {\r\n    this.observers.forEach((observer) => {\r\n      observer.update(data);\r\n    });\r\n  }\r\n}\r\nclass Observer {\r\n  name: string;\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n  update(data: any) {\r\n    console.log(`${this.name} got ${data}`);\r\n  }\r\n}\r\n\r\nconst sub = new Subject();\r\nconst ob1 = new Observer("ob1");\r\nconst ob2 = new Observer("ob2");\r\n\r\nsub.subscribe(ob1);\r\nsub.subscribe(ob2);\r\n\r\nsub.notify("hi data");\n'})}),"\n",(0,t.jsx)(e.h2,{id:"usage-\uC608",children:"usage \uC608"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:'function Subject() {\r\n  this.observers = [];\r\n}\r\n\r\nSubject.prototype = {\r\n  subscribe: function (observer) {\r\n    this.observers.push(observer);\r\n\r\n    return this;\r\n  },\r\n\r\n  unsubscribe: function (observer) {\r\n    const indexOfObserver = this.observers.indexOf(observer);\r\n    if (indexOfObserver > -1) {\r\n      this.observers.splice(indexOfObserver, 1);\r\n    }\r\n\r\n    return this;\r\n  },\r\n\r\n  notifyObserver: function (observer) {\r\n    const indexOfObserver = this.observers.indexOf(observer);\r\n    if (indexOfObserver > -1) {\r\n      this.observers[indexOfObserver].notify();\r\n    }\r\n\r\n    return this;\r\n  },\r\n\r\n  notifyAllObservers: function () {\r\n    this.observers.forEach((observer) => {\r\n      observer.notify();\r\n    });\r\n\r\n    return this;\r\n  },\r\n};\r\n\r\nfunction Observer(name) {\r\n  this.name = name;\r\n}\r\n\r\nObserver.prototype = {\r\n  notify: function () {\r\n    console.log(`Observer ${this.name} has been notified`);\r\n  },\r\n};\r\n\r\nconst subject = new Subject();\r\n\r\nconst observer1 = new Observer("user001");\r\nconst observer2 = new Observer("user002");\r\nconst observer3 = new Observer("user003");\r\nconst observer4 = new Observer("user004");\r\nconst observer5 = new Observer("user005");\r\n\r\nsubject.subscribe(observer1).subscribe(observer2).subscribe(observer3).subscribe(observer4).subscribe(observer5);\r\nsubject.notifyObserver(observer4);\r\nsubject.unsubscribe(observer4);\r\nsubject.notifyAllObservers();\n'})})]})}function v(r={}){let{wrapper:e}={...(0,o.R)(),...r.components};return e?(0,t.jsx)(e,{...r,children:(0,t.jsx)(u,{...r})}):u(r)}},255511:function(r,e,n){n.d(e,{R:()=>b,x:()=>i});var s=n(596363);let t={},o=s.createContext(t);function b(r){let e=s.useContext(o);return s.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function i(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(t):r.components||t:b(r.components),s.createElement(o.Provider,{value:e},r.children)}}}]);