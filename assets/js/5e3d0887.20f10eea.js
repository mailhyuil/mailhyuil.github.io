"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["800740"],{624317:function(n,e,c){c.r(e),c.d(e,{frontMatter:()=>s,toc:()=>a,default:()=>p,metadata:()=>o,assets:()=>i,contentTitle:()=>l});var o=JSON.parse('{"id":"linux/linux package knockd","title":"linux package knockd","description":"port\uC5D0 syn \uD328\uD0B7\uC744 \uC77C\uC815 \uD328\uD134\uC73C\uB85C \uC804\uC1A1\uD558\uC5EC \uBC29\uD654\uBCBD\uC744 \uC5F4\uACE0 \uB2EB\uB294 \uD328\uD0A4\uC9C0","source":"@site/docs/linux/linux package knockd.md","sourceDirName":"linux","slug":"/linux/linux package knockd","permalink":"/docs/linux/linux package knockd","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"linux base gpg (GNU Privacy Guard)","permalink":"/docs/linux/linux package gnupg - gpg"},"next":{"title":"linux package logrotate","permalink":"/docs/linux/linux package logrotate"}}'),r=c(447259),t=c(255511);let s={},l="linux package knockd",i={},a=[{value:"install",id:"install",level:2},{value:"/etc/knockd.conf",id:"etcknockdconf",level:2},{value:"browser\uB85C knock \uD558\uAE30",id:"browser\uB85C-knock-\uD558\uAE30",level:2}];function u(n){let e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"linux-package-knockd",children:"linux package knockd"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"port\uC5D0 syn \uD328\uD0B7\uC744 \uC77C\uC815 \uD328\uD134\uC73C\uB85C \uC804\uC1A1\uD558\uC5EC \uBC29\uD654\uBCBD\uC744 \uC5F4\uACE0 \uB2EB\uB294 \uD328\uD0A4\uC9C0"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"install",children:"install"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"sudo apt install knockd\n"})}),"\n",(0,r.jsx)(e.h2,{id:"etcknockdconf",children:"/etc/knockd.conf"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"7000,8000,9000 is the sequence of ports to knock on"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"9000,8000,7000 is the sequence of ports to knock on to close the port"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"# iptables\r\n[openSSH]\r\n    sequence    = 7000,8000,9000\r\n    seq_timeout = 5\r\n    command     = /usr/sbin/iptables -A INPUT -s %IP% -p tcp --dport 22 -j ACCEPT\r\n    tcpflags    = syn\r\n\r\n[closeSSH]\r\n    sequence    = 9000,8000,7000\r\n    seq_timeout = 5\r\n    command     = /usr/sbin/iptables -D INPUT -s %IP% -p tcp --dport 22 -j ACCEPT\r\n    tcpflags    = syn\r\n\r\n# ufw\r\n[openSSH]\r\n    sequence    = 7000,8000,9000\r\n    seq_timeout = 5\r\n    command     = /usr/sbin/ufw allow from %IP% to any port 22 proto tcp\r\n    tcpflags    = syn\r\n\r\n[closeSSH]\r\n    sequence    = 9000,8000,7000\r\n    seq_timeout = 5\r\n    command     = /usr/sbin/ufw delete allow from %IP% to any port 22 proto tcp\r\n    tcpflags    = syn\n"})}),"\n",(0,r.jsx)(e.h2,{id:"browser\uB85C-knock-\uD558\uAE30",children:"browser\uB85C knock \uD558\uAE30"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\uBE0C\uB77C\uC6B0\uC800 url\uB85C\uB294 \uC5F0\uACB0\uC774 \uC548\uB41C\uB2E4\uACE0 \uC0DD\uAC01\uD574\uC11C \uC560\uCD08\uC5D0 \uC694\uCCAD\uC744 \uC548\uB0A0\uB9B4 \uC218 \uC788\uC74C"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"fetch\uB294 sop\uB85C \uB9C9\uD600\uC788\uC74C"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"img, script \uD0DC\uADF8 \uB4F1\uC744 \uC0AC\uC6A9\uD558\uBA74 \uAC00\uB2A5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-html",children:'<img src="http://my.server.com:7000/knock.jpg" />\r\n<img src="http://my.server.com:8000/knock.jpg" />\r\n<img src="http://my.server.com:9000/knock.jpg" />\n'})})]})}function p(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}},255511:function(n,e,c){c.d(e,{R:()=>s,x:()=>l});var o=c(596363);let r={},t=o.createContext(r);function s(n){let e=o.useContext(t);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),o.createElement(t.Provider,{value:e},n.children)}}}]);