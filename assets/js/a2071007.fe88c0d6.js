"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["913402"],{538946:function(e,r,n){n.r(r),n.d(r,{frontMatter:()=>s,toc:()=>i,default:()=>d,metadata:()=>a,assets:()=>c,contentTitle:()=>l});var a=JSON.parse('{"id":"angular/angular worker web worker","title":"angular web worker","description":"generate","source":"@site/docs/angular/angular worker web worker.md","sourceDirName":"angular","slug":"/angular/angular worker web worker","permalink":"/docs/angular/angular worker web worker","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"angular pwa webpush \uC6F9\uD478\uC2DC","permalink":"/docs/angular/angular worker service worker webpush \uC6F9 \uD478\uC2DC - PWA"},"next":{"title":"angular zone.js","permalink":"/docs/angular/angular zonejs"}}'),o=n(447259),t=n(255511);let s={},l="angular web worker",c={},i=[{value:"generate",id:"generate",level:2},{value:"name.worker.ts",id:"nameworkerts",level:2},{value:"tsconfig.worker.json",id:"tsconfigworkerjson",level:2},{value:"angular.json",id:"angularjson",level:2},{value:"usage",id:"usage",level:2}];function u(e){let r={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"angular-web-worker",children:"angular web worker"})}),"\n",(0,o.jsx)(r.h2,{id:"generate",children:"generate"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sh",children:"ng generate web-worker <name>\n"})}),"\n",(0,o.jsx)(r.h2,{id:"nameworkerts",children:"name.worker.ts"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:'/// <reference lib="webworker" />\r\n\r\naddEventListener("message", ({ data }) => {\r\n  const response = `worker response to ${data}`;\r\n  postMessage(response);\r\n});\n'})}),"\n",(0,o.jsx)(r.h2,{id:"tsconfigworkerjson",children:"tsconfig.worker.json"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-json",children:'/* To learn more about this file see: https://angular.io/config/tsconfig. */\r\n{\r\n  "extends": "./tsconfig.json",\r\n  "compilerOptions": {\r\n    "outDir": "./out-tsc/worker",\r\n    "lib": ["es2018", "webworker"],\r\n    "types": []\r\n  },\r\n  "include": ["src/**/*.worker.ts"]\r\n}\n'})}),"\n",(0,o.jsx)(r.h2,{id:"angularjson",children:"angular.json"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:'"webWorkerTsConfig": "tsconfig.worker.json"\n'})}),"\n",(0,o.jsx)(r.h2,{id:"usage",children:"usage"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:'import { Component } from "@angular/core";\r\n\r\n@Component({\r\n  selector: "app-root",\r\n  templateUrl: "./app.component.html",\r\n  styleUrls: ["./app.component.scss"],\r\n})\r\nexport class AppComponent {\r\n  factorialResult!: number;\r\n  factorialInput: number = 1;\r\n\r\n  constructor() {\r\n    this.calculateFactorial();\r\n  }\r\n\r\n  calculateFactorial() {\r\n    if (typeof Worker !== "undefined") {\r\n      // Create a new\r\n      const worker = new Worker(new URL("./app.worker", import.meta.url));\r\n      worker.onmessage = ({ data }) => {\r\n        this.factorialResult = data;\r\n      };\r\n      worker.postMessage(this.factorialInput);\r\n    } else {\r\n      // Web Workers are not supported in this environment.\r\n      // You should add a fallback so that your program still executes correctly.\r\n    }\r\n  }\r\n}\n'})})]})}function d(e={}){let{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},255511:function(e,r,n){n.d(r,{R:()=>s,x:()=>l});var a=n(596363);let o={},t=a.createContext(o);function s(e){let r=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(t.Provider,{value:r},e.children)}}}]);