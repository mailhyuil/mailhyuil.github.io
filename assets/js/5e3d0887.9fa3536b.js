"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[779535],{529087:(n,e,o)=>{o.d(e,{R:()=>t,x:()=>l});var c=o(596363);const r={},s=c.createContext(r);function t(n){const e=c.useContext(s);return c.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),c.createElement(s.Provider,{value:e},n.children)}},874529:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"linux/linux package knockd","title":"linux package knockd","description":"port\uc5d0 syn \ud328\ud0b7\uc744 \uc77c\uc815 \ud328\ud134\uc73c\ub85c \uc804\uc1a1\ud558\uc5ec \ubc29\ud654\ubcbd\uc744 \uc5f4\uace0 \ub2eb\ub294 \ud328\ud0a4\uc9c0","source":"@site/docs/linux/linux package knockd.md","sourceDirName":"linux","slug":"/linux/linux package knockd","permalink":"/docs/linux/linux package knockd","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"linux base gpg (GNU Privacy Guard)","permalink":"/docs/linux/linux package gnupg - gpg"},"next":{"title":"linux package logrotate","permalink":"/docs/linux/linux package logrotate"}}');var r=o(447259),s=o(529087);const t={},l="linux package knockd",i={},a=[{value:"install",id:"install",level:2},{value:"/etc/knockd.conf",id:"etcknockdconf",level:2},{value:"browser\ub85c knock \ud558\uae30",id:"browser\ub85c-knock-\ud558\uae30",level:2}];function p(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"linux-package-knockd",children:"linux package knockd"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"port\uc5d0 syn \ud328\ud0b7\uc744 \uc77c\uc815 \ud328\ud134\uc73c\ub85c \uc804\uc1a1\ud558\uc5ec \ubc29\ud654\ubcbd\uc744 \uc5f4\uace0 \ub2eb\ub294 \ud328\ud0a4\uc9c0"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"install",children:"install"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"sudo apt install knockd\n"})}),"\n",(0,r.jsx)(e.h2,{id:"etcknockdconf",children:"/etc/knockd.conf"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"7000,8000,9000 is the sequence of ports to knock on"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"9000,8000,7000 is the sequence of ports to knock on to close the port"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"# iptables\r\n[openSSH]\r\n    sequence    = 7000,8000,9000\r\n    seq_timeout = 5\r\n    command     = /usr/sbin/iptables -A INPUT -s %IP% -p tcp --dport 22 -j ACCEPT\r\n    tcpflags    = syn\r\n\r\n[closeSSH]\r\n    sequence    = 9000,8000,7000\r\n    seq_timeout = 5\r\n    command     = /usr/sbin/iptables -D INPUT -s %IP% -p tcp --dport 22 -j ACCEPT\r\n    tcpflags    = syn\r\n\r\n# ufw\r\n[openSSH]\r\n    sequence    = 7000,8000,9000\r\n    seq_timeout = 5\r\n    command     = /usr/sbin/ufw allow from %IP% to any port 22 proto tcp\r\n    tcpflags    = syn\r\n\r\n[closeSSH]\r\n    sequence    = 9000,8000,7000\r\n    seq_timeout = 5\r\n    command     = /usr/sbin/ufw delete allow from %IP% to any port 22 proto tcp\r\n    tcpflags    = syn\n"})}),"\n",(0,r.jsx)(e.h2,{id:"browser\ub85c-knock-\ud558\uae30",children:"browser\ub85c knock \ud558\uae30"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\ube0c\ub77c\uc6b0\uc800 url\ub85c\ub294 \uc5f0\uacb0\uc774 \uc548\ub41c\ub2e4\uace0 \uc0dd\uac01\ud574\uc11c \uc560\ucd08\uc5d0 \uc694\uccad\uc744 \uc548\ub0a0\ub9b4 \uc218 \uc788\uc74c"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"fetch\ub294 sop\ub85c \ub9c9\ud600\uc788\uc74c"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"img, script \ud0dc\uadf8 \ub4f1\uc744 \uc0ac\uc6a9\ud558\uba74 \uac00\ub2a5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-html",children:'<img src="http://my.server.com:7000/knock.jpg" />\r\n<img src="http://my.server.com:8000/knock.jpg" />\r\n<img src="http://my.server.com:9000/knock.jpg" />\n'})})]})}function u(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(p,{...n})}):p(n)}}}]);