"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["546134"],{719506:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>s,toc:()=>l,default:()=>h,metadata:()=>t,assets:()=>c,contentTitle:()=>o});var t=JSON.parse('{"id":"x interactive/threejs + angular","title":"threejs + angular","description":"install","source":"@site/docs/x interactive/threejs + angular.md","sourceDirName":"x interactive","slug":"/x interactive/threejs + angular","permalink":"/docs/x interactive/threejs + angular","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"svg","permalink":"/docs/x interactive/svg \uB3C4\uD615"},"next":{"title":"threejs-\uD30C\uC77C \uBD88\uB7EC\uC624\uAE30","permalink":"/docs/x interactive/threejs \uD30C\uC77C \uBD88\uB7EC\uC624\uAE30"}}'),i=r(447259),a=r(255511);let s={},o="threejs + angular",c={},l=[{value:"install",id:"install",level:2},{value:"three.component.html",id:"threecomponenthtml",level:2},{value:"three.component.ts",id:"threecomponentts",level:2}];function p(e){let n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"threejs--angular",children:"threejs + angular"})}),"\n",(0,i.jsx)(n.h2,{id:"install",children:"install"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"yarn add three\r\nyarn add @types/three\n"})}),"\n",(0,i.jsx)(n.h2,{id:"threecomponenthtml",children:"three.component.html"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<canvas #canvas style="height: 100%; width: 100%"></canvas>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"threecomponentts",children:"three.component.ts"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { AfterViewInit, Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\r\nimport * as THREE from 'three';\r\n\r\n@Component({\r\n  selector: 'app-three',\r\n  templateUrl: './three.component.html',\r\n  styleUrls: ['./three.component.scss'],\r\n})\r\nexport class ThreeComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('canvas')\r\n  private canvasRef: ElementRef;\r\n\r\n  //* Three Properties\r\n\r\n  @Input() public rotationSpeedX: number = 0.05;\r\n\r\n  @Input() public rotationSpeedY: number = 0.01;\r\n\r\n  @Input() public size: number = 200;\r\n\r\n  @Input() public texture: string = '/assets/img.jpg';\r\n\r\n  //* Stage Properties\r\n\r\n  @Input() public cameraZ: number = 400;\r\n\r\n  @Input() public fieldOfView: number = 1;\r\n\r\n  @Input('nearClipping') public nearClippingPlane: number = 1;\r\n\r\n  @Input('farClipping') public farClippingPlane: number = 1000;\r\n\r\n  //? Helper Properties (Private Properties);\r\n\r\n  private camera!: THREE.PerspectiveCamera;\r\n\r\n  private get canvas(): HTMLCanvasElement {\r\n    return this.canvasRef.nativeElement;\r\n  }\r\n  private loader = new THREE.TextureLoader();\r\n  private geometry = new THREE.BoxGeometry(1, 1, 1);\r\n  private material = new THREE.MeshBasicMaterial({\r\n    map: this.loader.load(this.texture),\r\n  });\r\n\r\n  private three: THREE.Mesh = new THREE.Mesh(this.geometry, this.material);\r\n\r\n  private renderer!: THREE.WebGLRenderer;\r\n\r\n  private scene!: THREE.Scene;\r\n\r\n  /**\r\n   *Animate the three\r\n   *\r\n   * @private\r\n   * @memberof ThreeComponent\r\n   */\r\n  private animateThree() {\r\n    this.three.rotation.x += this.rotationSpeedX;\r\n    this.three.rotation.y += this.rotationSpeedY;\r\n  }\r\n\r\n  /**\r\n   * Create the scene\r\n   *\r\n   * @private\r\n   * @memberof ThreeComponent\r\n   */\r\n  private createScene() {\r\n    //* Scene\r\n    this.scene = new THREE.Scene();\r\n    this.scene.background = new THREE.Color(0x000000);\r\n    this.scene.add(this.three);\r\n    //*Camera\r\n    let aspectRatio = this.getAspectRatio();\r\n    this.camera = new THREE.PerspectiveCamera(this.fieldOfView, aspectRatio, this.nearClippingPlane, this.farClippingPlane);\r\n    this.camera.position.z = this.cameraZ;\r\n  }\r\n\r\n  private getAspectRatio() {\r\n    return this.canvas.clientWidth / this.canvas.clientHeight;\r\n  }\r\n\r\n  /**\r\n   * Start the rendering loop\r\n   *\r\n   * @private\r\n   * @memberof ThreeComponent\r\n   */\r\n  private startRenderingLoop() {\r\n    //* Renderer\r\n    // Use canvas element in template\r\n    this.renderer = new THREE.WebGLRenderer({ canvas: this.canvas });\r\n    this.renderer.setPixelRatio(devicePixelRatio);\r\n    this.renderer.setSize(this.canvas.clientWidth, this.canvas.clientHeight);\r\n\r\n    let component: ThreeComponent = this;\r\n    (function render() {\r\n      requestAnimationFrame(render);\r\n      component.animateThree();\r\n      component.renderer.render(component.scene, component.camera);\r\n    })();\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngAfterViewInit() {\r\n    this.createScene();\r\n    this.startRenderingLoop();\r\n  }\r\n}\n"})})]})}function h(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},255511:function(e,n,r){r.d(n,{R:()=>s,x:()=>o});var t=r(596363);let i={},a=t.createContext(i);function s(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);