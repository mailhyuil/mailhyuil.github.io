"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[226593],{529087:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var r=s(596363);const t={},c=r.createContext(t);function o(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(c.Provider,{value:n},e.children)}},639331:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"nodejs/nodejs helmet","title":"nodejs helmet","description":"\ubcf4\uc548\uc5d0 \ud544\uc694\ud55c \ud5e4\ub354\ub4e4\uc744 \uc790\ub3d9\uc73c\ub85c \uc804\ubd80 \ucd94\uac00\ud574\uc900\ub2e4.","source":"@site/docs/nodejs/nodejs helmet.md","sourceDirName":"nodejs","slug":"/nodejs/nodejs helmet","permalink":"/docs/nodejs/nodejs helmet","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nodejs glob","permalink":"/docs/nodejs/nodejs glob - shell pattern matching"},"next":{"title":"sharp (\uc774\ubbf8\uc9c0 \ub9ac\uc0ac\uc774\uc9d5)","permalink":"/docs/nodejs/nodejs image resize - sharp"}}');var t=s(447259),c=s(529087);const o={},l="nodejs helmet",i={},a=[{value:"CSP (content-security-policy)",id:"csp-content-security-policy",level:2},{value:"default CSP",id:"default-csp",level:3},{value:"CORP (cross-origin-resource-policy)",id:"corp-cross-origin-resource-policy",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"nodejs-helmet",children:"nodejs helmet"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\ubcf4\uc548\uc5d0 \ud544\uc694\ud55c \ud5e4\ub354\ub4e4\uc744 \uc790\ub3d9\uc73c\ub85c \uc804\ubd80 \ucd94\uac00\ud574\uc900\ub2e4."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"csp-content-security-policy",children:"CSP (content-security-policy)"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"CSP\ub97c \uc0ac\uc6a9\ud558\uba74 \uc6f9\uc0ac\uc774\ud2b8\uc758 http\uc751\ub2f5\uc5d0 CSP \ud5e4\ub354\uac00 \ucd94\uac00\ub41c\ub2e4."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"CSP \ud5e4\ub354\uac00 \uc874\uc7ac\ud560 \uacbd\uc6b0, \ube0c\ub77c\uc6b0\uc800\ub294 CSP \ud5e4\ub354\uc5d0 \uc5b8\uae09\ub418\uc9c0 \uc54a\uc740 \ub9ac\uc18c\uc2a4\ub4e4\uc744 \ub2e4\uc74c\uacfc \uac19\uc774 \ub85c\ub4dc\ud558\uc9c0 \uc54a\uac8c\ub41c\ub2e4."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Helmet\uc758 CSP \uae30\ubcf8\uc124\uc815\uc740 \u2018self\u2019 (i.e. \uc790\uc2e0\uc758 \uc6f9\uc0ac\uc774\ud2b8\uc5d0 \uc874\uc7ac\ud558\ub294 \ub9ac\uc18c\uc2a4\ub4e4\ub9cc\uc744 \ud5c8\uc6a9\ud558\uae30 \ub54c\ubb38\uc774\ub2e4.)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'/** Security */\r\napp.use(\r\n  helmet({\r\n    contentSecurityPolicy: {\r\n      directives: {\r\n        defaultSrc: [`\'self\'`],\r\n        /* \r\n            none : \uc5b4\ub5b3 \uac83\ub3c4 \ud5c8\uc6a9\ud558\uc9c0 \uc54a\uc74c\r\n            self : \ud604\uc7ac \ucd9c\ucc98\uc5d0\uc11c\ub294 \ud5c8\uc6a9\ud558\uc9c0\ub9cc \ud558\uc704 \ub3c4\uba54\uc778\uc5d0\uc11c\ub294 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc74c\r\n            unsafe-inline : \uc778\ub77c\uc778 \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8, \uc778\ub77c\uc778 \uc2a4\ud0c0\uc77c\uc744 \ud5c8\uc6a9\r\n            unsafe-eval\t: eval\uacfc \uac19\uc740 \ud14d\uc2a4\ud2b8 \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \uba54\ucee4\ub2c8\uc998\uc744 \ud5c8\uc6a9 \r\n        */\r\n        // \uad6c\uae00 API \ub3c4\uba54\uc778\uacfc \uc778\ub77c\uc778 \uc2a4\ud06c\ub9bd\ud2b8, eval \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ud5c8\uc6a9\r\n        "script-src": ["\'self\'", "*.googleapis.com", "\'unsafe-inline\'", "\'unsafe-eval\'"],\r\n\r\n        // \ub2e4\uc74c\uacfc \uce74\uce74\uc624\uc5d0\uc11c \uc774\ubbf8\uc9c0 \uc18c\uc2a4\ub97c \ud5c8\uc6a9\r\n        "img-src": ["\'self\'", "data:", "*.daumcdn.net", "*.kakaocdn.net"],\r\n\r\n        // \uc18c\uc2a4\uc5d0 https\uc640 http \ud5c8\uc6a9\r\n        "base-uri": ["/", "http:"],\r\n      },\r\n    },\r\n  }),\r\n);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"default-csp",children:"default CSP"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-txt",children:"default-src 'self';\r\nbase-uri 'self';\r\nfont-src 'self' https: data:;\r\nform-action 'self';\r\nframe-ancestors 'self';\r\nimg-src 'self' data:;\r\nobject-src 'none';\r\nscript-src 'self';\r\nscript-src-attr 'none';\r\nstyle-src 'self' https: 'unsafe-inline';\r\nupgrade-insecure-requests\n"})}),"\n",(0,t.jsx)(n.h2,{id:"corp-cross-origin-resource-policy",children:"CORP (cross-origin-resource-policy)"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\uc11c\ubc84\uc758 \uc815\uc801 \ub9ac\uc18c\uc2a4(\uc774\ubbf8\uc9c0, \ud3f0\ud2b8, JavaScript \ub4f1)\ub97c \ub2e4\ub978 \ub3c4\uba54\uc778\uc758 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \ubd88\ub7ec\uc624\ub294 \uac83\uc744 \ud5c8\uc6a9\ud560\uc9c0 \uc5ec\ubd80\ub97c \uacb0\uc815"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'app.use(\r\n  helmet({\r\n    crossOriginResourcePolicy: { policy: "cross-origin" },\r\n  }),\r\n);\n'})})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);