"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[238647],{6521:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"flutter & dart/flutter feature Location - GPS","title":"flutter Location","description":"install","source":"@site/docs/flutter & dart/flutter feature Location - GPS.md","sourceDirName":"flutter & dart","slug":"/flutter & dart/flutter feature Location - GPS","permalink":"/docs/flutter & dart/flutter feature Location - GPS","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"flutter Image Picker","permalink":"/docs/flutter & dart/flutter feature Image Picker"},"next":{"title":"flutter geolocator","permalink":"/docs/flutter & dart/flutter feature Location geolocator"}}');var a=r(447259),i=r(529087);const o={},s="flutter Location",l={},c=[{value:"install",id:"install",level:2},{value:"android/app/src/main/AndroidManifest.xml",id:"androidappsrcmainandroidmanifestxml",level:2},{value:"ios/Runner/info.plist",id:"iosrunnerinfoplist",level:2},{value:"usage",id:"usage",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"flutter-location",children:"flutter Location"})}),"\n",(0,a.jsx)(n.h2,{id:"install",children:"install"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"flutter pub add location\n"})}),"\n",(0,a.jsx)(n.h2,{id:"androidappsrcmainandroidmanifestxml",children:"android/app/src/main/AndroidManifest.xml"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />\r\n<uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION"/>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"iosrunnerinfoplist",children:"ios/Runner/info.plist"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<key>NSLocationWhenInUseUsageDescription</key>\r\n<string>This app needs GPS to track near something</string> \x3c!-- \uc65c \uc774 \uae30\ub2a5\uc774 \ud544\uc694\ud55c\uc9c0 \uc791\uc131 --\x3e\r\n\r\n<key>UIBackgroundModes</key> \x3c!-- Background Mode \uc5d0\uc11c \ud544\uc694\ud558\uba74 \uc0ac\uc6a9 --\x3e\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-dart",children:"import 'package:flutter/material.dart';\r\nimport 'package:location/location.dart';\r\n\r\nclass LocationScreen extends StatefulWidget {\r\n  const LocationScreen({Key? key}) : super(key: key);\r\n\r\n  @override\r\n  State<LocationScreen> createState() => _LocationScreenState();\r\n}\r\n\r\nclass _LocationScreenState extends State<LocationScreen> {\r\n  @override\r\n  void initState() async {\r\n    super.initState();\r\n    Location location = Location();\r\n\r\n    bool serviceEnabled;\r\n    PermissionStatus permissionGranted;\r\n    LocationData locationData;\r\n\r\n    serviceEnabled = await location.serviceEnabled();\r\n    if (!serviceEnabled) {\r\n      serviceEnabled = await location.requestService();\r\n      if (!serviceEnabled) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    permissionGranted = await location.hasPermission();\r\n    if (permissionGranted == PermissionStatus.denied) {\r\n      permissionGranted = await location.requestPermission();\r\n      if (permissionGranted != PermissionStatus.granted) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    locationData = await location.getLocation();\r\n    print(locationData);\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    // TODO: implement build\r\n    throw UnimplementedError();\r\n  }\r\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},529087:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>s});var t=r(596363);const a={},i=t.createContext(a);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);