"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["197505"],{136092:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>s,toc:()=>t,default:()=>u,metadata:()=>o,assets:()=>i,contentTitle:()=>d});var o=JSON.parse('{"id":"c++/c++ node-gyp","title":"c++ node-gyp","description":"Nodejs \uB124\uC774\uD2F0\uBE0C \uC560\uB4DC\uC628 \uBE4C\uB4DC \uD234","source":"@site/docs/c++/c++ node-gyp.md","sourceDirName":"c++","slug":"/c++/c++ node-gyp","permalink":"/docs/c++/c++ node-gyp","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"c++ make & Makefile","permalink":"/docs/c++/c++ make"},"next":{"title":"Cache","permalink":"/docs/category/cache"}}'),r=l(447259),c=l(255511);let s={},d="c++ node-gyp",i={},t=[{value:"install",id:"install",level:2},{value:"hello.cc",id:"hellocc",level:2},{value:"binding.gyp",id:"bindinggyp",level:2},{value:"build",id:"build",level:2},{value:"main.js",id:"mainjs",level:2}];function a(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"c-node-gyp",children:"c++ node-gyp"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Nodejs \uB124\uC774\uD2F0\uBE0C \uC560\uB4DC\uC628 \uBE4C\uB4DC \uD234"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uB85C\uCEEC \uCEF4\uD4E8\uD130\uC5D0\uC11C \uC124\uCE58\uB41C Python, make, clang\uC744 \uC0AC\uC6A9"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"<node.h> path"})}),"\n",(0,r.jsxs)(n.p,{children:["(\uC708\uB3C4\uC6B0: ",(0,r.jsx)(n.code,{children:"C:\\Users\\<UserName>\\AppData\\Local\\node-gyp\\Cache\\<NodeVersion>\\include\\node"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:["(\uB9E5: ",(0,r.jsx)(n.code,{children:"/usr/local/include/node"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"install",children:"install"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'visual studio build tools \uC124\uCE58 ("Desktop development with C++" workload\uB97C \uD3EC\uD568)\r\npython \uC124\uCE58 (\uC708\uB3C4\uC6B0: \uD658\uACBD\uBCC0\uC218 \uCD94\uAC00)\r\nnpm i -g node-gyp\n'})}),"\n",(0,r.jsx)(n.h2,{id:"hellocc",children:"hello.cc"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'// hello.cc\r\n#include <node.h>\r\n\r\nnamespace demo {\r\n\r\nusing v8::FunctionCallbackInfo;\r\nusing v8::Isolate;\r\nusing v8::Local;\r\nusing v8::Object;\r\nusing v8::String;\r\nusing v8::Value;\r\n\r\n// Method \uC815\uC758\r\nvoid MyCustomMethod(const FunctionCallbackInfo<Value>& args) {\r\n  Isolate* isolate = args.GetIsolate();\r\n  args.GetReturnValue().Set(String::NewFromUtf8(\r\n      isolate, "Hello World!!!").ToLocalChecked());\r\n}\r\n\r\n// \uD544\uC218\r\nvoid Initialize(Local<Object> exports) {\r\n  NODE_SET_METHOD(exports, "sayHello", MyCustomMethod);\r\n}\r\n\r\n// \uD544\uC218\r\nNODE_MODULE(NODE_GYP_MODULE_NAME, Initialize)\r\n\r\n}  // namespace demo\n'})}),"\n",(0,r.jsx)(n.h2,{id:"bindinggyp",children:"binding.gyp"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gyp",children:'{\r\n  "targets": [\r\n    {\r\n      "target_name": "addon",\r\n      "sources": [ "hello.cc" ]\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"build",children:"build"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"node-gyp configure # makefile \uC0DD\uC131\r\nnode-gyp build # \uBE4C\uB4DC\n"})}),"\n",(0,r.jsx)(n.h2,{id:"mainjs",children:"main.js"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const addon = require(\"./build/Release/addon.node\");\r\n\r\nconsole.log(addon.sayHello()); // 'Hello World!!!'\n"})})]})}function u(e={}){let{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},255511:function(e,n,l){l.d(n,{R:()=>s,x:()=>d});var o=l(596363);let r={},c=o.createContext(r);function s(e){let n=o.useContext(c);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(c.Provider,{value:n},e.children)}}}]);