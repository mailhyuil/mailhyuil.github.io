"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["530702"],{897037:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>o,toc:()=>s,default:()=>g,metadata:()=>a,assets:()=>l,contentTitle:()=>c});var a=JSON.parse('{"id":"frontend/webapi navigation","title":"webapi navigation","description":"navigating","source":"@site/docs/frontend/webapi navigation.md","sourceDirName":"frontend","slug":"/frontend/webapi navigation","permalink":"/docs/frontend/webapi navigation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"window.origin","permalink":"/docs/frontend/webapi location origin"},"next":{"title":"window navigator copy to clipboard","permalink":"/docs/frontend/webapi navigator clipboard"}}'),r=t(447259),i=t(255511);let o={},c="webapi navigation",l={},s=[{value:"navigating",id:"navigating",level:2},{value:"scrolling",id:"scrolling",level:2}];function d(n){let e={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"webapi-navigation",children:"webapi navigation"})}),"\n",(0,r.jsx)(e.h2,{id:"navigating",children:"navigating"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'navigation.addEventListener("navigate", (navigateEvent) => {\r\n  if (shouldNotIntercept(navigateEvent)) return;\r\n\r\n  const url = new URL(navigateEvent.destination.url);\r\n\r\n  if (url.pathname.startsWith("/articles/")) {\r\n    navigateEvent.intercept({\r\n      async handler() {\r\n        renderArticlePagePlaceholder();\r\n        const articleContentURL = new URL("/get-article-content", location.href);\r\n        articleContentURL.searchParams.set("path", url.pathname);\r\n        const response = await fetch(articleContentURL, {\r\n          signal: navigateEvent.signal,\r\n        });\r\n        const articleContent = await response.json();\r\n        renderArticlePage(articleContent);\r\n      },\r\n    });\r\n  }\r\n});\n'})}),"\n",(0,r.jsx)(e.h2,{id:"scrolling",children:"scrolling"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'navigation.addEventListener("navigate", (navigateEvent) => {\r\n  if (shouldNotIntercept(navigateEvent)) return;\r\n\r\n  const url = new URL(navigateEvent.destination.url);\r\n\r\n  if (url.pathname.startsWith("/articles/")) {\r\n    navigateEvent.intercept({\r\n      async handler() {\r\n        const articleContent = await getArticleContent(url.pathname);\r\n        renderArticlePage(articleContent);\r\n        navigateEvent.scroll();\r\n        const secondaryContent = await getSecondaryContent(url.pathname);\r\n        addSecondaryContent(secondaryContent);\r\n      },\r\n    });\r\n  }\r\n});\n'})})]})}function g(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},255511:function(n,e,t){t.d(e,{R:()=>o,x:()=>c});var a=t(596363);let r={},i=a.createContext(r);function o(n){let e=a.useContext(i);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),a.createElement(i.Provider,{value:e},n.children)}}}]);