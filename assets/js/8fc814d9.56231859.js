"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["339535"],{839524:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>a,toc:()=>l,default:()=>m,metadata:()=>t,assets:()=>d,contentTitle:()=>i});var t=JSON.parse('{"id":"nodejs/nodejs module wasi - wasm","title":"nodejs module wasi (WebAssembly System Interface)","description":"node 20 \uC774\uC0C1\uBD80\uD130 \uB0B4\uC7A5\uB41C wasm \uBAA8\uB4C8","source":"@site/docs/nodejs/nodejs module wasi - wasm.md","sourceDirName":"nodejs","slug":"/nodejs/nodejs module wasi - wasm","permalink":"/docs/nodejs/nodejs module wasi - wasm","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"util","permalink":"/docs/nodejs/nodejs module util"},"next":{"title":"node zlib","permalink":"/docs/nodejs/nodejs module zlib"}}'),o=s(447259),r=s(255511);let a={},i="nodejs module wasi (WebAssembly System Interface)",d={},l=[];function c(e){let n={blockquote:"blockquote",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"nodejs-module-wasi-webassembly-system-interface",children:"nodejs module wasi (WebAssembly System Interface)"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"node 20 \uC774\uC0C1\uBD80\uD130 \uB0B4\uC7A5\uB41C wasm \uBAA8\uB4C8"}),"\n",(0,o.jsx)(n.p,{children:"20 \uC774\uD558\uC5D0\uC11C\uB294 npm install wasi\uB85C \uC124\uCE58 \uAC00\uB2A5"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"WebAssembly\uB294 \uC6D0\uB798 \uBE0C\uB77C\uC6B0\uC800\uC6A9\uC73C\uB85C \uB9CC\uB4E4\uC5B4\uC838\uC11C \uD30C\uC77C \uC77D\uAE30, \uB124\uD2B8\uC6CC\uD06C \uC694\uCCAD, os \uAE30\uB2A5\uC744 \uC81C\uACF5\uD558\uC9C0 \uC54A\uC74C"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\uADF8\uAC78 \uD574\uACB0\uD574\uC8FC\uB294 interface\uAC00 wasi"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'const { WASI } = require("wasi");\r\n\r\n// wasm buffer \uC77D\uAE30\r\nconst wasmBuffer = fs.readFileSync(path.resolve(__dirname, "add.wasm"));\r\n\r\n// wasm buffer\uB97C \uCEF4\uD30C\uC77C\r\nconst wasmModule = await WebAssembly.compile(wasmBuffer);\r\n\r\n// \uCEF4\uD30C\uC77C\uB41C wasm \uBAA8\uB4C8\uC744 \uC778\uC2A4\uD134\uC2A4\uD654\r\nconst wasi = new WASI({\r\n  version: "preview1",\r\n});\r\nconst importObject = { wasi_snapshot_preview1: wasi.wasiImport };\r\nconst instance = await WebAssembly.instantiate(wasmModule, importObject);\r\nwasi.start(instance); // wasi\uB85C instance\uB97C monkey patch\r\n\r\nconst result = instance.exports.add(5, 7);\n'})})]})}function m(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},255511:function(e,n,s){s.d(n,{R:()=>a,x:()=>i});var t=s(596363);let o={},r=t.createContext(o);function a(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);