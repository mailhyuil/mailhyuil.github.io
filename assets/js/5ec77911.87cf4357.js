"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["673690"],{197156:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>o,toc:()=>a,default:()=>u,metadata:()=>s,assets:()=>i,contentTitle:()=>l});var s=JSON.parse('{"id":"nodejs/nodejs helmet","title":"nodejs helmet","description":"\uBCF4\uC548\uC5D0 \uD544\uC694\uD55C \uD5E4\uB354\uB4E4\uC744 \uC790\uB3D9\uC73C\uB85C \uC804\uBD80 \uCD94\uAC00\uD574\uC900\uB2E4.","source":"@site/docs/nodejs/nodejs helmet.md","sourceDirName":"nodejs","slug":"/nodejs/nodejs helmet","permalink":"/docs/nodejs/nodejs helmet","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nodejs glob","permalink":"/docs/nodejs/nodejs glob - shell pattern matching"},"next":{"title":"sharp (\uC774\uBBF8\uC9C0 \uB9AC\uC0AC\uC774\uC9D5)","permalink":"/docs/nodejs/nodejs image resize - sharp"}}'),t=r(447259),c=r(255511);let o={},l="nodejs helmet",i={},a=[{value:"CSP (content-security-policy)",id:"csp-content-security-policy",level:2},{value:"default CSP",id:"default-csp",level:3},{value:"CORP (cross-origin-resource-policy)",id:"corp-cross-origin-resource-policy",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"nodejs-helmet",children:"nodejs helmet"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\uBCF4\uC548\uC5D0 \uD544\uC694\uD55C \uD5E4\uB354\uB4E4\uC744 \uC790\uB3D9\uC73C\uB85C \uC804\uBD80 \uCD94\uAC00\uD574\uC900\uB2E4."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"csp-content-security-policy",children:"CSP (content-security-policy)"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"CSP\uB97C \uC0AC\uC6A9\uD558\uBA74 \uC6F9\uC0AC\uC774\uD2B8\uC758 http\uC751\uB2F5\uC5D0 CSP \uD5E4\uB354\uAC00 \uCD94\uAC00\uB41C\uB2E4."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"CSP \uD5E4\uB354\uAC00 \uC874\uC7AC\uD560 \uACBD\uC6B0, \uBE0C\uB77C\uC6B0\uC800\uB294 CSP \uD5E4\uB354\uC5D0 \uC5B8\uAE09\uB418\uC9C0 \uC54A\uC740 \uB9AC\uC18C\uC2A4\uB4E4\uC744 \uB2E4\uC74C\uACFC \uAC19\uC774 \uB85C\uB4DC\uD558\uC9C0 \uC54A\uAC8C\uB41C\uB2E4."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Helmet\uC758 CSP \uAE30\uBCF8\uC124\uC815\uC740 \u2018self\u2019 (i.e. \uC790\uC2E0\uC758 \uC6F9\uC0AC\uC774\uD2B8\uC5D0 \uC874\uC7AC\uD558\uB294 \uB9AC\uC18C\uC2A4\uB4E4\uB9CC\uC744 \uD5C8\uC6A9\uD558\uAE30 \uB54C\uBB38\uC774\uB2E4.)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'/** Security */\r\napp.use(\r\n  helmet({\r\n    contentSecurityPolicy: {\r\n      directives: {\r\n        defaultSrc: [`\'self\'`],\r\n        /* \r\n            none : \uC5B4\uB5B3 \uAC83\uB3C4 \uD5C8\uC6A9\uD558\uC9C0 \uC54A\uC74C\r\n            self : \uD604\uC7AC \uCD9C\uCC98\uC5D0\uC11C\uB294 \uD5C8\uC6A9\uD558\uC9C0\uB9CC \uD558\uC704 \uB3C4\uBA54\uC778\uC5D0\uC11C\uB294 \uD5C8\uC6A9\uB418\uC9C0 \uC54A\uC74C\r\n            unsafe-inline : \uC778\uB77C\uC778 \uC790\uBC14\uC2A4\uD06C\uB9BD\uD2B8, \uC778\uB77C\uC778 \uC2A4\uD0C0\uC77C\uC744 \uD5C8\uC6A9\r\n            unsafe-eval	: eval\uACFC \uAC19\uC740 \uD14D\uC2A4\uD2B8 \uC790\uBC14\uC2A4\uD06C\uB9BD\uD2B8 \uBA54\uCEE4\uB2C8\uC998\uC744 \uD5C8\uC6A9 \r\n        */\r\n        // \uAD6C\uAE00 API \uB3C4\uBA54\uC778\uACFC \uC778\uB77C\uC778 \uC2A4\uD06C\uB9BD\uD2B8, eval \uC2A4\uD06C\uB9BD\uD2B8\uB97C \uD5C8\uC6A9\r\n        "script-src": ["\'self\'", "*.googleapis.com", "\'unsafe-inline\'", "\'unsafe-eval\'"],\r\n\r\n        // \uB2E4\uC74C\uACFC \uCE74\uCE74\uC624\uC5D0\uC11C \uC774\uBBF8\uC9C0 \uC18C\uC2A4\uB97C \uD5C8\uC6A9\r\n        "img-src": ["\'self\'", "data:", "*.daumcdn.net", "*.kakaocdn.net"],\r\n\r\n        // \uC18C\uC2A4\uC5D0 https\uC640 http \uD5C8\uC6A9\r\n        "base-uri": ["/", "http:"],\r\n      },\r\n    },\r\n  }),\r\n);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"default-csp",children:"default CSP"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-txt",children:"default-src 'self';\r\nbase-uri 'self';\r\nfont-src 'self' https: data:;\r\nform-action 'self';\r\nframe-ancestors 'self';\r\nimg-src 'self' data:;\r\nobject-src 'none';\r\nscript-src 'self';\r\nscript-src-attr 'none';\r\nstyle-src 'self' https: 'unsafe-inline';\r\nupgrade-insecure-requests\n"})}),"\n",(0,t.jsx)(n.h2,{id:"corp-cross-origin-resource-policy",children:"CORP (cross-origin-resource-policy)"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\uC11C\uBC84\uC758 \uC815\uC801 \uB9AC\uC18C\uC2A4(\uC774\uBBF8\uC9C0, \uD3F0\uD2B8, JavaScript \uB4F1)\uB97C \uB2E4\uB978 \uB3C4\uBA54\uC778\uC758 \uBE0C\uB77C\uC6B0\uC800\uC5D0\uC11C \uBD88\uB7EC\uC624\uB294 \uAC83\uC744 \uD5C8\uC6A9\uD560\uC9C0 \uC5EC\uBD80\uB97C \uACB0\uC815"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'app.use(\r\n  helmet({\r\n    crossOriginResourcePolicy: { policy: "cross-origin" },\r\n  }),\r\n);\n'})})]})}function u(e={}){let{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},255511:function(e,n,r){r.d(n,{R:()=>o,x:()=>l});var s=r(596363);let t={},c=s.createContext(t);function o(e){let n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);