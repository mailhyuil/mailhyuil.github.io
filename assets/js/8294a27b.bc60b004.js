"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["614521"],{817611:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>s,toc:()=>a,default:()=>h,metadata:()=>t,assets:()=>c,contentTitle:()=>o});var t=JSON.parse('{"id":"frontend/webapi WebRTC - Real Time Communication","title":"webapi WebRTC (Real Time Communication)","description":"Nestjs\uB85C Signaling Server\uB97C \uAD6C\uD604","source":"@site/docs/frontend/webapi WebRTC - Real Time Communication.md","sourceDirName":"frontend","slug":"/frontend/webapi WebRTC - Real Time Communication","permalink":"/docs/frontend/webapi WebRTC - Real Time Communication","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"webapi WebAuthn (Web Authentication API) (FIDO2 = Fast IDentity Online)","permalink":"/docs/frontend/webapi WebAuthn - FIDO2 - passwordless"},"next":{"title":"webapi XMLHttpRequest Post method redirected to https","permalink":"/docs/frontend/webapi XMLHttpRequest POST method redirected to https"}}'),r=i(447259),l=i(255511);let s={},o="webapi WebRTC (Real Time Communication)",c={},a=[{value:"SDP (Session Description Protocol)",id:"sdp-session-description-protocol",level:2},{value:"ICE (Interactive Connectivity Establishment)",id:"ice-interactive-connectivity-establishment",level:2},{value:"STUN (Session Traversal Utilities for NAT)",id:"stun-session-traversal-utilities-for-nat",level:2},{value:"TURN (Traversal Using Relays around NAT)",id:"turn-traversal-using-relays-around-nat",level:2},{value:"RTCPeerConnection",id:"rtcpeerconnection",level:2},{value:"RTCDataChannel",id:"rtcdatachannel",level:2},{value:"ICE (Interactive Connectivity Establishment)",id:"ice-interactive-connectivity-establishment-1",level:2}];function d(e){let n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"webapi-webrtc-real-time-communication",children:"webapi WebRTC (Real Time Communication)"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Nestjs\uB85C Signaling Server\uB97C \uAD6C\uD604"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"sdp-session-description-protocol",children:"SDP (Session Description Protocol)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"peerConnection.localDescription"}),"\n",(0,r.jsx)(n.li,{children:"\uBBF8\uB514\uC5B4 \uC138\uC158\uC744 \uC124\uBA85\uD558\uB294 \uD504\uB85C\uD1A0\uCF5C"}),"\n",(0,r.jsx)(n.li,{children:"\uBBF8\uB514\uC5B4 \uC720\uD615, \uD3EC\uD2B8, \uCF54\uB371, \uD574\uC0C1\uB3C4 \uB4F1\uC758 \uC815\uBCF4\uB97C \uD3EC\uD568"}),"\n",(0,r.jsx)(n.li,{children:"WebRTC\uC5D0\uC11C\uB294 SDP\uB97C \uD1B5\uD574 \uBBF8\uB514\uC5B4 \uC815\uBCF4\uB97C \uAD50\uD658"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"ice-interactive-connectivity-establishment",children:"ICE (Interactive Connectivity Establishment)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'"WebRTC \uC5F0\uACB0\uC744 \uC124\uC815\uD558\uB294 \uC804\uCCB4 \uACFC\uC815"\uC744 \uB2F4\uB2F9\uD558\uB294 \uD504\uB85C\uD1A0\uCF5C'}),"\n",(0,r.jsx)(n.li,{children:"P2P \uC5F0\uACB0\uC744 \uC704\uD55C \uCD5C\uC801\uC758 \uB124\uD2B8\uC6CC\uD06C \uACBD\uB85C\uB97C \uD0D0\uC0C9"}),"\n",(0,r.jsx)(n.li,{children:"ice-candidate\uB780 \uB124\uD2B8\uC6CC\uD06C \uC815\uBCF4(ip, port)\uB97C \uAD50\uD658\uD558\uB294 \uAC83 (\uC9C1\uC811\uAD50\uD658, STUN\uC744 \uD1B5\uD55C \uAD50\uD658, TURN\uC744 \uD1B5\uD55C \uAD50\uD658)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"stun-session-traversal-utilities-for-nat",children:"STUN (Session Traversal Utilities for NAT)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"NAT \uB4A4\uC5D0 \uC788\uB294 \uD074\uB77C\uC774\uC5B8\uD2B8\uC758 \uACF5\uC6A9 IP \uC8FC\uC18C\uB97C \uCC3E\uC544\uC11C \uBC18\uD658\uD574\uC8FC\uB294 \uC11C\uBC84"}),"\n",(0,r.jsx)(n.li,{children:"NAT \uD658\uACBD\uC5D0\uC11C \uACF5\uC6A9 IP\uB97C \uCC3E\uC544 P2P \uC5F0\uACB0\uC744 \uAC00\uB2A5\uD558\uAC8C \uD574\uC90C"}),"\n",(0,r.jsx)(n.li,{children:"[Peer A - \uC0AC\uC124 IP] \u2192 (STUN \uC11C\uBC84) \u2192 [Peer B - \uC0AC\uC124 IP]"}),"\n",(0,r.jsx)(n.li,{children:"\uBB34\uB8CC \uC11C\uBE44\uC2A4\uAC00 \uB9CE\uB2E4 (\uC9C1\uC811 \uAD6C\uCD95\uD560 \uC218\uB3C4 \uC788\uC74C)"}),"\n",(0,r.jsxs)(n.li,{children:["google STUN \uC11C\uBC84: stun",":stun",".l.google.com:19302"]}),"\n",(0,r.jsxs)(n.li,{children:["twilio STUN \uC11C\uBC84: stun",":global",".stun.twilio.com"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"turn-traversal-using-relays-around-nat",children:"TURN (Traversal Using Relays around NAT)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uBC29\uD654\uBCBD\uC73C\uB85C \uC778\uD574 P2P \uC5F0\uACB0\uC774 \uBD88\uAC00\uB2A5\uD560 \uB54C \uC0AC\uC6A9\uD558\uB294 \uC11C\uBC84"}),"\n",(0,r.jsx)(n.li,{children:"P2P \uC5F0\uACB0\uC774 \uBD88\uAC00\uB2A5\uD560 \uB54C, TURN \uC11C\uBC84\uB97C \uD1B5\uD574 \uB370\uC774\uD130\uB97C \uC804\uB2EC"}),"\n",(0,r.jsx)(n.li,{children:"[Peer A] \u2192 (TURN \uC11C\uBC84 \uC911\uACC4) \u2192 [Peer B]"}),"\n",(0,r.jsx)(n.li,{children:"twilio, xirsys \uB4F1\uC744 \uC0AC\uC6A9 (\uB300\uBD80\uBD84 \uC720\uB8CC)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"rtcpeerconnection",children:"RTCPeerConnection"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"P2P \uC5F0\uACB0\uC744 \uC124\uC815\uD558\uB294 \uAC1D\uCCB4"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uC624\uB514\uC624/\uBE44\uB514\uC624 \uC2A4\uD2B8\uB9AC\uBC0D, \uB370\uC774\uD130 \uC804\uC1A1\uC744 \uB2F4\uB2F9"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uB124\uD2B8\uC6CC\uD06C \uC0C1\uD0DC \uAC10\uC9C0, \uB300\uC5ED\uD3ED \uC870\uC815 \uB4F1\uB3C4 \uC9C0\uC6D0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const peerConnection = new RTCPeerConnection();\n"})}),"\n",(0,r.jsx)(n.h2,{id:"rtcdatachannel",children:"RTCDataChannel"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"WebSocket \uC5C6\uC774\uB3C4 \uBE0C\uB77C\uC6B0\uC800 \uAC04 \uB370\uC774\uD130 \uC804\uC1A1 \uAC00\uB2A5"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"WebRTC \uC5F0\uACB0 \uC2DC \uC0AC\uC6A9 \uAC00\uB2A5"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'const dataChannel = peerConnection.createDataChannel("chat");\r\n\r\ndataChannel.onopen = () => {\r\n  dataChannel.send("Hello, WebRTC!");\r\n};\r\n\r\ndataChannel.onmessage = event => {\r\n  console.log("\uBC1B\uC740 \uBA54\uC2DC\uC9C0:", event.data);\r\n};\n'})}),"\n",(0,r.jsx)(n.h2,{id:"ice-interactive-connectivity-establishment-1",children:"ICE (Interactive Connectivity Establishment)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"P2P \uC5F0\uACB0\uC744 \uC704\uD55C \uB124\uD2B8\uC6CC\uD06C \uC815\uBCF4(ip, port) \uAD50\uD658"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"NAT \uD658\uACBD\uC5D0\uC11C\uB3C4 \uC5F0\uACB0\uC774 \uAC00\uB2A5\uD558\uB3C4\uB85D STUN, TURN \uC11C\uBC84\uB97C \uC0AC\uC6A9"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'const peerConnection = new RTCPeerConnection({\r\n  iceServers: [{ urls: "stun:stun.l.google.com:19302" }],\r\n});\r\n\r\npeerConnection.onicecandidate = event => {\r\n  if (event.candidate) {\r\n    console.log("ICE \uD6C4\uBCF4:", event.candidate);\r\n    // candidate\uB97C signal server\uB85C \uC804\uC1A1\r\n  }\r\n};\n'})})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},255511:function(e,n,i){i.d(n,{R:()=>s,x:()=>o});var t=i(596363);let r={},l=t.createContext(r);function s(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);