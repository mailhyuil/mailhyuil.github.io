"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[954599],{529087:(n,e,l)=>{l.d(e,{R:()=>o,x:()=>a});var c=l(596363);const s={},t=c.createContext(s);function o(n){const e=c.useContext(t);return c.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),c.createElement(t.Provider,{value:e},n.children)}},783674:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>r});const c=JSON.parse('{"id":"nginx/openResty lua directives","title":"OpenResty lua directives","description":"accessbylua_block","source":"@site/docs/nginx/openResty lua directives.md","sourceDirName":"nginx","slug":"/nginx/openResty lua directives","permalink":"/docs/nginx/openResty lua directives","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx \ud574\uc678 IP \ucc28\ub2e8","permalink":"/docs/nginx/nginx \ud574\uc678 IP \ucc28\ub2e8"},"next":{"title":"OpenResty ngx module","permalink":"/docs/nginx/openResty ngx module"}}');var s=l(447259),t=l(529087);const o={},a="OpenResty lua directives",i={},r=[{value:"access_by_lua_block",id:"access_by_lua_block",level:2},{value:"access_by_lua",id:"access_by_lua",level:2},{value:"content_by_lua_block",id:"content_by_lua_block",level:2},{value:"content_by_lua",id:"content_by_lua",level:2},{value:"content_by_lua_file",id:"content_by_lua_file",level:2}];function u(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"openresty-lua-directives",children:"OpenResty lua directives"})}),"\n",(0,s.jsx)(e.h2,{id:"access_by_lua_block",children:"access_by_lua_block"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\uc694\uccad\uc774 \ucc98\ub9ac\ub418\uae30 \uc804\uc5d0 \uc2e4\ud589"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"block \ub0b4\ubd80\uc5d0 lua script\ub97c \uc791\uc131"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-conf",children:'location / {\r\n    access_by_lua_block {\r\n        ngx.log(ngx.ERR, "\ud83d\udd0d Someone is accessing /")\r\n    }\r\n    root /usr/local/openresty/nginx/html;\r\n    index index.html;\r\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"access_by_lua",children:"access_by_lua"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\uc694\uccad\uc774 \ucc98\ub9ac\ub418\uae30 \uc804\uc5d0 \uc2e4\ud589"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"lua file\uc744 \uc9c0\uc815\ud574\uc11c \uc2e4\ud589"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-conf",children:"location / {\r\n    access_by_lua_file /etc/nginx/lua/access.lua;\r\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"content_by_lua_block",children:"content_by_lua_block"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\uc751\ub2f5\uc744 \uc9c1\uc811 \ucc98\ub9ac\ud558\ub294 \uc5ed\ud560"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"block \ub0b4\ubd80\uc5d0 lua script\ub97c \uc791\uc131"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-conf",children:'location /lua {\r\n    content_by_lua_block {\r\n        ngx.say("Hello, Lua!")\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"content_by_lua",children:"content_by_lua"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\uc751\ub2f5\uc744 \uc9c1\uc811 \ucc98\ub9ac\ud558\ub294 \uc5ed\ud560"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"lua file\uc744 \uc9c0\uc815\ud574\uc11c \uc2e4\ud589"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-conf",children:"location /lua {\r\n    content_by_lua_file /etc/nginx/lua/content.lua;\r\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"content_by_lua_file",children:"content_by_lua_file"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"content_by_lua\uc640 \ub3d9\uc77c"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-conf",children:"location /lua {\r\n    content_by_lua_file /etc/nginx/lua/response.lua;\r\n}\n"})})]})}function d(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}}}]);