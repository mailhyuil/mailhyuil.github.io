"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[503355],{529087:(n,e,r)=>{r.d(e,{R:()=>i,x:()=>o});var a=r(596363);const t={},s=a.createContext(t);function i(n){const e=a.useContext(s);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:i(n.components),a.createElement(s.Provider,{value:e},n.children)}},944588:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"nginx/nginx load balancing","title":"nginx load balancing","description":"upstream \uc0dd\uc131","source":"@site/docs/nginx/nginx load balancing.md","sourceDirName":"nginx","slug":"/nginx/nginx load balancing","permalink":"/docs/nginx/nginx load balancing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx load balancing","permalink":"/docs/nginx/nginx load balancing sticky session"},"next":{"title":"nginx module (built-in)","permalink":"/docs/nginx/nginx module built-in"}}');var t=r(447259),s=r(529087);const i={},o="nginx load balancing",l={},c=[{value:"\ubd80\ud558 \ubd84\uc0b0 \uaddc\uce59",id:"\ubd80\ud558-\ubd84\uc0b0-\uaddc\uce59",level:2},{value:"parameter",id:"parameter",level:2}];function d(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"nginx-load-balancing",children:"nginx load balancing"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"upstream \uc0dd\uc131"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"proxy_pass\uc744 upstream\uc73c\ub85c \uc124\uc815"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-conf",children:"upstream backend {\r\n    # \ubd80\ud558 \ubd84\uc0b0 \uaddc\uce59 \uc9c0\uc815\r\n    random; # random\r\n\r\n    server localhost:8080 weight=1; # \ud30c\ub77c\ubbf8\ud130\ub97c \uc904 \uc218 \uc788\ub2e4\r\n    server localhost:8081;\r\n}\r\nserver {\r\n    server_name  localhost;\r\n\r\n    listen       80; # e.g. listen 8080;\r\n    listen  [::]:80;\r\n\r\n    location / {\r\n        proxy_pass http://backend;\r\n    }\r\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\ubd80\ud558-\ubd84\uc0b0-\uaddc\uce59",children:"\ubd80\ud558 \ubd84\uc0b0 \uaddc\uce59"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-txt",children:"round-robin(\ub514\ud3f4\ud2b8) - \uadf8\ub0e5 \ub3cc\uc544\uac00\uba74\uc11c \ubd84\ubc30\ud55c\ub2e4.\r\n\r\nrandom - \uadf8\ub0e5 \ub79c\ub364\uc73c\ub85c \ubd84\ubc30\ud55c\ub2e4.\r\n\r\nleast_conn - \uc5f0\uacb0\uc218\uac00 \uac00\uc7a5 \uc801\uc740 \uc11c\ubc84\ub97c \uc120\ud0dd\ud574\uc11c \ubd84\ubc30, \uadfc\ub370 \uac00\uc911\uce58\ub97c \uace0\ub824\ud568\r\n\r\nleast_time - \uc5f0\uacb0\uc218\uac00 \uac00\uc790 \uc801\uc73c\uba74\uc11c \ud3c9\uade0 \uc751\ub2f5\uc2dc\uac04\uc774 \uac00\uc7a5 \uc801\uc740 \ucabd\uc744 \uc120\ud0dd\ud574\uc11c \ubd84\ubc30\r\n\r\n# hash\uc640 ip_hash\ub294 sticky session\uc744 \uad6c\ud604\ud560\ub54c \uc0ac\uc6a9\ud55c\ub2e4.\r\nhash - \ud574\uc2dc\ud55c \uac12\uc73c\ub85c \ubd84\ubc30\ud55c\ub2e4 \uc4f0\ub824\uba74 hash <\ud0a4> \ud615\ud0dc\ub85c \uc4f4\ub2e4. (e.g. hash $remote_addr <- \uc774\ub294 ip_hash\uc640 \uac19\ub2e4.)\r\n\r\nip_hash - \uc544\uc774\ud53c\ub85c \ud574\uc2f1\ud574\uc11c \ubd84\ubc30\ud55c\ub2e4.\r\n\r\nsticky - \ucfe0\ud0a4\ub85c \ubd84\ubc30\ud55c\ub2e4. (3rd-party \ubaa8\ub4c8 \ub610\ub294 NGINX Plus \uc608\uc2dc)\n"})}),"\n",(0,t.jsx)(e.h2,{id:"parameter",children:"parameter"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-txt",children:"weight - \uac00\uc911\uce58\ub97c \ub46c\uc11c \ub354\ub9ce\uc774 \uac00\uac8c \ud55c\ub2e4.\r\n\r\nmax_conns - \ucd5c\ub300 \uc5f0\uacb0 \ud55c\uacc4\ub97c \uc815\ud55c\ub2e4\r\n\r\nmax_fails - \ucd5c\ub300 \uc2e4\ud328 \ud55c\uacc4\ub97c \uc815\ud55c\ub2e4. \ucd5c\ub300 \uc2e4\ud328\ud69f\uc218\uc5d0 \ub3c4\ub2ec\ud558\uba74 \uc11c\ubc84\uac00 \uc8fd\uc740\uac83\uc73c\ub85c \uac04\uc8fc\ud55c\ub2e4.\r\n\r\nfail_timeout - \uc2dc\uac04\uc744 \uc815\ud55c\ub2e4. \uc774 \uc2dc\uac04\uc744 \ub118\uc5b4\uc11c\ub3c4 \uc751\ub2f5\ud558\uc9c0 \uc54a\uc73c\uba74 \uc11c\ubc84\uac00 \uc8fd\uc740\uac83\uc73c\ub85c \uac04\uc8fc\ud55c\ub2e4.\r\n\r\nbackup - \uc774 \uc11c\ubc84\ub294 \ubc31\uc5c5\uc11c\ubc84\ub85c \uac04\uc8fc\ud558\uace0 \ub2e4\ub978 \uba54\uc778 \uc11c\ubc84\uac00 \uc8fd\uc5c8\uc744\ub54c \ub3d9\uc791\ud55c\ub2e4. load balancing methods\uac00 hash\ub098 random\uc77c\ub54c\ub294 \ubb34\uc758\ubbf8\r\n\r\ndown - \ud45c\uc2dc\ud55c \uc11c\ubc84\ub294 \uc0ac\uc6a9\uce58 \uc54a\ub294\ub2e4.\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}}}]);