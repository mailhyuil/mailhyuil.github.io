# cache base 시간적 지역성 vs 공간적 지역성

지역성: 프로그램이 데이터나 명령어를 접근할 때, 특정 영역(공간) 안에서 집중적으로 접근하는 경향  
자주 사용되는 데이터나 또는 그 인접의 데이터들은 곧 다시 접근될 가능성이 높으니 캐시해라

## 시간적 지역성

최근에 접근한 데이터는 곧 다시 접근될 가능성이 높다는 성질.

- DB 파티셔닝: 시간대/범위별 데이터를 묶어서 I/O 효율 극대화
- 브라우저 캐시 (HTTP cache, Service Worker cache): 최근 접근한 데이터는 다시 접근할 수 있으니 캐시

```js
for (let i = 0; i < 1000; i++) {
  total += arr[0]; // 계속 같은 위치 접근
}
```

## 공간적 지역성

현재 접근한 데이터와 인접한 데이터가 곧 접근될 가능성이 높다는 성질.

- Redis key 설계 시 prefix를 묶어 캐시 효율 향상: 메모리 상에서 연속된 key들이 같은 hash slot이나 shard에 모이게 됨.
- Lazy loading / prefetching: 사용자가 다음 페이지로 이동할 가능성이 높은 리소스를 미리 캐싱

```js
for (int i = 0; i < 1000000; i++) {
  sum += arr[i]; // 순차 접근
}
```
